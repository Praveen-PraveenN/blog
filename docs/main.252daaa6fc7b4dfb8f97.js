(self.webpackChunkblogsite=self.webpackChunkblogsite||[]).push([[179],{8255:Ye=>{function we(F){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+F+"'");throw u.code="MODULE_NOT_FOUND",u})}we.keys=()=>[],we.resolve=we,we.id=8255,Ye.exports=we},7716:(Ye,we,F)=>{"use strict";F.d(we,{deG:()=>ef,tb:()=>vI,AFp:()=>Ab,ip1:()=>Um,CZH:()=>qu,hGG:()=>UI,z2F:()=>Gm,sBO:()=>KM,Sil:()=>Wu,_Vd:()=>Bu,EJc:()=>Rb,SBq:()=>bl,qLn:()=>Zd,vpe:()=>Pa,gxx:()=>nh,tBr:()=>ll,XFs:()=>Ve,OlP:()=>On,zs3:()=>Xn,ZZ4:()=>Hv,aQg:()=>vm,soG:()=>jm,YKP:()=>hT,v3s:()=>NF,h0i:()=>fh,PXZ:()=>PR,R0b:()=>js,FiY:()=>fa,Lbi:()=>_R,g9A:()=>xb,n_E:()=>bh,Qsj:()=>tT,FYo:()=>gm,JOm:()=>va,Tiy:()=>_m,q3G:()=>yn,tp0:()=>Nr,EAV:()=>UR,Rgc:()=>np,dDg:()=>Fb,DyG:()=>ua,q4F:()=>ym,GfV:()=>rT,s_b:()=>Cm,ifc:()=>Oe,eFA:()=>MI,G48:()=>OR,Gpc:()=>U,f3M:()=>sf,X6Q:()=>Bb,_c5:()=>LI,VLi:()=>II,c2e:()=>bI,zSh:()=>xf,wAp:()=>Ke,vHH:()=>De,EiD:()=>Zt,mCW:()=>tc,qzn:()=>_a,JVY:()=>ag,pB0:()=>Jl,eBb:()=>hf,L6k:()=>df,LAX:()=>Ro,cg1:()=>Dv,Tjo:()=>FI,kL8:()=>bC,yhl:()=>og,dqk:()=>Kt,sIi:()=>Ng,CqO:()=>Ky,QGY:()=>Yy,F4k:()=>Q0,RDi:()=>qh,AaK:()=>X,z3N:()=>xo,qOj:()=>C0,TTD:()=>ns,_Bn:()=>fm,xp6:()=>yy,uIk:()=>D0,Tol:()=>Aa,ekj:()=>Ir,Suo:()=>XT,Xpm:()=>Yn,lG2:()=>Dt,Yz7:()=>on,cJS:()=>pn,oAB:()=>Fe,Yjl:()=>xn,Y36:()=>$f,_UZ:()=>Z0,GkF:()=>Wy,qZA:()=>qy,TgZ:()=>zy,EpF:()=>Zy,n5z:()=>Dd,Ikx:()=>yl,LFG:()=>mn,$8M:()=>uu,NdJ:()=>Qy,CRH:()=>eI,kcU:()=>eu,O4$:()=>tl,oxw:()=>J0,Hsn:()=>aM,F$t:()=>X0,Q6J:()=>Vg,s9C:()=>eC,VKq:()=>ub,WLB:()=>qT,iGM:()=>Nm,MAs:()=>k0,Jf7:()=>Aw,CHM:()=>Za,LSH:()=>jd,kYT:()=>ft,Udp:()=>jg,WFA:()=>Ug,d8E:()=>Ou,YNc:()=>R0,_uU:()=>pM,Oqu:()=>zf,hij:()=>dv,Gf:()=>JT});var u=F(9765),j=F(5319),P=F(7574),le=F(6682),ce=F(8819);function K(i){for(let s in i)if(i[s]===K)return s;throw Error("Could not find renamed property on target object.")}function re(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function X(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(X).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ee(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const L=K({__forward_ref__:K});function U(i){return i.__forward_ref__=U,i.toString=function(){return X(this())},i}function B(i){return oe(i)?i():i}function oe(i){return"function"==typeof i&&i.hasOwnProperty(L)&&i.__forward_ref__===U}class De extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function ae(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ae(i)}function Lt(i,s){const a=s?` in ${s}`:"";throw new De("201",`No provider for ${_e(i)} found${a}`)}function Xt(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function on(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function pn(i){return{providers:i.providers||[],imports:i.imports||[]}}function en(i){return Qt(i,Re)||Qt(i,Un)}function Qt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Mi(i){return i&&(i.hasOwnProperty(En)||i.hasOwnProperty(hi))?i[En]:null}const Re=K({\u0275prov:K}),En=K({\u0275inj:K}),Un=K({ngInjectableDef:K}),hi=K({ngInjectorDef:K});var Ve=(()=>((Ve=Ve||{})[Ve.Default=0]="Default",Ve[Ve.Host=1]="Host",Ve[Ve.Self=2]="Self",Ve[Ve.SkipSelf=4]="SkipSelf",Ve[Ve.Optional=8]="Optional",Ve))();let zt;function jn(i){const s=zt;return zt=i,s}function it(i,s,a){const c=en(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ve.Optional?null:void 0!==s?s:void Lt(X(i),"Injector")}function Mt(i){return{toString:i}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),Oe=(()=>((Oe=Oe||{})[Oe.Emulated=0]="Emulated",Oe[Oe.None=2]="None",Oe[Oe.ShadowDom=3]="ShadowDom",Oe))();const et="undefined"!=typeof globalThis&&globalThis,ja="undefined"!=typeof window&&window,ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=et||"undefined"!=typeof global&&global||ja||ln,q={},z=[],W=K({\u0275cmp:K}),Ee=K({\u0275dir:K}),ue=K({\u0275pipe:K}),qe=K({\u0275mod:K}),ct=K({\u0275loc:K}),Wt=K({\u0275fac:K}),In=K({__NG_ELEMENT_ID__:K});let $n=0;function Yn(i){return Mt(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||z,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Oe.Emulated,id:"c",styles:i.styles||z,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,m=i.pipes;return c.id+=$n++,c.inputs=Ft(i.inputs,a),c.outputs=Ft(i.outputs),f&&f.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Y):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(Z):null,c})}function Y(i){return un(i)||function(i){return i[Ee]||null}(i)}function Z(i){return function(i){return i[ue]||null}(i)}const Te={};function Fe(i){return Mt(()=>{const s={type:i.type,bootstrap:i.bootstrap||z,declarations:i.declarations||z,imports:i.imports||z,exports:i.exports||z,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Te[i.id]=i.type),s})}function ft(i,s){return Mt(()=>{const a=Sn(i,!0);a.declarations=s.declarations||z,a.imports=s.imports||z,a.exports=s.exports||z})}function Ft(i,s){if(null==i)return q;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}const Dt=Yn;function xn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function un(i){return i[W]||null}function Sn(i,s){const a=i[qe]||null;if(!a&&!0===s)throw new Error(`Type ${X(i)} does not have '\u0275mod' property.`);return a}function Ds(i){return Array.isArray(i)&&"object"==typeof i[1]}function Or(i){return Array.isArray(i)&&!0===i[1]}function Vc(i){return 0!=(8&i.flags)}function Dl(i){return 2==(2&i.flags)}function $a(i){return 1==(1&i.flags)}function ts(i){return null!==i.template}function Er(i){return 0!=(512&i[2])}function pi(i,s){return i.hasOwnProperty(Wt)?i[Wt]:null}class Ss{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ns(){return zc}function zc(i){return i.type.prototype.ngOnChanges&&(i.setInput=Qo),As}function As(){const i=pd(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===q)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Qo(i,s,a,c){const d=pd(i)||function(i,s){return i[gi]=s}(i,{previous:q,current:null}),f=d.current||(d.current={}),m=d.previous,y=this.declaredInputs[a],E=m[y];f[y]=new Ss(E&&E.currentValue,s,m===q),i[c]=s}ns.ngInherit=!0;const gi="__ngSimpleChanges__";function pd(i){return i[gi]||null}const Ga="http://www.w3.org/2000/svg";let rs;function qh(i){rs=i}function Rn(i){return!!i.listen}const wr={createRenderer:(i,s)=>void 0!==rs?rs:"undefined"!=typeof document?document:void 0};function an(i){for(;Array.isArray(i);)i=i[0];return i}function Xo(i,s){return an(s[i])}function mi(i,s){return an(s[i.index])}function Zc(i,s){return i.data[s]}function ei(i,s){const a=s[i];return Ds(a)?a:a[0]}function xl(i){return 4==(4&i[2])}function qa(i){return 128==(128&i[2])}function is(i,s){return null==s?null:i[s]}function Rl(i){i[18]=0}function vo(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const ut={lFrame:Yh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wa(){return ut.bindingsEnabled}function Ie(){return ut.lFrame.lView}function xt(){return ut.lFrame.tView}function Za(i){return ut.lFrame.contextLView=i,i[8]}function wn(){let i=Ya();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ya(){return ut.lFrame.currentTNode}function Ur(i,s){const a=ut.lFrame;a.currentTNode=i,a.isParent=s}function Ka(){return ut.lFrame.isParent}function ea(){ut.lFrame.isParent=!1}function Pl(){return ut.isInCheckNoChangesMode}function Xs(i){ut.isInCheckNoChangesMode=i}function sr(){const i=ut.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Pi(){return ut.lFrame.bindingIndex++}function Cr(i){const s=ut.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Qc(i,s){const a=ut.lFrame;a.bindingIndex=a.bindingRootIndex=i,Jc(s)}function Jc(i){ut.lFrame.currentDirectiveIndex=i}function bo(i){const s=ut.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Xc(){return ut.lFrame.currentQueryIndex}function Eo(i){ut.lFrame.currentQueryIndex=i}function Nl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ja(i,s,a){if(a&Ve.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Ve.Host||(d=Nl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=ut.lFrame=Fl();return c.currentTNode=s,c.lView=i,!0}function Xa(i){const s=Fl(),a=i[1];ut.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Fl(){const i=ut.lFrame,s=null===i?null:i.child;return null===s?Yh(i):s}function Yh(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function yd(){const i=ut.lFrame;return ut.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ll=yd;function wo(){const i=yd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Tr(){return ut.lFrame.selectedIndex}function eo(i){ut.lFrame.selectedIndex=i}function Gn(){const i=ut.lFrame;return Zc(i.tView,i.selectedIndex)}function tl(){ut.lFrame.currentNamespace=Ga}function eu(){ut.lFrame.currentNamespace=null}function ia(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:A}=f;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),y&&((i.contentHooks||(i.contentHooks=[])).push(a,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,y)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function sa(i,s,a){nu(i,s,3,a)}function Co(i,s,a,c){(3&i[2])===a&&nu(i,s,a,c)}function Kn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function nu(i,s,a,c){const f=null!=c?c:-1,m=s.length-1;let y=0;for(let E=void 0!==c?65535&i[18]:0;E<m;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=c&&y>=c)break}else s[E]<0&&(i[18]+=65536),(y<f||-1==f)&&(vd(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function vd(i,s,a,c){const d=a[c]<0,f=a[c+1],y=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class Vl{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Ed(i,s,a){const c=Rn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const m=a[d++],y=a[d++],E=a[d++];c?i.setAttribute(s,y,E,m):s.setAttributeNS(m,y,E)}else{const m=f,y=a[++d];Ms(m)?c&&i.setProperty(s,m,y):c?i.setAttribute(s,m,y):s.setAttribute(m,y),d++}}return d}function Qh(i){return 3===i||4===i||6===i}function Ms(i){return 64===i.charCodeAt(0)}function Ul(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Jh(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function Jh(i,s,a,c,d){let f=0,m=i.length;if(-1===s)m=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(i.splice(m,0,s),f=m+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function su(i){return-1!==i}function Ni(i){return 32767&i}function xs(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let ou=!0;function aa(i){const s=ou;return ou=i,s}let Cd=0;function to(i,s){const a=kn(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,nl(c.data,i),nl(s,null),nl(c.blueprint,null));const d=Ue(i,s),f=i.injectorIndex;if(su(d)){const m=Ni(d),y=xs(d,s),E=y[1].data;for(let I=0;I<8;I++)s[f+I]=y[m+I]|E[m+I]}return s[f+8]=d,f}function nl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function kn(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ue(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const f=d[1],m=f.type;if(c=2===m?f.declTNode:1===m?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Je(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(In)&&(c=a[In]),null==c&&(c=a[In]=Cd++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function or(i,s,a){if(a&Ve.Optional)return i;Lt(s,"NodeInjector")}function rl(i,s,a,c){if(a&Ve.Optional&&void 0===c&&(c=null),0==(a&(Ve.Self|Ve.Host))){const d=i[9],f=jn(void 0);try{return d?d.get(s,c,a&Ve.Optional):it(s,c,a&Ve.Optional)}finally{jn(f)}}return or(c,s,a)}function no(i,s,a,c=Ve.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(In)?i[In]:void 0;return"number"==typeof s?s>=0?255&s:lu:s}(a);if("function"==typeof f){if(!Ja(s,i,c))return c&Ve.Host?or(d,a,c):rl(s,a,c,d);try{const m=f(c);if(null!=m||c&Ve.Optional)return m;Lt(a)}finally{Ll()}}else if("number"==typeof f){let m=null,y=kn(i,s),E=-1,I=c&Ve.Host?s[16][6]:null;for((-1===y||c&Ve.SkipSelf)&&(E=-1===y?Ue(i,s):s[y+8],-1!==E&&cu(c,!1)?(m=s[1],y=Ni(E),s=xs(E,s)):y=-1);-1!==y;){const A=s[1];if(la(f,y,A.data)){const O=jl(y,s,a,m,c,I);if(O!==Qn)return O}E=s[y+8],-1!==E&&cu(c,s[1].data[y+8]===I)&&la(f,y,s)?(m=A,y=Ni(E),s=xs(E,s)):y=-1}}}return rl(s,a,c,d)}const Qn={};function lu(){return new ls(wn(),Ie())}function jl(i,s,a,c,d,f){const m=s[1],y=m.data[i+8],A=Hl(y,m,a,null==c?Dl(y)&&ou:c!=m&&0!=(3&y.type),d&Ve.Host&&f===y);return null!==A?St(s,m,A,y):Qn}function Hl(i,s,a,c,d){const f=i.providerIndexes,m=s.data,y=1048575&f,E=i.directiveStart,A=f>>20,N=d?y+A:i.directiveEnd;for(let G=c?y:y+A;G<N;G++){const Q=m[G];if(G<E&&a===Q||G>=E&&Q.type===a)return G}if(d){const G=m[E];if(G&&ts(G)&&G.type===a)return E}return null}function St(i,s,a,c){let d=i[a];const f=s.data;if(function(i){return i instanceof Vl}(d)){const m=d;m.resolving&&function(i,s){throw new De("200",`Circular dependency in DI detected for ${i}`)}(_e(f[a]));const y=aa(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?jn(m.injectImpl):null;Ja(i,c,Ve.Default);try{d=i[a]=m.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const m=zc(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==E&&jn(E),aa(y),m.resolving=!1,Ll()}}return d}function la(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function cu(i,s){return!(i&Ve.Self||i&Ve.Host&&s)}class ls{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return no(this._tNode,this._lView,s,c,a)}}function Dd(i){return Mt(()=>{const s=i.prototype.constructor,a=s[Wt]||il(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Wt]||il(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function il(i){return oe(i)?()=>{const s=il(B(i));return s&&s()}:pi(i)}function uu(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Qh(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(wn(),i)}const _i="__parameters__";function ks(i,s,a){return Mt(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return y.annotation=m,y;function y(E,I,A){const O=E.hasOwnProperty(_i)?E[_i]:Object.defineProperty(E,_i,{value:[]})[_i];for(;O.length<=A;)O.push(null);return(O[A]=O[A]||[]).push(m),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class On{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=on({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ef=new On("AnalyzeForEntryComponents"),ua=Function;function Li(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),Li(c,s)):s!==i&&s.push(c)}return s}function us(i,s){i.forEach(a=>Array.isArray(a)?us(a,s):s(a))}function sl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function vi(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ns(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function qn(i,s,a){let c=ro(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Wn(i,s){const a=ro(i,s);if(a>=0)return i[1|a]}function ro(i,s){return function(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),m=i[f<<a];if(s===m)return f<<a;m>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const Bt={},rn="__NG_DI_FLAG__",Jn="ngTempTokenPath",ar=/\n/gm,ol="__source",Ls=K({provide:String,useValue:K});let ri;function yt(i){const s=ri;return ri=i,s}function $_(i,s=Ve.Default){if(void 0===ri)throw new Error("inject() must be called from an injection context");return null===ri?it(i,void 0,s):ri.get(i,s&Ve.Optional?null:void 0,s)}function mn(i,s=Ve.Default){return(zt||$_)(B(i),s)}const sf=mn;function So(i){const s=[];for(let a=0;a<i.length;a++){const c=B(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=Ve.Default;for(let m=0;m<c.length;m++){const y=c[m],E=of(y);"number"==typeof E?-1===E?d=y.token:f|=E:d=y}s.push(mn(d,f))}else s.push(mn(c))}return s}function al(i,s){return i[rn]=s,i.prototype[rn]=s,i}function of(i){return i[rn]}function Bs(i,s,a,c){const d=i[Jn];throw s[ol]&&d.unshift(s[ol]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=X(s);if(Array.isArray(s))d=s.map(X).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];f.push(m+":"+("string"==typeof y?JSON.stringify(y):X(y)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(ar,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Jn]=null,i}const ll=al(ks("Inject",i=>({token:i})),-1),fa=al(ks("Optional"),8),Nr=al(ks("SkipSelf"),4);let cl;function Mo(i){var s;return(null===(s=function(){if(void 0===cl&&(cl=null,Kt.trustedTypes))try{cl=Kt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return cl}())||void 0===s?void 0:s.createHTML(i))||i}class ul{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class W_ extends ul{getTypeName(){return"HTML"}}class Z_ extends ul{getTypeName(){return"Style"}}class Ld extends ul{getTypeName(){return"Script"}}class Y_ extends ul{getTypeName(){return"URL"}}class K_ extends ul{getTypeName(){return"ResourceURL"}}function xo(i){return i instanceof ul?i.changingThisBreaksApplicationSecurity:i}function _a(i,s){const a=og(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function og(i){return i instanceof ul&&i.getTypeName()||null}function ag(i){return new W_(i)}function df(i){return new Z_(i)}function hf(i){return new Ld(i)}function Ro(i){return new Y_(i)}function Jl(i){return new K_(i)}class lg{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Mo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Q_{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Mo(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Mo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Bd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ec=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tc(i){return(i=String(i)).match(Bd)||i.match(ec)?i:"unsafe:"+i}function Vs(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function ko(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const Vd=Vs("area,br,col,hr,img,wbr"),pf=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nc=Vs("rp,rt"),cg=ko(Vd,ko(pf,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ko(nc,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ko(nc,pf)),b=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),g=Vs("srcset"),M=ko(b,g,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),k=Vs("script,style,template");class J{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!cg.hasOwnProperty(a))return this.sanitizedSomething=!0,!k.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),m=f.name,y=m.toLowerCase();if(!M.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=f.value;b[y]&&(E=tc(E)),g[y]&&(i=E,E=(i=String(i)).split(",").map(s=>tc(s.trim())).join(", ")),this.buf.push(" ",m,'="',Ne(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();cg.hasOwnProperty(a)&&!Vd.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ne(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const be=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,He=/([^\#-~ |!])/g;function Ne(i){return i.replace(/&/g,"&amp;").replace(be,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(He,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let st;function Zt(i,s){let a=null;try{st=st||function(i){const s=new Q_(i);return function(){try{return!!(new window.DOMParser).parseFromString(Mo(""),"text/html")}catch(i){return!1}}()?new lg(s):s}(i);let c=s?String(s):"";a=st.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=a.innerHTML,a=st.getInertBodyElement(c)}while(c!==f);return Mo((new J).sanitizeChildren(_n(a)||a))}finally{if(a){const c=_n(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function _n(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var yn=(()=>((yn=yn||{})[yn.NONE=0]="NONE",yn[yn.HTML=1]="HTML",yn[yn.STYLE=2]="STYLE",yn[yn.SCRIPT=3]="SCRIPT",yn[yn.URL=4]="URL",yn[yn.RESOURCE_URL=5]="RESOURCE_URL",yn))();function jd(i){const s=function(){const i=Ie();return i&&i[12]}();return s?s.sanitize(yn.URL,i)||"":_a(i,"URL")?xo(i):tc(ae(i))}const zd="__ngContext__";function ii(i,s){i[zd]=s}function ey(i){const s=function(i){return i[zd]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function bu(i){return i.ngOriginalError}function CS(i,...s){i.error(...s)}class Zd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),d=(i=s)&&i.ngErrorLogger||CS;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(bu(s)):null}_findOriginalError(s){let a=s&&bu(s);for(;a&&bu(a);)a=bu(a);return a||null}}const Sw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function Aw(i){return i.ownerDocument.defaultView}function ya(i){return i instanceof Function?i():i}var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();function _g(i,s){return undefined(i,s)}function vf(i){const s=i[3];return Or(s)?s[3]:s}function yg(i){return ay(i[13])}function Ow(i){return ay(i[4])}function ay(i){for(;null!==i&&!Or(i);)i=i[4];return i}function Eu(i,s,a,c,d){if(null!=c){let f,m=!1;Or(c)?f=c:Ds(c)&&(m=!0,c=c[0]);const y=an(c);0===i&&null!==a?null==d?Bw(s,a,y):sc(s,a,y,d||null,!0):1===i&&null!==a?sc(s,a,y,d||null,!0):2===i?function(i,s,a){const c=wg(i,s);c&&function(i,s,a,c){Rn(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,y,m):3===i&&s.destroyNode(y),null!=f&&function(i,s,a,c,d){const f=a[7];f!==an(a)&&Eu(s,i,c,f,d);for(let y=10;y<a.length;y++){const E=a[y];Cu(E[1],E,i,s,c,f)}}(s,i,f,a,d)}}function ly(i,s,a){return Rn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function bg(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,vo(d,-1)),a.splice(c,1)}function Eg(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&bg(d,c),s>0&&(i[a-1][4]=c[4]);const f=vi(i,10+s);!function(i,s){Cu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const m=f[19];null!==m&&m.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Nw(i,s){if(!(256&s[2])){const a=s[11];Rn(a)&&a.destroyNode&&Cu(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return ic(i[1],i);for(;s;){let a=null;if(Ds(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)Ds(s)&&ic(s[1],s),s=s[3];null===s&&(s=i),Ds(s)&&ic(s[1],s),a=s&&s[4]}s=a}}(s)}}function ic(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Vl)){const f=a[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const y=d[f[m]],E=f[m+1];try{E.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const m=a[f+1],y="function"==typeof m?m(s):an(s[m]),E=c[d=a[f+2]],I=a[f+3];"boolean"==typeof I?y.removeEventListener(a[f],E,I):I>=0?c[d=I]():c[d=-I].unsubscribe(),f+=2}else{const m=c[d=a[f+1]];a[f].call(m)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&Rn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Or(s[3])){a!==s[3]&&bg(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function Fw(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Oe.None||d===Oe.Emulated)return null}return mi(c,a)}(i,s.parent,a)}function sc(i,s,a,c,d){Rn(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function Bw(i,s,a){Rn(i)?i.appendChild(s,a):s.appendChild(a)}function Vw(i,s,a,c,d){null!==c?sc(i,s,a,c,d):Bw(i,s,a)}function wg(i,s){return Rn(i)?i.parentNode(s):s.parentNode}function Tg(i,s,a){return wu(i,s,a)}let wu=function(i,s,a){return 40&i.type?mi(i,a):null};function Kd(i,s,a,c){const d=Fw(i,c,s),f=s[11],y=Tg(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)Vw(f,d,a[E],y,!1);else Vw(f,d,a,y,!1)}function Dg(i,s){if(null!==s){const a=s.type;if(3&a)return mi(s,i);if(4&a)return hy(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Dg(i,c);{const d=i[s.index];return Or(d)?hy(-1,d):an(d)}}if(32&a)return _g(s,i)()||an(i[s.index]);{const c=dy(i,s);return null!==c?Array.isArray(c)?c[0]:Dg(vf(i[16]),c):Dg(i,s.next)}}return null}function dy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function hy(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Dg(c,d)}return s[7]}function Sg(i,s,a,c,d,f,m){for(;null!=a;){const y=c[a.index],E=a.type;if(m&&0===s&&(y&&ii(an(y),c),a.flags|=4),64!=(64&a.flags))if(8&E)Sg(i,s,a.child,c,d,f,!1),Eu(s,i,d,y,f);else if(32&E){const I=_g(a,c);let A;for(;A=I();)Eu(s,i,d,A,f);Eu(s,i,d,y,f)}else 16&E?oc(i,s,c,a,d,f):Eu(s,i,d,y,f);a=m?a.projectionNext:a.next}}function Cu(i,s,a,c,d,f){Sg(a,c,i.firstChild,s,d,f,!1)}function oc(i,s,a,c,d,f){const m=a[16],E=m[6].projection[c.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Eu(s,i,d,E[I],f);else Sg(i,s,E,m[3],d,f,!0)}function Hw(i,s,a){Rn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function py(i,s,a){Rn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function gy(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}const $w="ng-template";function jS(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==gy(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function my(i){return 4===i.type&&i.value!==$w}function HS(i,s,a){return s===(4!==i.type||a?i.value:$w)}function $S(i,s,a){let c=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Qh(i[s]))return s;return i.length}(d);let m=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!m)if(4&c){if(c=2|1&c,""!==E&&!HS(i,E,a)||""===E&&1===s.length){if(Oo(c))return!1;m=!0}}else{const I=8&c?E:s[++y];if(8&c&&null!==i.attrs){if(!jS(i.attrs,I,a)){if(Oo(c))return!1;m=!0}continue}const O=_y(8&c?"class":E,d,my(i),a);if(-1===O){if(Oo(c))return!1;m=!0;continue}if(""!==I){let N;N=O>f?"":d[O+1].toLowerCase();const G=8&c?N:null;if(G&&-1!==gy(G,I,0)||2&c&&I!==N){if(Oo(c))return!1;m=!0}}}}else{if(!m&&!Oo(c)&&!Oo(E))return!1;if(m&&Oo(E))continue;m=!1,c=E|1&c}}return Oo(c)||m}function Oo(i){return 0==(1&i)}function _y(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Gw(i,s,a=!1){for(let c=0;c<s.length;c++)if($S(i,s[c],a))return!0;return!1}function JP(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function qw(i,s){return i?":not("+s.trim()+")":s}function qS(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&c){const y=i[++a];d+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!Oo(m)&&(s+=qw(f,d),d=""),c=m,f=f||!Oo(c);a++}return""!==d&&(s+=qw(f,d)),s}const At={};function yy(i){mr(xt(),Ie(),Tr()+i,Pl())}function mr(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&sa(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Co(s,f,0,a)}eo(a)}function ba(i,s){return i<<17|s<<2}function Ea(i){return i>>17&32767}function ac(i){return 2|i}function wa(i){return(131068&i)>>2}function vy(i,s){return-131069&i|s<<2}function by(i){return 1|i}function cc(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],f=a[c+1];if(-1!==f){const m=i.data[f];Eo(d),m.contentQueries(2,s[f],f)}}}function Tu(i,s,a,c,d,f,m,y,E,I){const A=s.blueprint.slice();return A[0]=d,A[2]=140|c,Rl(A),A[3]=A[15]=i,A[8]=a,A[10]=m||i&&i[10],A[11]=y||i&&i[11],A[12]=E||i&&i[12]||null,A[9]=I||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function eh(i,s,a,c,d){let f=i.data[s];if(null===f)f=function(i,s,a,c,d){const f=Ya(),m=Ka(),E=i.data[s]=function(i,s,a,c,d,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(i,s,a,c,d),ut.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const m=function(){const i=ut.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Ur(f,!0),f}function fl(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Po(i,s,a){Xa(s);try{const c=i.viewQuery;null!==c&&f0(1,c,a);const d=i.template;null!==d&&s0(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&cc(i,s),i.staticViewQueries&&f0(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)bN(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,wo()}}function uc(i,s,a,c){const d=s[2];if(256==(256&d))return;Xa(s);const f=Pl();try{Rl(s),function(i){ut.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&s0(i,s,a,2,c);const m=3==(3&d);if(!f)if(m){const I=i.preOrderCheckHooks;null!==I&&sa(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Co(s,I,0,null),Kn(s,0)}if(function(i){for(let s=yg(i);null!==s;s=Ow(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],f=d[3];0==(1024&d[2])&&vo(f,1),d[2]|=1024}}}(s),function(i){for(let s=yg(i);null!==s;s=Ow(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];qa(c)&&uc(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&cc(i,s),!f)if(m){const I=i.contentCheckHooks;null!==I&&sa(s,I)}else{const I=i.contentHooks;null!==I&&Co(s,I,1),Kn(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)eo(~d);else{const f=d,m=a[++c],y=a[++c];Qc(m,f),y(2,s[f])}}}finally{eo(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let a=0;a<s.length;a++)vN(i,s[a])}(s,y);const E=i.viewQuery;if(null!==E&&f0(2,E,c),!f)if(m){const I=i.viewCheckHooks;null!==I&&sa(s,I)}else{const I=i.viewHooks;null!==I&&Co(s,I,2),Kn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,vo(s[3],-1))}finally{wo()}}function r0(i,s,a,c){const d=s[10],f=!Pl(),m=xl(s);try{f&&!m&&d.begin&&d.begin(),m&&Po(i,s,c),uc(i,s,a,c)}finally{f&&!m&&d.end&&d.end()}}function s0(i,s,a,c,d){const f=Tr(),m=2&c;try{eo(-1),m&&s.length>20&&mr(i,s,20,Pl()),a(c,d)}finally{eo(f)}}function si(i,s,a){if(Vc(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const m=i.data[f];m.contentQueries&&m.contentQueries(1,a[f],f)}}}function o0(i,s,a){!Wa()||(function(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||to(a,s),ii(c,s);const m=a.initialInputs;for(let y=d;y<f;y++){const E=i.data[y],I=ts(E);I&&mN(s,a,E);const A=St(s,i,y,a);ii(A,s),null!==m&&xy(0,y-d,A,E,0,m),I&&(ei(a.index,s)[8]=A)}}(i,s,a,mi(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,d=a.directiveEnd,m=a.index,y=ut.lFrame.currentDirectiveIndex;try{eo(m);for(let E=c;E<d;E++){const I=i.data[E],A=s[E];Jc(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&oA(I,A)}}finally{eo(-1),Jc(y)}}(i,s,a))}function Iu(i,s,a=mi){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],y=-1===m?a(s,i):i[m];i[d++]=y}}}function a0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Tf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Tf(i,s,a,c,d,f,m,y,E,I){const A=20+c,O=A+d,N=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:At);return a}(A,O),G="function"==typeof I?I():I;return N[1]={type:i,blueprint:N,template:a,queries:null,viewQuery:y,declTNode:s,data:N.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:G,incompleteFirstPass:!1}}function QS(i,s,a,c){const d=Og(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&p0(i).push(c,d.length-1))}function Ay(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function hs(i,s,a,c,d,f,m,y){const E=mi(s,a);let A,I=s.inputs;!y&&null!=I&&(A=I[c])?(dA(i,a,A,c,d),Dl(s)&&function(i,s){const a=ei(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=m?m(d,s.value||"",c):d,Rn(f)?f.setProperty(E,c,d):Ms(c)||(E.setProperty?E.setProperty(c,d):E[c]=d))}function so(i,s,a,c){let d=!1;if(Wa()){const f=function(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const m=c[f];Gw(a,m.selectors,!1)&&(d||(d=[]),Je(to(a,s),i,m.type),ts(m)?(My(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===c?null:{"":-1};if(null!==f){d=!0,aA(a,i.data.length,f.length);for(let A=0;A<f.length;A++){const O=f[A];O.providersResolver&&O.providersResolver(O)}let y=!1,E=!1,I=fl(i,s,f.length,null);for(let A=0;A<f.length;A++){const O=f[A];a.mergedAttrs=Ul(a.mergedAttrs,O.hostAttrs),lA(i,a,s,I,O),gN(I,O,m),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const N=O.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),I++}!function(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,m=[];let y=null,E=null;for(let I=s.directiveStart;I<c;I++){const A=d[I],O=A.inputs,N=null===f||my(s)?null:th(O,f);m.push(N),y=Ay(O,I,y),E=Ay(A.outputs,I,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=E}(i,a)}m&&function(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new De("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],f)}}}(a,c,m)}return a.mergedAttrs=Ul(a.mergedAttrs,a.attrs),d}function c0(i,s,a,c,d,f){const m=f.hostBindings;if(m){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(c,d,m)}}function oA(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function My(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function gN(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;ts(s)&&(a[""]=i)}}function aA(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function lA(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=pi(d.type)),m=new Vl(f,ts(d),null);i.blueprint[c]=m,a[c]=m,c0(i,s,0,c,fl(i,a,d.hostVars,At),d)}function mN(i,s,a){const c=mi(s,i),d=a0(a),f=i[10],m=Ry(i,Tu(i,d,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=m}function pl(i,s,a,c,d,f){const m=mi(i,s);!function(i,s,a,c,d,f,m){if(null==f)Rn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const y=null==m?ae(f):m(f,c||"",d);Rn(i)?i.setAttribute(s,d,y,a):a?s.setAttributeNS(a,d,y):s.setAttribute(d,y)}}(s[11],m,f,i.value,a,c,d)}function xy(i,s,a,c,d,f){const m=f[s];if(null!==m){const y=c.setInput;for(let E=0;E<m.length;){const I=m[E++],A=m[E++],O=m[E++];null!==y?c.setInput(a,O,I,A):a[A]=O}}}function th(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Sf(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function vN(i,s){const a=ei(s,i);if(qa(a)){const c=a[1];80&a[2]?uc(c,a,c.template,a[8]):a[5]>0&&Af(a)}}function Af(i){for(let c=yg(i);null!==c;c=Ow(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const m=f[1];uc(m,f,m.template,f[8])}else f[5]>0&&Af(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=ei(a[c],i);qa(d)&&d[5]>0&&Af(d)}}function bN(i,s){const a=ei(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Po(c,a,a[8])}function Ry(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Du(i){for(;i;){i[2]|=64;const s=vf(i);if(Er(i)&&!s)return i;i=s}return null}function ky(i,s,a){const c=s[10];c.begin&&c.begin();try{uc(i,s,i.template,a)}catch(d){throw m0(s,d),d}finally{c.end&&c.end()}}function h0(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=ey(a),d=c[1];r0(d,c,d.template,a)}}(i[8])}function f0(i,s,a){Eo(0),s(i,a)}const TN=(()=>Promise.resolve(null))();function Og(i){return i[7]||(i[7]=[])}function p0(i){return i.cleanup||(i.cleanup=[])}function g0(i,s,a){return(null===i||ts(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function m0(i,s){const a=i[9],c=a?a.get(Zd,null):null;c&&c.handleError(s)}function dA(i,s,a,c,d){for(let f=0;f<a.length;){const m=a[f++],y=a[f++],E=s[m],I=i.data[m];null!==I.setInput?I.setInput(E,d,c,y):E[y]=d}}function hc(i,s,a){const c=Xo(s,i);!function(i,s,a){Rn(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function Mf(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?f=y:1==f?d=ee(d,y):2==f&&(c=ee(c,y+": "+s[++m]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const nh=new On("INJECTOR",-1);class _0{get(s,a=Bt){if(a===Bt){const c=new Error(`NullInjectorError: No provider for ${X(s)}!`);throw c.name="NullInjectorError",c}return a}}const xf=new On("Set Injector scope."),Rf={},hA={};let Py;function fA(){return void 0===Py&&(Py=new _0),Py}function pA(i,s=null,a=null,c){return new SN(i,a,s||fA(),c)}class SN{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&us(a,y=>this.processProvider(y,s,a)),us([s],y=>this.processInjectorType(y,[],f)),this.records.set(nh,kf(void 0,this));const m=this.records.get(xf);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:X(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Bt,c=Ve.Default){this.assertNotDestroyed();const d=yt(this),f=jn(void 0);try{if(!(c&Ve.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof On)&&en(s);y=E&&this.injectableDefInScope(E)?kf(Ny(s),Rf):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(c&Ve.Self?fA():this.parent).get(s,a=c&Ve.Optional&&a===Bt?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[Jn]=m[Jn]||[]).unshift(X(s)),d)throw m;return Bs(m,s,"R3InjectorError",this.source)}throw m}finally{jn(f),yt(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(X(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=B(s)))return!1;let d=Mi(s);const f=null==d&&s.ngModule||void 0,m=void 0===f?s:f,y=-1!==c.indexOf(m);if(void 0!==f&&(d=Mi(f)),null==d)return!1;if(null!=d.imports&&!y){let A;c.push(m);try{us(d.imports,O=>{this.processInjectorType(O,a,c)&&(void 0===A&&(A=[]),A.push(O))})}finally{}if(void 0!==A)for(let O=0;O<A.length;O++){const{ngModule:N,providers:G}=A[O];us(G,Q=>this.processProvider(Q,N,G||z))}}this.injectorDefTypes.add(m);const E=pi(m)||(()=>new m);this.records.set(m,kf(E,Rf));const I=d.providers;if(null!=I&&!y){const A=s;us(I,O=>this.processProvider(O,A,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let d=Of(s=B(s))?s:B(s&&s.provide);const f=mA(i=s)?kf(void 0,i.useValue):kf(gA(i),Rf);var i;if(Of(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=kf(void 0,Rf,!0),m.factory=()=>So(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===Rf&&(a.value=hA,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=B(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Ny(i){const s=en(i),a=null!==s?s.factory:pi(i);if(null!==a)return a;if(i instanceof On)throw new Error(`Token ${X(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=Ns(s,"?");throw new Error(`Can't resolve all parameters for ${X(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[Re]||i[Un]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function gA(i,s,a){let c;if(Of(i)){const d=B(i);return pi(d)||Ny(d)}if(mA(i))c=()=>B(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...So(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>mn(B(i.useExisting));else{const d=B(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return pi(d)||Ny(d);c=()=>new d(...So(i.deps))}return c}function kf(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function mA(i){return null!==i&&"object"==typeof i&&Ls in i}function Of(i){return"function"==typeof i}const vA=function(i,s,a){return function(i,s=null,a=null,c){const d=pA(i,s,a,c);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let Xn=(()=>{class i{static create(a,c){return Array.isArray(a)?vA(a,c,""):vA(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=Bt,i.NULL=new _0,i.\u0275prov=on({token:i,providedIn:"any",factory:()=>mn(nh)}),i.__NG_ELEMENT_ID__=-1,i})();function GN(i,s){ia(ey(i)[1],wn())}function C0(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(ts(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){c.push(d);const m=i;m.inputs=T0(i.inputs),m.declaredInputs=T0(i.declaredInputs),m.outputs=T0(i.outputs);const y=d.hostBindings;y&&ZN(i,y);const E=d.viewQuery,I=d.contentQueries;if(E&&qN(i,E),I&&WN(i,I),re(i.inputs,d.inputs),re(i.declaredInputs,d.declaredInputs),re(i.outputs,d.outputs),ts(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const y=f[m];y&&y.ngInherit&&y(i),y===C0&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Ul(d.hostAttrs,a=Ul(a,d.hostAttrs))}}(c)}function T0(i){return i===q?{}:i===z?[]:i}function qN(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function WN(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function ZN(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let Fy=null;function Pf(){if(!Fy){const i=Kt.Symbol;if(i&&i.iterator)Fy=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Fy=c)}}}return Fy}function Ng(i){return!!I0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Pf()in i)}function I0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function gl(i,s,a){return i[s]=a}function Hi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function D0(i,s,a,c){const d=Ie();return Hi(d,Pi(),s)&&(xt(),pl(Gn(),d,i,s,a,c)),D0}function Ff(i,s,a,c){return Hi(i,Pi(),a)?s+ae(a)+c:At}function R0(i,s,a,c,d,f,m,y){const E=Ie(),I=xt(),A=i+20,O=I.firstCreatePass?function(i,s,a,c,d,f,m,y,E){const I=s.consts,A=eh(s,i,4,m||null,is(I,y));so(s,a,A,is(I,E)),ia(s,A);const O=A.tViews=Tf(2,A,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,A),O.queries=s.queries.embeddedTView(A)),A}(A,I,E,s,a,c,d,f,m):I.data[A];Ur(O,!1);const N=E[11].createComment("");Kd(I,E,N,O),ii(N,E),Ry(E,E[A]=Sf(N,E,N,O)),$a(O)&&o0(I,E,O),null!=m&&Iu(E,O,y)}function k0(i){return function(i,s){return i[s]}(ut.lFrame.contextLView,20+i)}function $f(i,s=Ve.Default){const a=Ie();return null===a?mn(i,s):no(wn(),a,B(i),s)}function Vg(i,s,a){const c=Ie();return Hi(c,Pi(),s)&&hs(xt(),Gn(),c,i,s,c[11],a,!1),Vg}function q0(i,s,a,c,d){const m=d?"class":"style";dA(i,a,s.inputs[m],m,c)}function zy(i,s,a,c){const d=Ie(),f=xt(),m=20+i,y=d[11],E=d[m]=ly(y,s,ut.lFrame.currentNamespace),I=f.firstCreatePass?function(i,s,a,c,d,f,m){const y=s.consts,I=eh(s,i,2,d,is(y,f));return so(s,a,I,is(y,m)),null!==I.attrs&&Mf(I,I.attrs,!1),null!==I.mergedAttrs&&Mf(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(m,f,d,0,s,a,c):f.data[m];Ur(I,!0);const A=I.mergedAttrs;null!==A&&Ed(y,E,A);const O=I.classes;null!==O&&py(y,E,O);const N=I.styles;null!==N&&Hw(y,E,N),64!=(64&I.flags)&&Kd(f,d,E,I),0===ut.lFrame.elementDepthCount&&ii(E,d),ut.lFrame.elementDepthCount++,$a(I)&&(o0(f,d,I),si(f,I,d)),null!==c&&Iu(d,I)}function qy(){let i=wn();Ka()?ea():(i=i.parent,Ur(i,!1));const s=i;ut.lFrame.elementDepthCount--;const a=xt();a.firstCreatePass&&(ia(a,i),Vc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&q0(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&q0(a,s,Ie(),s.stylesWithoutHost,!1)}function Z0(i,s,a,c){zy(i,s,a,c),qy()}function Wy(i,s,a){(function(i,s,a){const c=Ie(),d=xt(),f=i+20,m=d.firstCreatePass?function(i,s,a,c,d){const f=s.consts,m=is(f,c),y=eh(s,i,8,"ng-container",m);return null!==m&&Mf(y,m,!0),so(s,a,y,is(f,d)),null!==s.queries&&s.queries.elementStart(s,y),y}(f,d,c,s,a):d.data[f];Ur(m,!0);const y=c[f]=c[11].createComment("");Kd(d,c,y,m),ii(y,c),$a(m)&&(o0(d,c,m),si(d,m,c)),null!=a&&Iu(c,m)})(i,s,a),function(){let i=wn();const s=xt();Ka()?ea():(i=i.parent,Ur(i,!1)),s.firstCreatePass&&(ia(s,i),Vc(i)&&s.queries.elementEnd(i))}()}function Zy(){return Ie()}function Yy(i){return!!i&&"function"==typeof i.then}function Q0(i){return!!i&&"function"==typeof i.subscribe}const Ky=Q0;function Qy(i,s,a,c){const d=Ie(),f=xt(),m=wn();return iM(f,d,d[11],m,i,s,!!a,c),Qy}function Ug(i,s){const a=wn(),c=Ie(),d=xt();return iM(d,c,g0(bo(d.data),a,c),a,i,s,!1),Ug}function iM(i,s,a,c,d,f,m,y){const E=$a(c),A=i.firstCreatePass&&p0(i),O=s[8],N=Og(s);let G=!0;if(3&c.type||y){const se=mi(c,s),ke=y?y(se):se,ye=N.length,tt=y?vt=>y(an(vt[c.index])):c.index;if(Rn(a)){let vt=null;if(!y&&E&&(vt=function(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===a&&d[f+1]===c){const y=s[7],E=d[f+2];return y.length>E?y[E]:null}"string"==typeof m&&(f+=2)}return null}(i,s,d,c.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=f,vt.__ngLastListenerFn__=f,G=!1;else{f=Jy(c,s,O,f,!1);const Vt=a.listen(ke,d,f);N.push(f,Vt),A&&A.push(d,tt,ye,ye+1)}}else f=Jy(c,s,O,f,!0),ke.addEventListener(d,f,m),N.push(f),A&&A.push(d,tt,ye,m)}else f=Jy(c,s,O,f,!1);const Q=c.outputs;let de;if(G&&null!==Q&&(de=Q[d])){const se=de.length;if(se)for(let ke=0;ke<se;ke+=2){const cr=s[de[ke]][de[ke+1]].subscribe(f),gs=N.length;N.push(f,cr),A&&A.push(d,c.index,gs,-(gs+1))}}}function sM(i,s,a,c){try{return!1!==a(c)}catch(d){return m0(i,d),!1}}function Jy(i,s,a,c,d){return function f(m){if(m===Function)return c;const y=2&i.flags?ei(i.index,s):s;0==(32&s[2])&&Du(y);let E=sM(s,0,c,m),I=f.__ngNextListenerFn__;for(;I;)E=sM(s,0,I,m)&&E,I=I.__ngNextListenerFn__;return d&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function J0(i=1){return function(i){return(ut.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ut.lFrame.contextLView))[8]}(i)}function oM(i,s){let a=null;const c=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===c?Gw(i,f,!0):JP(c,f))return d}else a=d}return a}function X0(i){const s=Ie()[16][6];if(!s.projection){const c=s.projection=Ns(i?i.length:1,null),d=c.slice();let f=s.child;for(;null!==f;){const m=i?oM(f,i):0;null!==m&&(d[m]?d[m].projectionNext=f:c[m]=f,d[m]=f),f=f.next}}}function aM(i,s=0,a){const c=Ie(),d=xt(),f=eh(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),ea(),64!=(64&f.flags)&&function(i,s,a){oc(s[11],0,s,a,Fw(i,a,s),Tg(a.parent||s[6],a,s))}(d,c,f)}function eC(i,s,a){return tC(i,"",s,"",a),eC}function tC(i,s,a,c,d){const f=Ie(),m=Ff(f,s,a,c);return m!==At&&hs(xt(),Gn(),f,i,m,f[11],d,!1),tC}function cM(i,s,a,c,d){const f=i[a+1],m=null===s;let y=c?Ea(f):wa(f),E=!1;for(;0!==y&&(!1===E||m);){const A=i[y+1];iC(i[y],s)&&(E=!0,i[y+1]=c?by(A):ac(A)),y=c?Ea(A):wa(A)}E&&(i[a+1]=c?ac(f):by(f))}function iC(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ro(i,s)>=0}const lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pc(i){return i.substring(lr.key,lr.keyEnd)}function sv(i,s){const a=lr.textEnd;return a===s?-1:(s=lr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,lr.key=s,a),Mu(i,s,a))}function Mu(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function jg(i,s,a){return Ma(i,s,a,!1),jg}function Ir(i,s){return Ma(i,s,null,!0),Ir}function Aa(i){!function(i,s,a,c){const d=xt(),f=Cr(2);d.firstUpdatePass&&fM(d,null,f,c);const m=Ie();if(a!==At&&Hi(m,f,a)){const y=d.data[Tr()];if(zg(y,c)&&!hM(d,f)){let E=c?y.classesWithoutHost:y.stylesWithoutHost;null!==E&&(a=ee(E,a||"")),q0(d,y,m,a,c)}else!function(i,s,a,c,d,f,m,y){d===At&&(d=z);let E=0,I=0,A=0<d.length?d[0]:null,O=0<f.length?f[0]:null;for(;null!==A||null!==O;){const N=E<d.length?d[E+1]:void 0,G=I<f.length?f[I+1]:void 0;let de,Q=null;A===O?(E+=2,I+=2,N!==G&&(Q=O,de=G)):null===O||null!==A&&A<O?(E+=2,Q=A):(I+=2,Q=O,de=G),null!==Q&&$g(i,s,a,c,Q,de,m,y),A=E<d.length?d[E]:null,O=I<f.length?f[I]:null}}(d,y,m,m[11],m[f+1],m[f+1]=function(i,s,a){if(null==a||""===a)return z;const c=[],d=xo(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(i,s,a),c,f)}}(qn,ml,i,!0)}function ml(i,s){for(let a=function(i){return function(i){lr.key=0,lr.keyEnd=0,lr.value=0,lr.valueEnd=0,lr.textEnd=i.length}(i),sv(i,Mu(i,0,lr.textEnd))}(s);a>=0;a=sv(s,a))qn(i,pc(s),!0)}function Ma(i,s,a,c){const d=Ie(),f=xt(),m=Cr(2);f.firstUpdatePass&&fM(f,i,m,c),s!==At&&Hi(d,m,s)&&$g(f,f.data[Tr()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=X(xo(i)))),i}(s,a),c,m)}function hM(i,s){return s>=i.expandoStartIndex}function fM(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[Tr()],m=hM(i,a);zg(f,c)&&null===s&&!m&&(s=!1),s=function(i,s,a,c){const d=bo(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=xu(a=Hg(null,i,s,a,c),s.attrs,c),f=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=Hg(d,i,s,a,c),null===f){let E=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==wa(c))return i[Ea(c)]}(i,s,c);void 0!==E&&Array.isArray(E)&&(E=Hg(null,i,s,E[1],c),E=xu(E,s.attrs,c),function(i,s,a,c){i[Ea(a?s.classBindings:s.styleBindings)]=c}(i,s,c,E))}else f=function(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=xu(c,i[f].hostAttrs,a);return xu(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function(i,s,a,c,d,f){let m=f?s.classBindings:s.styleBindings,y=Ea(m),E=wa(m);i[c]=a;let A,I=!1;if(Array.isArray(a)){const O=a;A=O[1],(null===A||ro(O,A)>0)&&(I=!0)}else A=a;if(d)if(0!==E){const N=Ea(i[y+1]);i[c+1]=ba(N,y),0!==N&&(i[N+1]=vy(i[N+1],c)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],c)}else i[c+1]=ba(y,0),0!==y&&(i[y+1]=vy(i[y+1],c)),y=c;else i[c+1]=ba(E,0),0===y?y=c:i[E+1]=vy(i[E+1],c),E=c;I&&(i[c+1]=ac(i[c+1])),cM(i,A,c,!0),cM(i,A,c,!1),function(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ro(f,s)>=0&&(a[c+1]=by(a[c+1]))}(s,A,i,c,f),m=ba(y,E),f?s.classBindings=m:s.styleBindings=m}(d,f,s,a,m,c)}}function Hg(i,s,a,c,d){let f=null;const m=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<m&&(f=s[y],c=xu(c,f.hostAttrs,d),f!==i);)y++;return null!==i&&(a.directiveStylingLast=y),c}function xu(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?d=m:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),qn(i,m,!!a||s[++f]))}return void 0===i?null:i}function $g(i,s,a,c,d,f,m,y){if(!(3&s.type))return;const E=i.data,I=E[y+1];bi(function(i){return 1==(1&i)}(I)?Gg(E,s,a,d,wa(I),m):void 0)||(bi(f)||function(i){return 2==(2&i)}(I)&&(f=Gg(E,null,a,d,y,m)),function(i,s,a,c,d){const f=Rn(i);if(s)d?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:va.DashCase;if(null==d)f?i.removeStyle(a,c,m):a.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),m|=va.Important),f?i.setStyle(a,c,d,m):a.style.setProperty(c,d,y?"important":"")}}}(c,m,Xo(Tr(),a),d,f))}function Gg(i,s,a,c,d,f){const m=null===s;let y;for(;d>0;){const E=i[d],I=Array.isArray(E),A=I?E[1]:E,O=null===A;let N=a[d+1];N===At&&(N=O?z:void 0);let G=O?Wn(N,c):A===c?N:void 0;if(I&&!bi(G)&&(G=Wn(E,c)),bi(G)&&(y=G,m))return y;const Q=i[d+1];d=m?Ea(Q):wa(Q)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(y=Wn(E,c))}return y}function bi(i){return void 0!==i}function zg(i,s){return 0!=(i.flags&(s?16:32))}function pM(i,s=""){const a=Ie(),c=xt(),d=i+20,f=c.firstCreatePass?eh(c,d,1,s,null):c.data[d],m=a[d]=function(i,s){return Rn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Kd(c,a,m,f),Ur(f,!1)}function zf(i){return dv("",i,""),zf}function dv(i,s,a){const c=Ie(),d=Ff(c,i,s,a);return d!==At&&hc(c,Tr(),d),dv}function yl(i,s,a){const c=Ie();return Hi(c,Pi(),s)&&hs(xt(),Gn(),c,i,s,c[11],a,!0),yl}function Ou(i,s,a){const c=Ie();if(Hi(c,Pi(),s)){const f=xt(),m=Gn();hs(f,m,c,i,s,g0(bo(f.data),m,c),a,!0)}return Ou}const Pu=void 0;var yC=["en",[["a","p"],["AM","PM"],Pu],[["AM","PM"],Pu,Pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pu,"{1} 'at' {0}",Pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let vl={};function Dv(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Sv(s);if(a)return a;const c=s.split("-")[0];if(a=Sv(c),a)return a;if("en"===c)return yC;throw new Error(`Missing locale data for the locale "${i}".`)}function bC(i){return Dv(i)[Ke.PluralCase]}function Sv(i){return i in vl||(vl[i]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[i]),vl[i]}var Ke=(()=>((Ke=Ke||{})[Ke.LocaleId=0]="LocaleId",Ke[Ke.DayPeriodsFormat=1]="DayPeriodsFormat",Ke[Ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ke[Ke.DaysFormat=3]="DaysFormat",Ke[Ke.DaysStandalone=4]="DaysStandalone",Ke[Ke.MonthsFormat=5]="MonthsFormat",Ke[Ke.MonthsStandalone=6]="MonthsStandalone",Ke[Ke.Eras=7]="Eras",Ke[Ke.FirstDayOfWeek=8]="FirstDayOfWeek",Ke[Ke.WeekendRange=9]="WeekendRange",Ke[Ke.DateFormat=10]="DateFormat",Ke[Ke.TimeFormat=11]="TimeFormat",Ke[Ke.DateTimeFormat=12]="DateTimeFormat",Ke[Ke.NumberSymbols=13]="NumberSymbols",Ke[Ke.NumberFormats=14]="NumberFormats",Ke[Ke.CurrencyCode=15]="CurrencyCode",Ke[Ke.CurrencySymbol=16]="CurrencySymbol",Ke[Ke.CurrencyName=17]="CurrencyName",Ke[Ke.Currencies=18]="Currencies",Ke[Ke.Directionality=19]="Directionality",Ke[Ke.PluralCase=20]="PluralCase",Ke[Ke.ExtraData=21]="ExtraData",Ke))();const Jg="en-US";let EC=Jg;function Wf(i){Xt(i,"Expected localeId to be defined"),"string"==typeof i&&(EC=i.toLowerCase().replace(/_/g,"-"))}function dm(i,s,a,c,d){if(i=B(i),Array.isArray(i))for(let f=0;f<i.length;f++)dm(i[f],s,a,c,d);else{const f=xt(),m=Ie();let y=Of(i)?i:B(i.provide),E=gA(i);const I=wn(),A=1048575&I.providerIndexes,O=I.directiveStart,N=I.providerIndexes>>20;if(Of(i)||!i.multi){const G=new Vl(E,d,$f),Q=Lv(y,s,d?A:A+N,O);-1===Q?(Je(to(I,m),f,y),hm(f,i,s.length),s.push(y),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(G),m.push(G)):(a[Q]=G,m[Q]=G)}else{const G=Lv(y,s,A+N,O),Q=Lv(y,s,A,A+N),de=G>=0&&a[G],se=Q>=0&&a[Q];if(d&&!se||!d&&!de){Je(to(I,m),f,y);const ke=function(i,s,a,c,d){const f=new Vl(i,a,$f);return f.multi=[],f.index=s,f.componentProviders=0,ZC(f,d,c&&!a),f}(d?UM:YC,a.length,d,c,E);!d&&se&&(a[Q].providerFactory=ke),hm(f,i,s.length,0),s.push(y),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(ke),m.push(ke)}else hm(f,i,G>-1?G:Q,ZC(a[d?Q:G],E,!d&&c));!d&&c&&se&&a[Q].componentProviders++}}}function hm(i,s,a,c){const d=Of(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=y.indexOf(a);-1===E?y.push(a,[c,m]):y[E+1].push(c,m)}else y.push(a,m)}}}function ZC(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Lv(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function YC(i,s,a,c){return Bv(this.multi,[])}function UM(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=St(a,a[1],this.providerFactory.index,c);f=y.slice(0,m),Bv(d,f);for(let E=m;E<y.length;E++)f.push(y[E])}else f=[],Bv(d,f);return f}function Bv(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function fm(i,s=[]){return a=>{a.providersResolver=(c,d)=>function(i,s,a){const c=xt();if(c.firstCreatePass){const d=ts(i);dm(a,c.data,c.blueprint,d,!0),dm(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Xf{}const JC="ngComponent";class jM{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${X(i)}. Did you add it to @NgModule.entryComponents?`);return s[JC]=i,s}(s)}}let Bu=(()=>{class i{}return i.NULL=new jM,i})();function ep(...i){}function dh(i,s){return new bl(mi(i,s))}const eT=function(){return dh(wn(),Ie())};let bl=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=eT,i})();function Uv(i){return i instanceof bl?i.nativeElement:i}class gm{}let tT=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>GM(),i})();const GM=function(){const i=Ie(),a=ei(wn().index,i);return function(i){return i[11]}(Ds(a)?a:i)};let _m=(()=>{class i{}return i.\u0275prov=on({token:i,providedIn:"root",factory:()=>null}),i})();class rT{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ym=new rT("12.2.13");class iT{constructor(){}supports(s){return Ng(s)}create(s){return new qM(s)}}const zM=(i,s)=>s;class qM{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||zM}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const m=!c||a&&a.currentIndex<Sr(c,d,f)?a:c,y=Sr(m,d,f),E=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{f||(f=[]);const I=y-d,A=E-d;if(I!=A){for(let N=0;N<I;N++){const G=N<f.length?f[N]:f[N]=0,Q=G+N;A<=Q&&Q<I&&(f[N]=G+1)}f[m.previousIndex]=A-I}}y!==E&&s(m,y,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ng(s))throw new Error(`Error trying to diff '${X(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,m,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],m=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,f,m,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,m,y),c=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Pf()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,y=>{m=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,y,m,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,m,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new WM(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new sT),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class WM{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZM{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class sT{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new ZM,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sr(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class jv{constructor(){}supports(s){return s instanceof Map||I0(s)}create(){return new oT}}class oT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||I0(s)))throw new Error(`Error trying to diff '${X(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new aT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class aT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lT(){return new Hv([new iT])}let Hv=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||lT()),deps:[[i,new Nr,new fa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=on({token:i,providedIn:"root",factory:lT}),i})();function cT(){return new vm([new jv])}let vm=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||cT()),deps:[[i,new Nr,new fa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=on({token:i,providedIn:"root",factory:cT}),i})();function bm(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(an(f)),Or(f))for(let y=10;y<f.length;y++){const E=f[y],I=E[1].firstChild;null!==I&&bm(E[1],E,I,c)}const m=a.type;if(8&m)bm(i,s,a.child,c);else if(32&m){const y=_g(a,s);let E;for(;E=y();)c.push(E)}else if(16&m){const y=dy(s,a);if(Array.isArray(y))c.push(...y);else{const E=vf(s[16]);bm(E[1],E,y,c,!0)}}a=d?a.projectionNext:a.next}return c}class tp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return bm(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Or(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Eg(s,c),vi(a,c))}this._attachedToViewContainer=!1}Nw(this._lView[1],this._lView)}onDestroy(s){QS(this._lView[1],this._lView,null,s)}markForCheck(){Du(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ky(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Xs(!0);try{ky(i,s,a)}finally{Xs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Cu(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class M1 extends tp{constructor(s){super(s),this._view=s}detectChanges(){h0(this._view)}checkNoChanges(){!function(i){Xs(!0);try{h0(i)}finally{Xs(!1)}}(this._view)}get context(){return null}}const uT=function(i){return function(i,s,a){if(Dl(i)&&!a){const c=ei(i.index,s);return new tp(c,c)}return 47&i.type?new tp(s[16],s):null}(wn(),Ie(),16==(16&i))};let KM=(()=>{class i{}return i.__NG_ELEMENT_ID__=uT,i})();const hh=[new jv],Gv=new Hv([new iT]),zv=new vm(hh),JM=function(){return Em(wn(),Ie())};let np=(()=>{class i{}return i.__NG_ELEMENT_ID__=JM,i})();const dT=np,XM=class extends dT{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Tu(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),Po(a,c,s),new tp(c)}};function Em(i,s){return 4&i.type?new XM(s,i,dh(i,s)):null}class fh{}class hT{}const wm=function(){return ix(wn(),Ie())};let Cm=(()=>{class i{}return i.__NG_ELEMENT_ID__=wm,i})();const nx=Cm,fT=class extends nx{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return dh(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ue(this._hostTNode,this._hostLView);if(su(s)){const a=xs(s,this._hostLView),c=Ni(s);return new ls(a[1].data[c+8],a)}return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=rx(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,f){const m=c||this.parentInjector;if(!f&&null==s.ngModule&&m){const E=m.get(fh,null);E&&(f=E)}const y=s.create(m,d,void 0,f);return this.insert(y.hostView,a),y}insert(s,a){const c=s._lView,d=c[1];if(Or(c[3])){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const O=c[3],N=new fT(O,O[6],O[3]);N.detach(N.indexOf(s))}}const f=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,c){const d=10+c,f=a.length;c>0&&(a[d-1][4]=s),c<f-10?(s[4]=a[d],sl(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,c,m,f);const y=hy(f,m),E=c[11],I=wg(E,m[7]);return null!==I&&function(i,s,a,c,d,f){c[0]=d,c[6]=s,Cu(i,c,a,1,d,f)}(d,m[6],E,c,I,y),s.attachToViewContainerRef(),sl(pT(m),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=rx(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Eg(this._lContainer,a);c&&(vi(pT(this._lContainer),a),Nw(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Eg(this._lContainer,a);return c&&null!=vi(pT(this._lContainer),a)?new tp(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function rx(i){return i[8]}function pT(i){return i[8]||(i[8]=[])}function ix(i,s){let a;const c=s[i.index];if(Or(c))a=c;else{let d;if(8&i.type)d=an(c);else{const f=s[11];d=f.createComment("");const m=mi(i,s);sc(f,wg(f,m),d,function(i,s){return Rn(i)?i.nextSibling(s):s.nextSibling}(f,m),!1)}s[i.index]=a=Sf(c,s,d,i),Ry(s,a)}return new fT(a,i,s)}const Gu={};class ib extends Bu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=un(s);return new HT(a,this.ngModule)}}function sb(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const G1=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sw});class HT extends Xf{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(qS).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return sb(this.componentDef.inputs)}get outputs(){return sb(this.componentDef.outputs)}create(s,a,c,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,c,d)=>{const f=i.get(a,Gu,d);return f!==Gu||c===Gu?f:s.get(a,c,d)}}}(s,d.injector):s,m=f.get(gm,wr),y=f.get(_m,null),E=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=c?function(i,s,a){if(Rn(i))return i.selectRootElement(s,a===Oe.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(E,c,this.componentDef.encapsulation):ly(m.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?Ga:"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),O=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||Sw,clean:TN,playerHandler:s||null,flags:0}}(),G=Tf(0,null,null,1,0,null,null,null,null,null),Q=Tu(null,G,N,O,null,null,m,E,y,f);let de,se;Xa(Q);try{const ke=function(i,s,a,c,d,f){const m=a[1];a[20]=i;const E=eh(m,20,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(Mf(E,I,!0),null!==i&&(Ed(d,i,I),null!==E.classes&&py(d,i,E.classes),null!==E.styles&&Hw(d,i,E.styles)));const A=c.createRenderer(i,s),O=Tu(a,a0(s),null,s.onPush?64:16,a[20],E,c,A,f||null,null);return m.firstCreatePass&&(Je(to(E,a),m,s.type),My(m,E),aA(E,a.length,1)),Ry(a,O),a[20]=O}(A,this.componentDef,Q,m,E);if(A)if(c)Ed(E,A,["ng-version",ym.full]);else{const{attrs:ye,classes:tt}=function(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!Oo(d))break;d=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ye&&Ed(E,A,ye),tt&&tt.length>0&&py(E,A,tt.join(" "))}if(se=Zc(G,20),void 0!==a){const ye=se.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const vt=a[tt];ye.push(null!=vt?Array.from(vt):null)}}de=function(i,s,a,c,d){const f=a[1],m=function(i,s,a){const c=wn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),lA(i,c,s,fl(i,s,1,null),a));const d=St(s,i,c.directiveStart,c);ii(d,s);const f=mi(c,s);return f&&ii(f,s),d}(f,a,s);if(c.components.push(m),i[8]=m,d&&d.forEach(E=>E(m,s)),s.contentQueries){const E=wn();s.contentQueries(1,m,E.directiveStart)}const y=wn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(eo(y.index),c0(a[1],y,0,y.directiveStart,y.directiveEnd,s),oA(s,m)),m}(ke,this.componentDef,Q,N,[GN]),Po(G,Q,null)}finally{wo()}return new GT(this.componentType,de,dh(se,Q),Q,se)}}class GT extends class{}{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new M1(d),this.componentType=s}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Oa=new Map;class cb extends fh{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ib(this);const c=Sn(s),d=s[ct]||null;d&&Wf(d),this._bootstrapComponents=ya(c.bootstrap),this._r3Injector=pA(s,a,[{provide:fh,useValue:this},{provide:Bu,useValue:this.componentFactoryResolver}],X(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Xn.THROW_IF_NOT_FOUND,c=Ve.Default){return s===Xn||s===fh||s===nh?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vh extends hT{constructor(s){super(),this.moduleType=s,null!==Sn(s)&&function(i){const s=new Set;!function a(c){const d=Sn(c,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${X(s)} vs ${X(s.name)}`)}(f,Oa.get(f),c),Oa.set(f,c));const m=ya(d.imports);for(const y of m)s.has(y)||(s.add(y),a(y))}(i)}(s)}create(s){return new cb(this.moduleType,s)}}function ub(i,s,a,c){return function(i,s,a,c,d,f){const m=s+a;return Hi(i,m,d)?gl(i,m+1,f?c.call(f,d):c(d)):up(i,m+1)}(Ie(),sr(),i,s,a,c)}function qT(i,s,a,c,d){return function(i,s,a,c,d,f,m){const y=s+a;return function(i,s,a,c){const d=Hi(i,s,a);return Hi(i,s+1,c)||d}(i,y,d,f)?gl(i,y+2,m?c.call(m,d,f):c(d,f)):up(i,y+2)}(Ie(),sr(),i,s,a,c,d)}function up(i,s){const a=i[s];return a===At?void 0:a}function Om(i){return s=>{setTimeout(i,void 0,s)}}const Pa=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,f,m;let y=s,E=a||(()=>null),I=c;if(s&&"object"==typeof s){const O=s;y=null===(d=O.next)||void 0===d?void 0:d.bind(O),E=null===(f=O.error)||void 0===f?void 0:f.bind(O),I=null===(m=O.complete)||void 0===m?void 0:m.bind(O)}this.__isAsync&&(E=Om(E),y&&(y=Om(y)),I&&(I=Om(I)));const A=super.subscribe({next:y,error:E,complete:I});return s instanceof j.w&&s.add(A),A}};function ZT(){return this._results[Pf()]()}class bh{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Pf(),c=bh.prototype;c[a]||(c[a]=ZT)}get changes(){return this._changes||(this._changes=new Pa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=Li(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class YT{constructor(s){this.queryList=s,this.matches=null}clone(){return new YT(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eh{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const m=a.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Eh(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==rI(s,a).matches&&this.queries[a].setDirty()}}class pb{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class gb{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new gb(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class mb{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new mb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,qx(a,f)),this.matchTNodeWithReadOption(s,a,Hl(a,s,f,!1,!1))}else c===np?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Hl(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===bl||d===Cm||d===np&&4&a.type)this.addMatch(a.index,-2);else{const f=Hl(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function qx(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function KT(i,s,a,c){return-1===a?function(i,s){return 11&i.type?dh(i,s):4&i.type?Em(i,s):null}(s,i):-2===a?function(i,s,a){return a===bl?dh(s,i):a===np?Em(s,i):a===Cm?ix(s,i):void 0}(i,s,c):St(i,i[1],a,s)}function QT(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,m=a.matches,y=[];for(let E=0;E<m.length;E+=2){const I=m[E];y.push(I<0?null:KT(s,f[I],m[E+1],a.metadata.read))}d.matches=y}return d.matches}function _b(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const m=QT(i,s,d,a);for(let y=0;y<f.length;y+=2){const E=f[y];if(E>0)c.push(m[y/2]);else{const I=f[y+1],A=s[-E];for(let O=10;O<A.length;O++){const N=A[O];N[17]===N[3]&&_b(N[1],N,I,c)}if(null!==A[9]){const O=A[9];for(let N=0;N<O.length;N++){const G=O[N];_b(G[1],G,I,c)}}}}}return c}function Nm(i){const s=Ie(),a=xt(),c=Xc();Eo(c+1);const d=rI(a,c);if(i.dirty&&xl(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?_b(a,s,c,[]):QT(a,s,d,c);i.reset(f,Uv),i.notifyOnChanges()}return!0}return!1}function JT(i,s,a){const c=xt();c.firstCreatePass&&(nI(c,new pb(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),tI(c,Ie(),s)}function XT(i,s,a,c){const d=xt();if(d.firstCreatePass){const f=wn();nI(d,new pb(s,a,c),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}tI(d,Ie(),a)}function eI(){return i=Ie(),s=Xc(),i[19].queries[s].queryList;var i,s}function tI(i,s,a){const c=new bh(4==(4&a));QS(i,s,c,c.destroy),null===s[19]&&(s[19]=new Eh),s[19].queries.push(new YT(c))}function nI(i,s,a){null===i.queries&&(i.queries=new gb),i.queries.track(new mb(s,a))}function rI(i,s){return i.queries.getByIndex(s)}const Um=new On("Application Initializer");let qu=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ep,this.reject=ep,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Yy(f))a.push(f);else if(Ky(f)){const m=new Promise((y,E)=>{f.subscribe({complete:y,error:E})});a.push(m)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(mn(Um,8))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();const Ab=new On("AppId"),mR={provide:Ab,useFactory:function(){return`${Mb()}${Mb()}${Mb()}`},deps:[]};function Mb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xb=new On("Platform Initializer"),_R=new On("Platform ID"),vI=new On("appBootstrapListener");let bI=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();const jm=new On("LocaleId"),Rb=new On("DefaultCurrencyCode");class IF{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const kb=function(i){return new vh(i)},vR=kb,bR=function(i){return Promise.resolve(kb(i))},ER=function(i){const s=kb(i),c=ya(Sn(i).declarations).reduce((d,f)=>{const m=un(f);return m&&d.push(new HT(m)),d},[]);return new IF(s,c)},wR=ER,CR=function(i){return Promise.resolve(ER(i))};let Wu=(()=>{class i{constructor(){this.compileModuleSync=vR,this.compileModuleAsync=bR,this.compileModuleAndAllComponentsSync=wR,this.compileModuleAndAllComponentsAsync=CR}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();const DR=(()=>Promise.resolve(0))();function Ob(i){"undefined"==typeof Zone?DR.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class js{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pa(!1),this.onMicrotaskEmpty=new Pa(!1),this.onStable=new Pa(!1),this.onError=new Pa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=Kt.requestAnimationFrame,s=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Nb(i),i.isCheckStableRunning=!0,Pb(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Nb(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,m,y)=>{try{return wI(i),a.invokeTask(d,f,m,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),$m(i)}},onInvoke:(a,c,d,f,m,y,E)=>{try{return wI(i),a.invoke(d,f,m,y,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),$m(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Nb(i),Pb(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!js.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(js.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,s,AR,ep,ep);try{return f.runTask(m,a,c)}finally{f.cancelTask(m)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const AR={};function Pb(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Nb(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function wI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function $m(i){i._nesting--,Pb(i)}class CI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pa,this.onMicrotaskEmpty=new Pa,this.onStable=new Pa,this.onError=new Pa}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let Fb=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{js.assertNotInAngularZone(),Ob(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ob(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(mn(js))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})(),TI=(()=>{class i{constructor(){this._applications=new Map,Lb.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Lb.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();class RR{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function II(i){Lb=i}let Lb=new RR,DI=!0,kR=!1;function Bb(){return kR=!0,DI}function OR(){if(kR)throw new Error("Cannot enable prod mode after platform setup.");DI=!1}let Uo;const fp=new On("AllowMultipleToken");class PR{constructor(s,a){this.name=s,this.token=a}}function MI(i,s,a=[]){const c=`Platform: ${s}`,d=new On(c);return(f=[])=>{let m=NR();if(!m||m.injector.get(fp,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const y=a.concat(f).concat({provide:d,useValue:!0},{provide:xf,useValue:"platform"});!function(i){if(Uo&&!Uo.destroyed&&!Uo.injector.get(fp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Uo=i.get(xI);const s=i.get(xb,null);s&&s.forEach(a=>a())}(Xn.create({providers:y,name:c}))}return function(i){const s=NR();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function NR(){return Uo&&!Uo.destroyed?Uo:null}let xI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const y=function(i,s){let a;return a="noop"===i?new CI:("zone.js"===i?void 0:i)||new js({enableLongStackTrace:Bb(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),E=[{provide:js,useValue:y}];return y.run(()=>{const I=Xn.create({providers:E,parent:this.injector,name:a.moduleType.name}),A=a.create(I),O=A.injector.get(Zd,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:G=>{O.handleError(G)}});A.onDestroy(()=>{RI(this._modules,A),N.unsubscribe()})}),function(i,s,a){try{const c=a();return Yy(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(O,y,()=>{const N=A.injector.get(qu);return N.runInitializers(),N.donePromise.then(()=>(Wf(A.injector.get(jm,Jg)||Jg),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,c=[]){const d=LR({},c);return function(i,s,a){const c=new vh(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(Gm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${X(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(mn(Xn))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();function LR(i,s){return Array.isArray(s)?s.reduce(LR,i):Object.assign(Object.assign({},i),s)}let Gm=(()=>{class i{constructor(a,c,d,f,m){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new P.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new P.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{js.assertNotInAngularZone(),Ob(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{js.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),O.unsubscribe()}});this.isStable=(0,le.T)(y,E.pipe((0,ce.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof Xf?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(fh),y=d.create(Xn.NULL,[],c||d.selector,f),E=y.location.nativeElement,I=y.injector.get(Fb,null),A=I&&y.injector.get(TI);return I&&A&&A.registerApplication(E,I),y.onDestroy(()=>{this.detachView(y.hostView),RI(this.components,y),A&&A.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;RI(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(vI,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(mn(js),mn(Xn),mn(Zd),mn(Bu),mn(qu))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();function RI(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class NF{}class kI{}const VR={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let UR=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||VR}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,d]=a.split("#");return void 0===d&&(d="default"),F(8255)(c).then(f=>f[d]).then(f=>Br(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[c,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),F(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(m=>m[d+f]).then(m=>Br(m,c,d))}}return i.\u0275fac=function(a){return new(a||i)(mn(Wu),mn(kI,8))},i.\u0275prov=on({token:i,factory:i.\u0275fac}),i})();function Br(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const FI=function(i){return null},LI=MI(null,"core",[{provide:_R,useValue:"unknown"},{provide:xI,deps:[Xn]},{provide:TI,deps:[]},{provide:bI,deps:[]}]),zR=[{provide:Gm,useClass:Gm,deps:[js,Xn,Zd,Bu,qu]},{provide:G1,deps:[js],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:qu,useClass:qu,deps:[[new fa,Um]]},{provide:Wu,useClass:Wu,deps:[]},mR,{provide:Hv,useFactory:function(){return Gv},deps:[]},{provide:vm,useFactory:function(){return zv},deps:[]},{provide:jm,useFactory:function(i){return Wf(i=i||"undefined"!=typeof $localize&&$localize.locale||Jg),i},deps:[[new ll(jm),new fa,new Nr]]},{provide:Rb,useValue:"USD"}];let UI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(mn(Gm))},i.\u0275mod=Fe({type:i}),i.\u0275inj=pn({providers:zR}),i})()},8939:(Ye,we,F)=>{"use strict";F.d(we,{hO:()=>oe,xv:()=>ee,Dh:()=>X,GT:()=>K,cc:()=>ge,on:()=>L,pX:()=>ce});var u=F(7716),j=F(7841),P=F(5761);Ye=F.hmd(Ye);const le=["ngOnDestroy"],ce=(ae,_e,Pe,Ge={})=>new Proxy(ae,{get:(kt,Lt)=>Pe.runOutsideAngular(()=>{var Yt;if(ae[Lt])return(null===(Yt=null==Ge?void 0:Ge.spy)||void 0===Yt?void 0:Yt.get)&&Ge.spy.get(Lt,ae[Lt]),ae[Lt];if(le.indexOf(Lt)>-1)return()=>{};const bt=_e.toPromise().then(Cn=>{const Tt=Cn&&Cn[Lt];return"function"==typeof Tt?Tt.bind(Cn):Tt&&Tt.then?Tt.then(_t=>Pe.run(()=>_t)):Pe.run(()=>Tt)});return new Proxy(()=>{},{get:(Cn,Tt)=>bt[Tt],apply:(Cn,Tt,_t)=>bt.then(Gt=>{var lt;const jt=Gt&&Gt(..._t);return(null===(lt=null==Ge?void 0:Ge.spy)||void 0===lt?void 0:lt.apply)&&Ge.spy.apply(Lt,_t,jt),jt})})})}),K=(ae,_e)=>{_e.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ge=>{Object.defineProperty(ae.prototype,Ge,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ge))})})};class re{constructor(_e){return _e}}const X=new u.OlP("angularfire2.app.options"),ee=new u.OlP("angularfire2.app.name");function L(ae,_e,Pe){const kt="object"==typeof Pe&&Pe||{};kt.name=kt.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Yt=j.Z.apps.filter(bt=>bt&&bt.name===kt.name)[0]||_e.runOutsideAngular(()=>j.Z.initializeApp(ae,kt));try{JSON.stringify(ae)!==JSON.stringify(Yt.options)&&U("error",`${Yt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(bt){}return new re(Yt)}const U=(ae,..._e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ae](..._e)},B={provide:re,useFactory:L,deps:[X,u.R0b,[new u.FiY,ee]]};let oe=(()=>{class ae{constructor(Pe){j.Z.registerVersion("angularfire",P.q4.full,"core"),j.Z.registerVersion("angularfire",P.q4.full,"app-compat"),j.Z.registerVersion("angular",u.q4F.full,Pe.toString())}static initializeApp(Pe,Ge){return{ngModule:ae,providers:[{provide:X,useValue:Pe},{provide:ee,useValue:Ge}]}}}return ae.\u0275fac=function(Pe){return new(Pe||ae)(u.LFG(u.Lbi))},ae.\u0275mod=u.oAB({type:ae}),ae.\u0275inj=u.cJS({providers:[B]}),ae})();function ge(ae,_e,Pe,Ge,kt){const[,Lt,Yt]=globalThis.\u0275AngularfireInstanceCache.find(bt=>bt[0]===ae)||[];if(Lt)return function(ae,_e){try{return ae.toString()===_e.toString()}catch(Pe){return ae===_e}}(kt,Yt)||(fe("error",`${_e} was already initialized on the ${Pe} Firebase App with different settings.${ve?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:kt,was:Yt})),Lt;{const bt=Ge();return globalThis.\u0275AngularfireInstanceCache.push([ae,bt,kt]),bt}}const ve=!!Ye.hot,fe=(ae,..._e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ae](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5761:(Ye,we,F)=>{"use strict";F.d(we,{q4:()=>ng,iC:()=>Wn,HU:()=>Md,vb:()=>sl,JM:()=>us});var u=F(7716),j=F(2329),P=F(8239),le=F(8026),ce=F(3854),K=F(3910),re=F(5422),X=F(6676);const ee="@firebase/installations",L="0.5.4",B=`w:${L}`,oe="FIS_v2",_e=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(T){return T instanceof ce.ZR&&T.code.includes("request-failed")}function Ge({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function kt(T){return{token:T.token,requestStatus:2,expiresIn:Gt(T.expiresIn),creationTime:Date.now()}}function Lt(T,D){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,P.Z)(function*(T,D){const V=(yield D.json()).error;return _e.create("request-failed",{requestName:T,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function bt({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function Cn(T,{refreshToken:D}){const R=bt(T);return R.append("Authorization",function(T){return`${oe} ${T}`}(D)),R}function Tt(T){return _t.apply(this,arguments)}function _t(){return(_t=(0,P.Z)(function*(T){const D=yield T();return D.status>=500&&D.status<600?T():D})).apply(this,arguments)}function Gt(T){return Number(T.replace("s","000"))}function jt(T,D){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,P.Z)(function*(T,{fid:D}){const R=Ge(T),he={method:"POST",headers:bt(T),body:JSON.stringify({fid:D,authVersion:oe,appId:T.appId,sdkVersion:B})},Ae=yield Tt(()=>fetch(R,he));if(Ae.ok){const ze=yield Ae.json();return{fid:ze.fid||D,registrationStatus:2,refreshToken:ze.refreshToken,authToken:kt(ze.authToken)}}throw yield Lt("Create Installation",Ae)})).apply(this,arguments)}function Ji(T){return new Promise(D=>{setTimeout(D,T)})}const Xi=/^[cdef][\w-]{21}$/;function Xt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const R=function(T){return function(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Xi.test(R)?R:""}catch(T){return""}}function es(T){return`${T.appName}!${T.appId}`}const vs=new Map;function ui(T,D){const R=es(T);pn(R,D),function(T,D){const R=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=T=>{pn(T.data.key,T.data.fid)}),Qt);R&&R.postMessage({key:T,fid:D}),0===vs.size&&Qt&&(Qt.close(),Qt=null)}(R,D)}function pn(T,D){const R=vs.get(T);if(R)for(const V of R)V(D)}let Qt=null;const En="firebase-installations-store";let Un=null;function hi(){return Un||(Un=(0,X.openDb)("firebase-installations-database",1,T=>{switch(T.oldVersion){case 0:T.createObjectStore(En)}})),Un}function Ve(T,D){return zt.apply(this,arguments)}function zt(){return(zt=(0,P.Z)(function*(T,D){const R=es(T),ne=(yield hi()).transaction(En,"readwrite"),he=ne.objectStore(En),Ae=yield he.get(R);return yield he.put(D,R),yield ne.complete,(!Ae||Ae.fid!==D.fid)&&ui(T,D.fid),D})).apply(this,arguments)}function hr(T){return jn.apply(this,arguments)}function jn(){return(jn=(0,P.Z)(function*(T){const D=es(T),V=(yield hi()).transaction(En,"readwrite");yield V.objectStore(En).delete(D),yield V.complete})).apply(this,arguments)}function it(T,D){return nt.apply(this,arguments)}function nt(){return(nt=(0,P.Z)(function*(T,D){const R=es(T),ne=(yield hi()).transaction(En,"readwrite"),he=ne.objectStore(En),Ae=yield he.get(R),ze=D(Ae);return void 0===ze?yield he.delete(R):yield he.put(ze,R),yield ne.complete,ze&&(!Ae||Ae.fid!==ze.fid)&&ui(T,ze.fid),ze})).apply(this,arguments)}function Mt(T){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,P.Z)(function*(T){let D;const R=yield it(T,V=>{const ne=Hn(V),he=tn(T,ne);return D=he.registrationPromise,he.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function Hn(T){return Kt(T||{fid:Xt(),registrationStatus:0})}function tn(T,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(_e.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:R,registrationPromise:function(T,D){return et.apply(this,arguments)}(T,R)}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:ja(T)}:{installationEntry:D}}function et(){return(et=(0,P.Z)(function*(T,D){try{return Ve(T,yield jt(T,D))}catch(R){throw Pe(R)&&409===R.customData.serverCode?yield hr(T):yield Ve(T,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function ja(T){return ln.apply(this,arguments)}function ln(){return(ln=(0,P.Z)(function*(T){let D=yield nn(T);for(;1===D.registrationStatus;)yield Ji(100),D=yield nn(T);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield Mt(T);return V||R}return D})).apply(this,arguments)}function nn(T){return it(T,D=>{if(!D)throw _e.create("installation-not-found");return Kt(D)})}function Kt(T){return function(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function qs(T,D){return q.apply(this,arguments)}function q(){return(q=(0,P.Z)(function*({appConfig:T,platformLoggerProvider:D},R){const V=z(T,R),ne=Cn(T,R),he=D.getImmediate({optional:!0});he&&ne.append("x-firebase-client",he.getPlatformInfoString());const ze={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:B}})},We=yield Tt(()=>fetch(V,ze));if(We.ok)return kt(yield We.json());throw yield Lt("Generate Auth Token",We)})).apply(this,arguments)}function z(T,{fid:D}){return`${Ge(T)}/${D}/authTokens:generate`}function W(T){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(T,D=!1){let R;const V=yield it(T.appConfig,he=>{if(!$n(he))throw _e.create("not-registered");const Ae=he.authToken;if(!D&&Yn(Ae))return he;if(1===Ae.requestStatus)return R=ue(T,D),he;{if(!navigator.onLine)throw _e.create("app-offline");const ze=Y(he);return R=Wt(T,ze),ze}});return R?yield R:V.authToken})).apply(this,arguments)}function ue(T,D){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(T,D){let R=yield ct(T.appConfig);for(;1===R.authToken.requestStatus;)yield Ji(100),R=yield ct(T.appConfig);const V=R.authToken;return 0===V.requestStatus?W(T,D):V})).apply(this,arguments)}function ct(T){return it(T,D=>{if(!$n(D))throw _e.create("not-registered");return function(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Wt(T,D){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(T,D){try{const R=yield qs(T,D),V=Object.assign(Object.assign({},D),{authToken:R});return yield Ve(T.appConfig,V),R}catch(R){if(!Pe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ve(T.appConfig,V)}else yield hr(T.appConfig);throw R}})).apply(this,arguments)}function $n(T){return void 0!==T&&2===T.registrationStatus}function Yn(T){return 2===T.requestStatus&&!function(T){const D=Date.now();return D<T.creationTime||T.creationTime+T.expiresIn<D+36e5}(T)}function Y(T){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:D})}function Fe(){return(Fe=(0,P.Z)(function*(T){const D=T,{installationEntry:R,registrationPromise:V}=yield Mt(D.appConfig);return V?V.catch(console.error):W(D).catch(console.error),R.fid})).apply(this,arguments)}function Ft(){return(Ft=(0,P.Z)(function*(T,D=!1){const R=T;return yield Dt(R.appConfig),(yield W(R,D)).token})).apply(this,arguments)}function Dt(T){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(T){const{registrationPromise:D}=yield Mt(T);D&&(yield D)})).apply(this,arguments)}function dn(T){return _e.create("missing-app-config-values",{valueName:T})}const Vr="installations";(0,le._registerComponent)(new K.wA(Vr,T=>{const D=T.getProvider("app").getImmediate();return{app:D,appConfig:function(T){if(!T||!T.options)throw dn("App Configuration");if(!T.name)throw dn("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!T.options[R])throw dn(R);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(D),platformLoggerProvider:(0,le._getProvider)(D,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new K.wA("installations-internal",T=>{const D=T.getProvider("app").getImmediate(),R=(0,le._getProvider)(D,Vr).getImmediate();return{getId:()=>function(T){return Fe.apply(this,arguments)}(R),getToken:ne=>function(T){return Ft.apply(this,arguments)}(R,ne)}},"PRIVATE")),(0,le.registerVersion)(ee,L),(0,le.registerVersion)(ee,L,"esm2017");const Yo="@firebase/remote-config",fr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $a{constructor(D,R,V,ne){this.client=D,this.storage=R,this.storageCache=V,this.logger=ne}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,ne=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${ne}.`),ne}fetch(D){var R=this;return(0,P.Z)(function*(){const[V,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(D.cacheMaxAgeMillis,V))return ne;D.eTag=ne&&ne.eTag;const he=yield R.client.fetch(D),Ae=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Ae.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Ae),he})()}}function ts(T=navigator){return T.languages&&T.languages[0]||T.language}class Er{constructor(D,R,V,ne,he,Ae){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=V,this.projectId=ne,this.apiKey=he,this.appId=Ae}fetch(D){var R=this;return(0,P.Z)(function*(){const[V,ne]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},We={sdk_version:R.sdkVersion,app_instance_id:V,app_instance_id_token:ne,app_id:R.appId,language_code:ts()},Bt={method:"POST",headers:ze,body:JSON.stringify(We)},rn=fetch(Ae,Bt),Jn=new Promise((Ls,ri)=>{D.signal.addEventListener(()=>{const yt=new Error("The operation was aborted.");yt.name="AbortError",ri(yt)})});let ni;try{yield Promise.race([rn,Jn]),ni=yield rn}catch(Ls){let ri="fetch-client-network";throw"AbortError"===Ls.name&&(ri="fetch-timeout"),fr.create(ri,{originalErrorMessage:Ls.message})}let ar=ni.status;const da=ni.headers.get("ETag")||void 0;let ol,ha;if(200===ni.status){let Ls;try{Ls=yield ni.json()}catch(ri){throw fr.create("fetch-client-parse",{originalErrorMessage:ri.message})}ol=Ls.entries,ha=Ls.state}if("INSTANCE_STATE_UNSPECIFIED"===ha?ar=500:"NO_CHANGE"===ha?ar=304:("NO_TEMPLATE"===ha||"EMPTY_CONFIG"===ha)&&(ol={}),304!==ar&&200!==ar)throw fr.create("fetch-status",{httpStatus:ar});return{status:ar,eTag:da,config:ol}})()}}class ad{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,P.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:V}){var ne=this;return(0,P.Z)(function*(){yield function(T,D){return new Promise((R,V)=>{const ne=Math.max(D-Date.now(),0),he=setTimeout(R,ne);T.addEventListener(()=>{clearTimeout(he),V(fr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const he=yield ne.client.fetch(D);return yield ne.storage.deleteThrottleMetadata(),he}catch(he){if(!function(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}(he))throw he;const Ae={throttleEndTimeMillis:Date.now()+(0,ce.$s)(V),backoffCount:V+1};return yield ne.storage.setThrottleMetadata(Ae),ne.attemptFetch(D,Ae)}})()}}class cd{constructor(D,R,V,ne,he){this.app=D,this._client=R,this._storageCache=V,this._storage=ne,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jc(T,D){const R=T.target.error||void 0;return fr.create(D,{originalErrorMessage:R&&R.message})}const Ks="app_namespace_store";class dd{constructor(D,R,V,ne=function(){return new Promise((T,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=V=>{D(jc(V,"storage-open"))},R.onsuccess=V=>{T(V.target.result)},R.onupgradeneeded=V=>{const ne=V.target.result;switch(V.oldVersion){case 0:ne.createObjectStore(Ks,{keyPath:"compositeKey"})}}}catch(R){D(fr.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=D,this.appName=R,this.namespace=V,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,P.Z)(function*(){const V=yield R.openDbPromise;return new Promise((ne,he)=>{const ze=V.transaction([Ks],"readonly").objectStore(Ks),We=R.createCompositeKey(D);try{const Bt=ze.get(We);Bt.onerror=rn=>{he(jc(rn,"storage-get"))},Bt.onsuccess=rn=>{const Jn=rn.target.result;ne(Jn?Jn.value:void 0)}}catch(Bt){he(fr.create("storage-get",{originalErrorMessage:Bt&&Bt.message}))}})})()}set(D,R){var V=this;return(0,P.Z)(function*(){const ne=yield V.openDbPromise;return new Promise((he,Ae)=>{const We=ne.transaction([Ks],"readwrite").objectStore(Ks),Bt=V.createCompositeKey(D);try{const rn=We.put({compositeKey:Bt,value:R});rn.onerror=Jn=>{Ae(jc(Jn,"storage-set"))},rn.onsuccess=()=>{he()}}catch(rn){Ae(fr.create("storage-set",{originalErrorMessage:rn&&rn.message}))}})})()}delete(D){var R=this;return(0,P.Z)(function*(){const V=yield R.openDbPromise;return new Promise((ne,he)=>{const ze=V.transaction([Ks],"readwrite").objectStore(Ks),We=R.createCompositeKey(D);try{const Bt=ze.delete(We);Bt.onerror=rn=>{he(jc(rn,"storage-delete"))},Bt.onsuccess=()=>{ne()}}catch(Bt){he(fr.create("storage-delete",{originalErrorMessage:Bt&&Bt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Qp{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const R=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),ne=D.storage.getActiveConfig(),he=yield R;he&&(D.lastFetchStatus=he);const Ae=yield V;Ae&&(D.lastSuccessfulFetchTimestampMillis=Ae);const ze=yield ne;ze&&(D.activeConfig=ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function zh(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(T){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new K.wA("remote-config",function(D,{instanceIdentifier:R}){const V=D.getProvider("app").getImmediate(),ne=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fr.create("registration-window");if(!(0,ce.hl)())throw fr.create("indexed-db-unavailable");const{projectId:he,apiKey:Ae,appId:ze}=V.options;if(!he)throw fr.create("registration-project-id");if(!Ae)throw fr.create("registration-api-key");if(!ze)throw fr.create("registration-app-id");const We=new dd(ze,V.name,R=R||"firebase"),Bt=new Qp(We),rn=new re.Yd(Yo);rn.logLevel=re.in.ERROR;const Jn=new Er(ne,le.SDK_VERSION,R,he,Ae,ze),ni=new ad(Jn,We),ar=new $a(ni,We,Bt,rn),da=new cd(V,ar,Bt,We,rn);return function(T){const D=(0,ce.m9)(T);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(da),da},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Yo,"0.3.3"),(0,le.registerVersion)(Yo,"0.3.3","esm2017");const $c="/firebase-messaging-sw.js",fd="/firebase-cloud-messaging-push-scope",Gc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pi="google.c.a.c_id",Ss="google.c.a.c_l",ns="google.c.a.ts",zc="google.c.a.e";var Qo=(()=>{return(T=Qo||(Qo={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",Qo;var T})();function gi(T){const D=new Uint8Array(T);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pd(T){const R=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),ne=new Uint8Array(V.length);for(let he=0;he<V.length;++he)ne[he]=V.charCodeAt(he);return ne}const Jo="fcm_token_details_db",qc="fcm_token_object_Store";function Ri(T){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,P.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Jo))return null;let D=null;return(yield(0,X.openDb)(Jo,5,function(){var V=(0,P.Z)(function*(ne){var he;if(ne.oldVersion<2||!ne.objectStoreNames.contains(qc))return;const Ae=ne.transaction.objectStore(qc),ze=yield Ae.index("fcmSenderId").get(T);if(yield Ae.clear(),ze)if(2===ne.oldVersion){const We=ze;if(!We.auth||!We.p256dh||!We.endpoint)return;D={token:We.fcmToken,createTime:null!==(he=We.createTime)&&void 0!==he?he:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:gi(We.vapidKey)}}}else if(3===ne.oldVersion){const We=ze;D={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:gi(We.auth),p256dh:gi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:gi(We.vapidKey)}}}else if(4===ne.oldVersion){const We=ze;D={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:gi(We.auth),p256dh:gi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:gi(We.vapidKey)}}}});return function(ne){return V.apply(this,arguments)}}())).close(),yield(0,X.deleteDb)(Jo),yield(0,X.deleteDb)("fcm_vapid_details_db"),yield(0,X.deleteDb)("undefined"),Ml(D)?D:null})).apply(this,arguments)}function Ml(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:D}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Qs="firebase-messaging-store";let yo=null;function Rn(){return yo||(yo=(0,X.openDb)("firebase-messaging-database",1,T=>{switch(T.oldVersion){case 0:T.createObjectStore(Qs)}})),yo}function za(T){return wr.apply(this,arguments)}function wr(){return(wr=(0,P.Z)(function*(T){const D=Xo(T),V=yield(yield Rn()).transaction(Qs).objectStore(Qs).get(D);if(V)return V;{const ne=yield Ri(T.appConfig.senderId);if(ne)return yield Js(T,ne),ne}})).apply(this,arguments)}function Js(T,D){return an.apply(this,arguments)}function an(){return(an=(0,P.Z)(function*(T,D){const R=Xo(T),ne=(yield Rn()).transaction(Qs,"readwrite");return yield ne.objectStore(Qs).put(D,R),yield ne.complete,D})).apply(this,arguments)}function Wh(T){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,P.Z)(function*(T){const D=Xo(T),V=(yield Rn()).transaction(Qs,"readwrite");yield V.objectStore(Qs).delete(D),yield V.complete})).apply(this,arguments)}function Xo({appConfig:T}){return T.appId}const An=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zc(T,D){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(T,D){const R=yield Rl(T),V=ut(D),ne={method:"POST",headers:R,body:JSON.stringify(V)};let he;try{he=yield(yield fetch(is(T.appConfig),ne)).json()}catch(Ae){throw An.create("token-subscribe-failed",{errorInfo:Ae})}if(he.error)throw An.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw An.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function ei(T,D){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(T,D){const R=yield Rl(T),V=ut(D.subscriptionOptions),ne={method:"PATCH",headers:R,body:JSON.stringify(V)};let he;try{he=yield(yield fetch(`${is(T.appConfig)}/${D.token}`,ne)).json()}catch(Ae){throw An.create("token-update-failed",{errorInfo:Ae})}if(he.error)throw An.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw An.create("token-update-no-token");return he.token})).apply(this,arguments)}function qa(T,D){return pr.apply(this,arguments)}function pr(){return(pr=(0,P.Z)(function*(T,D){const V={method:"DELETE",headers:yield Rl(T)};try{const he=yield(yield fetch(`${is(T.appConfig)}/${D}`,V)).json();if(he.error)throw An.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(ne){throw An.create("token-unsubscribe-failed",{errorInfo:ne})}})).apply(this,arguments)}function is({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Rl(T){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*({appConfig:T,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ut({p256dh:T,auth:D,endpoint:R,vapidKey:V}){const ne={web:{endpoint:R,auth:D,p256dh:T}};return V!==Gc&&(ne.web.applicationPubKey=V),ne}const md=6048e5;function _d(T){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,P.Z)(function*(T){const D=yield Za(T.swRegistration,T.vapidKey),R={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:D.endpoint,auth:gi(D.getKey("auth")),p256dh:gi(D.getKey("p256dh"))},V=yield za(T.firebaseDependencies);if(V){if(Ya(V.subscriptionOptions,R))return Date.now()>=V.createTime+md?Kc(T,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield qa(T.firebaseDependencies,V.token)}catch(ne){console.warn(ne)}return Ie(T.firebaseDependencies,R)}return Ie(T.firebaseDependencies,R)})).apply(this,arguments)}function kl(T){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,P.Z)(function*(T){const D=yield za(T.firebaseDependencies);D&&(yield qa(T.firebaseDependencies,D.token),yield Wh(T.firebaseDependencies));const R=yield T.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Kc(T,D){return ss.apply(this,arguments)}function ss(){return(ss=(0,P.Z)(function*(T,D){try{const R=yield ei(T.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield Js(T.firebaseDependencies,V),R}catch(R){throw yield kl(T),R}})).apply(this,arguments)}function Ie(T,D){return xt.apply(this,arguments)}function xt(){return(xt=(0,P.Z)(function*(T,D){const V={token:yield Zc(T,D),createTime:Date.now(),subscriptionOptions:D};return yield Js(T,V),V.token})).apply(this,arguments)}function Za(T,D){return wn.apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(T,D){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pd(D)})})).apply(this,arguments)}function Ya(T,D){return D.vapidKey===T.vapidKey&&D.endpoint===T.endpoint&&D.auth===T.auth&&D.p256dh===T.p256dh}function Oi(T){const D={from:T.from,collapseKey:T.collapse_key,messageId:T.fcm_message_id};return function(T,D){if(!D.notification)return;T.notification={};const R=D.notification.title;R&&(T.notification.title=R);const V=D.notification.body;V&&(T.notification.body=V);const ne=D.notification.image;ne&&(T.notification.image=ne)}(D,T),function(T,D){!D.data||(T.data=D.data)}(D,T),function(T,D){if(!D.fcmOptions)return;T.fcmOptions={};const R=D.fcmOptions.link;R&&(T.fcmOptions.link=R);const V=D.fcmOptions.analytics_label;V&&(T.fcmOptions.analyticsLabel=V)}(D,T),D}function Zh(T){return"object"==typeof T&&!!T&&pi in T}function Ol(T,D){const R=[];for(let V=0;V<T.length;V++)R.push(T.charAt(V)),V<D.length&&R.push(D.charAt(V));return R.join("")}function Xs(T){return An.create("missing-app-config-values",{valueName:T})}Ol("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ol("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sr{constructor(D,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function(T){if(!T||!T.options)throw Xs("App Configuration Object");if(!T.name)throw Xs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=T;for(const V of D)if(!R[V])throw Xs(V);return{appName:T.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:ne,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function jr(T){return ta.apply(this,arguments)}function ta(){return(ta=(0,P.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register($c,{scope:fd}),T.swRegistration.update().catch(()=>{})}catch(D){throw An.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Pi(T,D){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,P.Z)(function*(T,D){if(!D&&!T.swRegistration&&(yield jr(T)),D||!T.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw An.create("invalid-sw-registration");T.swRegistration=D}})).apply(this,arguments)}function Jp(T,D){return na.apply(this,arguments)}function na(){return(na=(0,P.Z)(function*(T,D){D?T.vapidKey=D:T.vapidKey||(T.vapidKey=Gc)})).apply(this,arguments)}function Qa(){return(Qa=(0,P.Z)(function*(T,D){if(!navigator)throw An.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw An.create("permission-blocked");return yield Jp(T,null==D?void 0:D.vapidKey),yield Pi(T,null==D?void 0:D.serviceWorkerRegistration),_d(T)})).apply(this,arguments)}function Jc(T,D,R){return bo.apply(this,arguments)}function bo(){return(bo=(0,P.Z)(function*(T,D,R){const V=Xc(D);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[pi],message_name:R[Ss],message_time:R[ns],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xc(T){switch(T){case Qo.NOTIFICATION_CLICKED:return"notification_open";case Qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Nl(){return(Nl=(0,P.Z)(function*(T,D){const R=D.data;if(!R.isFirebaseMessaging)return;T.onMessageHandler&&R.messageType===Qo.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Oi(R)):T.onMessageHandler.next(Oi(R)));const V=R.data;Zh(V)&&"1"===V[zc]&&(yield Jc(T,R.messageType,V))})).apply(this,arguments)}const Ja="@firebase/messaging";function Ll(){return wo.apply(this,arguments)}function wo(){return(wo=(0,P.Z)(function*(){return"undefined"!=typeof window&&(0,ce.hl)()&&(yield(0,ce.eu)())&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new K.wA("messaging",T=>{const D=new sr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(T,D){return Nl.apply(this,arguments)}(D,R)),D},"PUBLIC")),(0,le._registerComponent)(new K.wA("messaging-internal",T=>{const D=T.getProvider("messaging").getImmediate();return{getToken:V=>function(T,D){return Qa.apply(this,arguments)}(D,V)}},"PRIVATE")),(0,le.registerVersion)(Ja,"0.9.4"),(0,le.registerVersion)(Ja,"0.9.4","esm2017");const Bl="analytics",tu="firebase_id",sa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Co="https://www.googletagmanager.com/gtag/js",Kn=new re.Yd("@firebase/analytics");function nu(T){return Promise.all(T.map(D=>D.catch(R=>R)))}function vd(T,D){const R=document.createElement("script");R.src=`${Co}?l=${T}&id=${D}`,R.async=!0,document.head.appendChild(R)}function Vl(T,D,R,V,ne,he){return To.apply(this,arguments)}function To(){return(To=(0,P.Z)(function*(T,D,R,V,ne,he){const Ae=V[ne];try{if(Ae)yield D[Ae];else{const We=(yield nu(R)).find(Bt=>Bt.measurementId===ne);We&&(yield D[We.appId])}}catch(ze){Kn.error(ze)}T("config",ne,he)})).apply(this,arguments)}function bd(T,D,R,V,ne){return Io.apply(this,arguments)}function Io(){return(Io=(0,P.Z)(function*(T,D,R,V,ne){try{let he=[];if(ne&&ne.send_to){let Ae=ne.send_to;Array.isArray(Ae)||(Ae=[Ae]);const ze=yield nu(R);for(const We of Ae){const Bt=ze.find(Jn=>Jn.measurementId===We),rn=Bt&&D[Bt.appId];if(!rn){he=[];break}he.push(rn)}}0===he.length&&(he=Object.values(D)),yield Promise.all(he),T("event",V,ne||{})}catch(he){Kn.error(he)}})).apply(this,arguments)}function Xp(){const T=window.document.getElementsByTagName("script");for(const D of Object.values(T))if(D.src&&D.src.includes(Co))return D;return null}const as=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ul=new class{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Jh(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function su(T){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,P.Z)(function*(T){var D;const{appId:R,apiKey:V}=T,ne={method:"GET",headers:Jh(V)},he=sa.replace("{app-id}",R),Ae=yield fetch(he,ne);if(200!==Ae.status&&304!==Ae.status){let ze="";try{const We=yield Ae.json();(null===(D=We.error)||void 0===D?void 0:D.message)&&(ze=We.error.message)}catch(We){}throw as.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:ze})}return Ae.json()})).apply(this,arguments)}function oa(T){return xs.apply(this,arguments)}function xs(){return(xs=(0,P.Z)(function*(T,D=Ul,R){const{appId:V,apiKey:ne,measurementId:he}=T.options;if(!V)throw as.create("no-app-id");if(!ne){if(he)return{measurementId:he,appId:V};throw as.create("no-api-key")}const Ae=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new au;return setTimeout((0,P.Z)(function*(){ze.abort()}),void 0!==R?R:6e4),ou({appId:V,apiKey:ne,measurementId:he},Ae,ze,D)})).apply(this,arguments)}function ou(T,D,R){return aa.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(T,{throttleEndTimeMillis:D,backoffCount:R},V,ne=Ul){const{appId:he,measurementId:Ae}=T;try{yield H_(V,D)}catch(ze){if(Ae)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:he,measurementId:Ae};throw ze}try{const ze=yield su(T);return ne.deleteThrottleMetadata(he),ze}catch(ze){if(!wd(ze)){if(ne.deleteThrottleMetadata(he),Ae)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:he,measurementId:Ae};throw ze}const We=503===Number(ze.customData.httpStatus)?(0,ce.$s)(R,ne.intervalMillis,30):(0,ce.$s)(R,ne.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+We,backoffCount:R+1};return ne.setThrottleMetadata(he,Bt),Kn.debug(`Calling attemptFetch again in ${We} millis`),ou(T,Bt,V,ne)}})).apply(this,arguments)}function H_(T,D){return new Promise((R,V)=>{const ne=Math.max(D-Date.now(),0),he=setTimeout(R,ne);T.addEventListener(()=>{clearTimeout(he),V(as.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function wd(T){if(!(T instanceof ce.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}class au{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Cd(){return Td.apply(this,arguments)}function Td(){return(Td=(0,P.Z)(function*(){if(!(0,ce.hl)())return Kn.warn(as.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(T){return Kn.warn(as.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function nl(){return(nl=(0,P.Z)(function*(T,D,R,V,ne,he,Ae){var ze;const We=oa(T);We.then(ar=>{R[ar.measurementId]=ar.appId,T.options.measurementId&&ar.measurementId!==T.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>Kn.error(ar)),D.push(We);const Bt=Cd().then(ar=>{if(ar)return V.getId()}),[rn,Jn]=yield Promise.all([We,Bt]);Xp()||vd(he,rn.measurementId),ne("js",new Date);const ni=null!==(ze=null==Ae?void 0:Ae.config)&&void 0!==ze?ze:{};return ni.origin="firebase",ni.update=!0,null!=Jn&&(ni[tu]=Jn),ne("config",rn.measurementId,ni),rn.measurementId})).apply(this,arguments)}class kn{constructor(D){this.app=D}_delete(){return delete Ue[this.app.options.appId],Promise.resolve()}}let Ue={},Je=[];const Id={};let no,Qn,or="dataLayer",lu=!1;function St(T,D,R){!function(){const T=[];if((0,ce.ru)()&&T.push("This is a browser extension environment."),(0,ce.zI)()||T.push("Cookies are not available."),T.length>0){const D=T.map((V,ne)=>`(${ne+1}) ${V}`).join(" "),R=as.create("invalid-analytics-context",{errorInfo:D});Kn.warn(R.message)}}();const V=T.options.appId;if(!V)throw as.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw as.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ue[V])throw as.create("already-exists",{id:V});if(!lu){!function(T){let D=[];Array.isArray(window[T])?D=window[T]:window[T]=D}(or);const{wrappedGtag:he,gtagCore:Ae}=function(T,D,R,V,ne){let he=function(...Ae){window[V].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(he=window[ne]),window[ne]=function(T,D,R,V){function he(){return(he=(0,P.Z)(function*(Ae,ze,We){try{"event"===Ae?yield bd(T,D,R,ze,We):"config"===Ae?yield Vl(T,D,R,V,ze,We):T("set",ze)}catch(Bt){Kn.error(Bt)}})).apply(this,arguments)}return function(Ae,ze,We){return he.apply(this,arguments)}}(he,T,D,R),{gtagCore:he,wrappedGtag:window[ne]}}(Ue,Je,Id,or,"gtag");Qn=he,no=Ae,lu=!0}return Ue[V]=function(T,D,R,V,ne,he,Ae){return nl.apply(this,arguments)}(T,Je,Id,D,no,or,R),new kn(T)}function la(){return(la=(0,P.Z)(function*(T,D,R,V,ne){if(ne&&ne.global)T("event",R,V);else{const he=yield D;T("event",R,Object.assign(Object.assign({},V),{send_to:he}))}})).apply(this,arguments)}function ks(){return $l.apply(this,arguments)}function $l(){return($l=(0,P.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(T){return!1}})).apply(this,arguments)}const ef="@firebase/analytics";(0,le._registerComponent)(new K.wA(Bl,(D,{options:R})=>St(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new K.wA("analytics-internal",function(D){try{const R=D.getProvider(Bl).getImmediate();return{logEvent:(V,ne,he)=>function(T,D,R,V){T=(0,ce.m9)(T),function(T,D,R,V,ne){return la.apply(this,arguments)}(Qn,Ue[T.app.options.appId],D,R,V).catch(ne=>Kn.error(ne))}(R,V,ne,he)}}catch(R){throw as.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(ef,"0.7.4"),(0,le.registerVersion)(ef,"0.7.4","esm2017");var tf=F(7771),tg=F(3637),yi=F(3342),zl=F(9673),Ad=F(6136);const ng=new u.GfV("7.2.0"),du="__angularfire_symbol__analyticsIsSupported",Ps="__angularfire_symbol__remoteConfigIsSupported",ua="__angularfire_symbol__messagingIsSupported";function us(T,D,R){if(D){if(1===D.length)return D[0];const he=D.filter(Ae=>Ae.app===R);if(1===he.length)return he[0]}return R.container.getProvider(T).getImmediate({optional:!0})}globalThis[du]||(globalThis[du]=ks().then(T=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=T)),globalThis[ua]||(globalThis[ua]=Ll().then(T=>globalThis.__angularfire_symbol__messagingIsSupportedValue=T)),globalThis[Ps]||(globalThis[Ps]=zh().then(T=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=T));const sl=(T,D)=>{const R=D?[D]:(0,j.C6)(),V=[];return R.forEach(ne=>{ne.container.getProvider(T).instances.forEach(Ae=>{V.includes(Ae)||V.push(Ae)})}),V};function vi(){}class Ns{constructor(D,R=tf.N){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,V){const ne=this.zone;return this.delegate.schedule(function(Ae){ne.runGuarded(()=>{D.apply(this,[Ae])})},R,V)}}class hu{constructor(D){this.zone=D,this.task=null}call(D,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vi,{},vi,vi)),R.pipe((0,yi.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Md=(()=>{class T{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ns(Zone.current)),this.insideAngular=R.run(()=>new Ns(Zone.current,tg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(R){return new(R||T)(u.LFG(u.R0b))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Do(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Wn(T){return Do(),function(T){return function(R){return(R=R.lift(new hu(T.ngZone))).pipe((0,zl.R)(T.outsideAngular),(0,Ad.QV)(T.insideAngular))}}(Do())(T)}},2476:(Ye,we,F)=>{"use strict";F.d(we,{$:()=>Jp,A:()=>po,E:()=>Or,G:()=>Er,I:()=>As,K:()=>Cs,L:()=>za,M:()=>Wh,N:()=>Wc,P:()=>ne,Q:()=>Xo,R:()=>Do,T:()=>an,U:()=>ki,V:()=>ei,W:()=>Rl,X:()=>Oi,Y:()=>Ka,Z:()=>Zh,_:()=>sr,a:()=>no,a0:()=>Qc,a1:()=>Jc,a2:()=>Xc,a3:()=>Nl,a4:()=>Xa,a5:()=>Yh,a6:()=>yd,a7:()=>wo,a8:()=>Kh,a9:()=>Gn,aA:()=>Ao,aB:()=>Bs,aC:()=>kr,aG:()=>jl,aJ:()=>An,aa:()=>j_,ab:()=>Bl,ae:()=>sa,af:()=>Kn,ag:()=>nu,aj:()=>Yc,ak:()=>eg,am:()=>ou,an:()=>Td,ao:()=>$h,ap:()=>Un,aq:()=>Ha,ar:()=>Ts,as:()=>en,at:()=>Bd,au:()=>Pd,av:()=>Qt,aw:()=>Re,ax:()=>Ve,ay:()=>pt,az:()=>Yl,b:()=>or,c:()=>ar,d:()=>Ls,e:()=>ol,f:()=>ll,g:()=>kd,h:()=>Nr,i:()=>tf,j:()=>sg,k:()=>_u,l:()=>Wn,m:()=>Vd,o:()=>Ji,r:()=>gr,s:()=>nf,u:()=>R,z:()=>es});var u=F(8239),j=F(3854),P=F(8026);function re(b,g){var _={};for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&g.indexOf(w)<0&&(_[w]=b[w]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(w=Object.getOwnPropertySymbols(b);M<w.length;M++)g.indexOf(w[M])<0&&Object.prototype.propertyIsEnumerable.call(b,w[M])&&(_[w[M]]=b[w[M]])}return _}var lt=F(5422),jt=F(3910);const Ji={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},po={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const es=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},vs=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ui=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bs=new lt.Yd("@firebase/auth");function pn(b,...g){bs.logLevel<=lt.in.ERROR&&bs.error(`Auth (${P.SDK_VERSION}): ${b}`,...g)}function en(b,...g){throw Mi(b,...g)}function Qt(b,...g){return Mi(b,...g)}function Es(b,g,_){const w=Object.assign(Object.assign({},vs()),{[g]:_});return new j.LL("auth","Firebase",w).create(g,{appName:b.name})}function di(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&en(b,"argument-error"),Es(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mi(b,...g){if("string"!=typeof b){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return ui.create(b,...g)}function Re(b,g,..._){if(!b)throw Mi(g,..._)}function En(b){const g="INTERNAL ASSERTION FAILED: "+b;throw pn(g),new Error(g)}function Un(b,g){b||En(g)}const hi=new Map;function Ve(b){Un(b instanceof Function,"Expected a class definition");let g=hi.get(b);return g?(Un(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,hi.set(b,g),g)}function jn(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function it(){return"http:"===nt()||"https:"===nt()}function nt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Hn{constructor(g,_){this.shortDelay=g,this.longDelay=_,Un(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tn(b,g){Un(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Oe{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ja=new Hn(3e4,6e4);function ln(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function nn(b,g,_,w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,u.Z)(function*(b,g,_,w,M={}){return cn(b,M,()=>{let k={},J={};w&&("GET"===g?J=w:k={body:JSON.stringify(w)});const be=(0,j.xO)(Object.assign({key:b.config.apiKey},J)).slice(1),He=new(Oe.headers());return He.set("Content-Type","application/json"),He.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&He.set("X-Firebase-Locale",b.languageCode),Oe.fetch()(W(b,b.config.apiHost,_,be),Object.assign({method:g,headers:He,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function cn(b,g,_){return qs.apply(this,arguments)}function qs(){return(qs=(0,u.Z)(function*(b,g,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},et),g);try{const M=new Ee(b),k=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const J=yield k.json();if("needConfirmation"in J)throw ue(b,"account-exists-with-different-credential",J);if(k.ok&&!("errorMessage"in J))return J;{const be=k.ok?J.errorMessage:J.error.message,[He,Ne]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw ue(b,"credential-already-in-use",J);if("EMAIL_EXISTS"===He)throw ue(b,"email-already-in-use",J);const st=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw Es(b,st,Ne);en(b,st)}}catch(M){if(M instanceof j.ZR)throw M;en(b,"network-request-failed")}})).apply(this,arguments)}function q(b,g,_,w){return z.apply(this,arguments)}function z(){return(z=(0,u.Z)(function*(b,g,_,w,M={}){const k=yield nn(b,g,_,w,M);return"mfaPendingCredential"in k&&en(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function W(b,g,_,w){const M=`${g}${_}?${w}`;return b.config.emulator?tn(b.config,M):`${b.config.apiScheme}://${M}`}class Ee{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Qt(this.auth,"timeout")),ja.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ue(b,g,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const M=Qt(b,g,w);return M.customData._tokenResponse=_,M}function ct(){return(ct=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Wt(b,g){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $n(b,g){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ie(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Te(){return(Te=(0,u.Z)(function*(b,g=!1){const _=(0,j.m9)(b),w=yield _.getIdToken(g),M=ft(w);Re(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,J=null==k?void 0:k.sign_in_provider;return{claims:M,token:w,authTime:ie(Fe(M.auth_time)),issuedAtTime:ie(Fe(M.iat)),expirationTime:ie(Fe(M.exp)),signInProvider:J||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Fe(b){return 1e3*Number(b)}function ft(b){const[g,_,w]=b.split(".");if(void 0===g||void 0===_||void 0===w)return pn("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(pn("Failed to decode base64 JWT payload"),null)}catch(M){return pn("Caught error parsing JWT payload as JSON",M),null}}function Dt(b,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof j.ZR&&un(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function un({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Dn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,u.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Et{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(b){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(b){var g;const _=b.auth,w=yield b.getIdToken(),M=yield Dt(b,$n(_,{idToken:w}));Re(null==M?void 0:M.users.length,_,"internal-error");const k=M.users[0];b._notifyReloadListener(k);const J=(null===(g=k.providerUserInfo)||void 0===g?void 0:g.length)?dn(k.providerUserInfo):[],be=Pt(b.providerData,J),st=!!b.isAnonymous&&!(b.email&&k.passwordHash||(null==be?void 0:be.length)),Zt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:be,metadata:new Et(k.createdAt,k.lastLoginAt),isAnonymous:st};Object.assign(b,Zt)})).apply(this,arguments)}function Be(){return(Be=(0,u.Z)(function*(b){const g=(0,j.m9)(b);yield Sn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Pt(b,g){return[...b.filter(w=>!g.some(M=>M.providerId===w.providerId)),...g]}function dn(b){return b.map(g=>{var{providerId:_}=g,w=re(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ws(){return(ws=(0,u.Z)(function*(b,g){const _=yield cn(b,{},()=>{const w=(0,j.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:k}=b.config,J=W(b,M,"/v1/token",`key=${k}`);return Oe.fetch()(J,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Re(g.idToken,"internal-error"),Re(void 0!==g.idToken,"internal-error"),Re(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(b){const g=ft(b);return Re(g,"internal-error"),Re(void 0!==g.exp,"internal-error"),Re(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,u.Z)(function*(){return Re(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:J}=yield function(b,g){return ws.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(M,k,Number(J))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:M,expirationTime:k}=_,J=new Ln;return w&&(Re("string"==typeof w,"internal-error",{appName:g}),J.refreshToken=w),M&&(Re("string"==typeof M,"internal-error",{appName:g}),J.accessToken=M),k&&(Re("number"==typeof k,"internal-error",{appName:g}),J.expirationTime=k),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ln,this.toJSON())}_performRefresh(){return En("not implemented")}}function vr(b,g){Re("string"==typeof b||void 0===b,"internal-error",{appName:g})}class gn{constructor(g){var{uid:_,auth:w,stsTokenManager:M}=g,k=re(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new Et(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,u.Z)(function*(){const w=yield Dt(_,_.stsTokenManager.getToken(_.auth,g));return Re(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function(b){return Te.apply(this,arguments)}(this,g)}reload(){return function(b){return Be.apply(this,arguments)}(this)}_assign(g){this!==g&&(Re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new gn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,u.Z)(function*(){let M=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Sn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,u.Z)(function*(){const _=yield g.getIdToken();return yield Dt(g,function(b,g){return ct.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,M,k,J,be,He,Ne,st;const Zt=null!==(w=_.displayName)&&void 0!==w?w:void 0,_n=null!==(M=_.email)&&void 0!==M?M:void 0,Fr=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,yn=null!==(J=_.photoURL)&&void 0!==J?J:void 0,yu=null!==(be=_.tenantId)&&void 0!==be?be:void 0,Ud=null!==(He=_._redirectEventId)&&void 0!==He?He:void 0,jd=null!==(Ne=_.createdAt)&&void 0!==Ne?Ne:void 0,gf=null!==(st=_.lastLoginAt)&&void 0!==st?st:void 0,{uid:Hd,emailVerified:ug,isAnonymous:$d,providerData:io,stsTokenManager:dg}=_;Re(Hd&&dg,g,"internal-error");const rc=Ln.fromJSON(this.name,dg);Re("string"==typeof Hd,g,"internal-error"),vr(Zt,g.name),vr(_n,g.name),Re("boolean"==typeof ug,g,"internal-error"),Re("boolean"==typeof $d,g,"internal-error"),vr(Fr,g.name),vr(yn,g.name),vr(yu,g.name),vr(Ud,g.name),vr(jd,g.name),vr(gf,g.name);const hg=new gn({uid:Hd,auth:g,email:_n,emailVerified:ug,displayName:Zt,isAnonymous:$d,photoURL:yn,phoneNumber:Fr,tenantId:yu,stsTokenManager:rc,createdAt:jd,lastLoginAt:gf});return io&&Array.isArray(io)&&(hg.providerData=io.map(vu=>Object.assign({},vu))),Ud&&(hg._redirectEventId=Ud),hg}static _fromIdTokenResponse(g,_,w=!1){return(0,u.Z)(function*(){const M=new Ln;M.updateFromServerResponse(_);const k=new gn({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:w});return yield Sn(k),k})()}}const Cs=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,w){var M=this;return(0,u.Z)(function*(){M.storage[_]=w})()}_get(_){var w=this;return(0,u.Z)(function*(){const M=w.storage[_];return void 0===M?null:M})()}_remove(_){var w=this;return(0,u.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function pt(b,g,_){return`firebase:${b}:${g}:${_}`}class Xr{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:M,name:k}=this.auth;this.fullUserKey=pt(this.userKey,M.apiKey,k),this.fullPersistenceKey=pt("persistence",M.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,u.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?gn._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,u.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,u.Z)(function*(){if(!_.length)return new Xr(Ve(Cs),g,w);const M=(yield Promise.all(_.map(function(){var Ne=(0,u.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let k=M[0]||Ve(Cs);const J=pt(w,g.config.apiKey,g.name);let be=null;for(const Ne of _)try{const st=yield Ne._get(J);if(st){const Zt=gn._fromJSON(g,st);Ne!==k&&(be=Zt),k=Ne;break}}catch(st){}const He=M.filter(Ne=>Ne._shouldAllowMigration);return k._shouldAllowMigration&&He.length?(k=He[0],be&&(yield k._set(J,be.toJSON())),yield Promise.all(_.map(function(){var Ne=(0,u.Z)(function*(st){if(st!==k)try{yield st._remove(J)}catch(Zt){}});return function(st){return Ne.apply(this,arguments)}}())),new Xr(k,g,w)):new Xr(k,g,w)})()}}function Zs(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(mo(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(fr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(fi(g))return"Blackberry";if(Jt(g))return"Webos";if(go(g))return"Safari";if((g.includes("chrome/")||br(g))&&!g.includes("edge/"))return"Chrome";if(Ts(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function fr(b=(0,j.z$)()){return/firefox\//i.test(b)}function go(b=(0,j.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function br(b=(0,j.z$)()){return/crios\//i.test(b)}function mo(b=(0,j.z$)()){return/iemobile/i.test(b)}function Ts(b=(0,j.z$)()){return/android/i.test(b)}function fi(b=(0,j.z$)()){return/blackberry/i.test(b)}function Jt(b=(0,j.z$)()){return/webos/i.test(b)}function Ha(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)}function $h(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function _o(b=(0,j.z$)()){return Ha(b)||Ts(b)||Jt(b)||fi(b)||/windows phone/i.test(b)||mo(b)}function Is(b,g=[]){let _;switch(b){case"Browser":_=Zs((0,j.z$)());break;case"Worker":_=`${Zs((0,j.z$)())}-${b}`;break;default:_=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${w}`}class Rr{constructor(g,_){this.app=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ds(this),this.idTokenSubscription=new Ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ui,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=Ve(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,k;w._deleted||(w.persistenceManager=yield Xr.create(w,g),!w._deleted&&((null===(M=w._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,u.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,u.Z)(function*(){var w;let M=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const k=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,J=null==M?void 0:M._redirectEventId,be=yield _.tryRedirectSignIn(g);(!k||k===J)&&(null==be?void 0:be.user)&&(M=be.user)}return M?M._redirectEventId?(Re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,u.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(M){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,u.Z)(function*(){try{yield Sn(g)}catch(w){if("auth/network-request-failed"!==w.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,u.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){const w=g?(0,j.m9)(g):null;return w&&Re(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,u.Z)(function*(){if(!_._deleted)return g&&Re(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,u.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,u.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(Ve(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new j.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,u.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&Ve(g)||_._popupRedirectResolver;Re(w,_,"argument-error"),_.redirectPersistenceManager=yield Xr.create(_,[Ve(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,u.Z)(function*(){var w,M;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,u.Z)(function*(){if(g===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,M){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(J,this,"internal-error"),J.then(()=>k(this.currentUser)),"function"==typeof _?g.addObserver(_,w,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Is(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function kr(b){return(0,j.m9)(b)}class Ds{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(b,g,_){const w=kr(b);Re(w._canInitEmulator,w,"emulator-config-failed"),Re(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),k=Vc(g),{host:J,port:be}=function(b){const g=Vc(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const k=M[1];return{host:k,port:$a(w.substr(k.length+1))}}{const[k,J]=w.split(":");return{host:k,port:$a(J)}}}(g);w.config.emulator={url:`${k}//${J}${null===be?"":`:${be}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:be,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Vc(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function $a(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Er{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return En("not implemented")}_getIdTokenResponse(g){return En("not implemented")}_linkToIdToken(g,_){return En("not implemented")}_getReauthenticationResolver(g){return En("not implemented")}}function Gh(b,g){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:resetPassword",ln(b,g))})).apply(this,arguments)}function ad(b,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yp(b,g){return cd.apply(this,arguments)}function cd(){return(cd=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:update",ln(b,g))})).apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signInWithPassword",ln(b,g))})).apply(this,arguments)}function Hc(b,g){return ud.apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:sendOobCode",ln(b,g))})).apply(this,arguments)}function Kp(b,g){return dd.apply(this,arguments)}function dd(){return(dd=(0,u.Z)(function*(b,g){return Hc(b,g)})).apply(this,arguments)}function Qp(b,g){return hd.apply(this,arguments)}function hd(){return(hd=(0,u.Z)(function*(b,g){return Hc(b,g)})).apply(this,arguments)}function U_(b,g){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,u.Z)(function*(b,g){return Hc(b,g)})).apply(this,arguments)}function zh(b,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(b,g){return Hc(b,g)})).apply(this,arguments)}function fd(){return(fd=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signInWithEmailLink",ln(b,g))})).apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signInWithEmailLink",ln(b,g))})).apply(this,arguments)}class pi extends Er{constructor(g,_,w,M=null){super("password",w),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new pi(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new pi(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function(b,g){return Ks.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(b,g){return fd.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:en(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return ad(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(b,g){return Al.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:en(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ss(b,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signInWithIdp",ln(b,g))})).apply(this,arguments)}class As extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new As(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):en("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:M}=_,k=re(_,["providerId","signInMethod"]);if(!w||!M)return null;const J=new As(w,M);return J.idToken=k.idToken||void 0,J.accessToken=k.accessToken||void 0,J.secret=k.secret,J.nonce=k.nonce,J.pendingToken=k.pendingToken||null,J}_getIdTokenResponse(g){return Ss(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Ss(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ss(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,j.xO)(_)}return g}}function Qo(b,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:sendVerificationCode",ln(b,g))})).apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signInWithPhoneNumber",ln(b,g))})).apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(b,g){const _=yield q(b,"POST","/v1/accounts:signInWithPhoneNumber",ln(b,g));if(_.temporaryProof)throw ue(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Ri={USER_NOT_FOUND:"user-not-found"};function Ml(){return(Ml=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signInWithPhoneNumber",ln(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ri)})).apply(this,arguments)}class rs extends Er{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new rs({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new rs({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function(b,g){return Jo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function(b,g){return qc.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(b,g){return Ml.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:k}=g;return w||_||M||k?new rs({verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:k}):null}}class yo{constructor(g){var _,w,M,k,J,be;const He=(0,j.zd)((0,j.pd)(g)),Ne=null!==(_=He.apiKey)&&void 0!==_?_:null,st=null!==(w=He.oobCode)&&void 0!==w?w:null,Zt=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);Re(Ne&&st&&Zt,"argument-error"),this.apiKey=Ne,this.operation=Zt,this.code=st,this.continueUrl=null!==(k=He.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(J=He.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(be=He.tenantId)&&void 0!==be?be:null}static parseLink(g){const _=function(b){const g=(0,j.zd)((0,j.pd)(b)).link,_=g?(0,j.zd)((0,j.pd)(g)).deep_link_id:null,w=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(w?(0,j.zd)((0,j.pd)(w)).link:null)||w||_||g||b}(g);try{return new yo(_)}catch(w){return null}}}let za=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return pi._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const M=yo.parseLink(w);return Re(M,"argument-error"),pi._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class wr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Js extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class an extends Js{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return Re("providerId"in _&&"signInMethod"in _,"argument-error"),As._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Re(g.idToken||g.accessToken,"argument-error"),As._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return an.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return an.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:k,nonce:J,providerId:be}=g;if(!w&&!M&&!_&&!k||!be)return null;try{return new an(be)._credential({idToken:_,accessToken:w,nonce:J,pendingToken:k})}catch(He){return null}}}let Wh=(()=>{class b extends Js{constructor(){super("facebook.com")}static credential(_){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Wc=(()=>{class b extends Js{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:M}=_;if(!w&&!M)return null;try{return b.credential(w,M)}catch(k){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Xo=(()=>{class b extends Js{constructor(){super("github.com")}static credential(_){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class An extends Er{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Ss(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,Ss(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Ss(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:M,pendingToken:k}=_;return w&&M&&k&&w===M?new An(w,k):null}static _create(g,_){return new An(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends wr{constructor(g){Re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return ki.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return ki.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=An.fromJSON(g);return Re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return An._create(w,_)}catch(M){return null}}}let ei=(()=>{class b extends Js{constructor(){super("twitter.com")}static credential(_,w){return As._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=_;if(!w||!M)return null;try{return b.credential(w,M)}catch(k){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function xl(b,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signUp",ln(b,g))})).apply(this,arguments)}class pr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,M=!1){return(0,u.Z)(function*(){const k=yield gn._fromIdTokenResponse(g,w,M),J=is(w);return new pr({user:k,providerId:J,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,u.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const M=is(w);return new pr({user:g,providerId:M,_tokenResponse:w,operationType:_})})()}}function is(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Rl(b){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(b){var g;const _=kr(b);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new pr({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield xl(_,{returnSecureToken:!0}),M=yield pr._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class ut extends j.ZR{constructor(g,_,w,M){var k;super(_.code,_.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,ut.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,M){return new ut(g,_,w,M)}}function md(b,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?ut._fromErrorAndOperation(b,k,g,w):k})}function _d(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Yc(b,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(b,g){const _=(0,j.m9)(b);yield ss(!0,_,g);const{providerUserInfo:w}=yield Wt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=_d(w||[]);return _.providerData=_.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Wa(b,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(b,g,_=!1){const w=yield Dt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return pr._forOperation(b,"link",w)})).apply(this,arguments)}function ss(b,g,_){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(b,g,_){yield Sn(g);const M=!1===b?"provider-already-linked":"no-such-provider";Re(_d(g.providerData).has(_)===b,g.auth,M)})).apply(this,arguments)}function xt(b,g){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(b,g,_=!1){const{auth:w}=b,M="reauthenticate";try{const k=yield Dt(b,md(w,M,g,b),_);Re(k.idToken,w,"internal-error");const J=ft(k.idToken);Re(J,w,"internal-error");const{sub:be}=J;return Re(b.uid===be,w,"user-mismatch"),pr._forOperation(b,M,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&en(w,"user-mismatch"),k}})).apply(this,arguments)}function wn(b,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(b,g,_=!1){const w="signIn",M=yield md(b,w,g),k=yield pr._fromIdTokenResponse(b,w,M);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Oi(b,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(b,g){return wn(kr(b),g)})).apply(this,arguments)}function Ka(b,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(b,g){const _=(0,j.m9)(b);return yield ss(!1,_,g.providerId),Wa(_,g)})).apply(this,arguments)}function Zh(b,g){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(b,g){return xt((0,j.m9)(b),g)})).apply(this,arguments)}function Pl(b,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(b,g){return q(b,"POST","/v1/accounts:signInWithCustomToken",ln(b,g))})).apply(this,arguments)}function sr(b,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(b,g){const _=kr(b),w=yield Pl(_,{token:g,returnSecureToken:!0}),M=yield pr._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class ta{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Pi._fromServerResponse(g,_):en(g,"internal-error")}}class Pi extends ta{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Pi(_)}}function Cr(b,g,_){var w;Re((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),Re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Re(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(Re(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Jp(b,g,_){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b),M={requestType:"PASSWORD_RESET",email:g};_&&Cr(w,M,_),yield Qp(w,M)})).apply(this,arguments)}function Qc(b,g,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(b,g,_){yield Gh((0,j.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Jc(b,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(b,g){yield Yp((0,j.m9)(b),{oobCode:g})})).apply(this,arguments)}function Xc(b,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(b,g){const _=(0,j.m9)(b),w=yield Gh(_,{oobCode:g}),M=w.requestType;switch(Re(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(w.mfaInfo,_,"internal-error");default:Re(w.email,_,"internal-error")}let k=null;return w.mfaInfo&&(k=ta._fromServerResponse(kr(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function Nl(b,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(b,g){const{data:_}=yield Xc((0,j.m9)(b),g);return _.email})).apply(this,arguments)}function Xa(b,g,_){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,u.Z)(function*(b,g,_){const w=kr(b),M=yield xl(w,{returnSecureToken:!0,email:g,password:_}),k=yield pr._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function Yh(b,g,_){return Oi((0,j.m9)(b),za.credential(g,_))}function yd(b,g,_){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b),M={requestType:"EMAIL_SIGNIN",email:g};Re(_.handleCodeInApp,w,"argument-error"),_&&Cr(w,M,_),yield U_(w,M)})).apply(this,arguments)}function wo(b,g){const _=yo.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Kh(b,g,_){return el.apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b),M=za.credentialWithLink(g,_||jn());return Re(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Oi(w,M)})).apply(this,arguments)}function Tr(b,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:createAuthUri",ln(b,g))})).apply(this,arguments)}function Gn(b,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(b,g){const w={identifier:g,continueUri:it()?jn():"http://localhost"},{signinMethods:M}=yield Tr((0,j.m9)(b),w);return M||[]})).apply(this,arguments)}function j_(b,g){return eu.apply(this,arguments)}function eu(){return(eu=(0,u.Z)(function*(b,g){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Cr(_.auth,M,g);const{email:k}=yield Kp(_.auth,M);k!==b.email&&(yield b.reload())})).apply(this,arguments)}function Bl(b,g,_){return tu.apply(this,arguments)}function tu(){return(tu=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Cr(w.auth,k,_);const{email:J}=yield zh(w.auth,k);J!==b.email&&(yield b.reload())})).apply(this,arguments)}function ra(b,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(b,g){return nn(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function sa(b,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,j.m9)(b),k={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},J=yield Dt(w,ra(w.auth,k));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const be=w.providerData.find(({providerId:He})=>"password"===He);be&&(be.displayName=w.displayName,be.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function Kn(b,g){return vd((0,j.m9)(b),g,null)}function nu(b,g){return vd((0,j.m9)(b),null,g)}function vd(b,g,_){return os.apply(this,arguments)}function os(){return(os=(0,u.Z)(function*(b,g,_){const{auth:w}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(k.email=g),_&&(k.password=_);const J=yield Dt(b,ad(w,k));yield b._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class To{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class bd extends To{constructor(g,_,w,M){super(g,_,w),this.username=M}}class Io extends To{constructor(g,_){super(g,"facebook.com",_)}}class ru extends bd{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class iu extends To{constructor(g,_){super(g,"google.com",_)}}class Xp extends bd{constructor(g,_,w){super(g,"twitter.com",_,w)}}function eg(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(b){var g,_;if(!b)return null;const{providerId:w}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&(null==b?void 0:b.idToken)){const J=null===(_=null===(g=ft(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new To(k,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Io(k,M);case"github.com":return new ru(k,M);case"google.com":return new iu(k,M);case"twitter.com":return new Xp(k,M,b.screenName||null);case"custom":case"anonymous":return new To(k,null);default:return new To(k,w,M)}}(_)}class oa{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new oa("enroll",g)}static _fromMfaPendingCredential(g){return new oa("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return oa._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return oa._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xs{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=kr(g),M=_.customData._serverResponse,k=(M.mfaInfo||[]).map(be=>ta._fromServerResponse(w,be));Re(M.mfaPendingCredential,w,"internal-error");const J=oa._fromMfaPendingCredential(M.mfaPendingCredential);return new xs(J,k,function(){var be=(0,u.Z)(function*(He){const Ne=yield He._process(w,J);delete M.mfaInfo,delete M.mfaPendingCredential;const st=Object.assign(Object.assign({},M),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(_.operationType){case"signIn":const Zt=yield pr._fromIdTokenResponse(w,_.operationType,st);return yield w._updateCurrentUser(Zt.user),Zt;case"reauthenticate":return Re(_.user,w,"internal-error"),pr._forOperation(_.user,_.operationType,st);default:en(w,"internal-error")}});return function(He){return be.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,u.Z)(function*(){return _.signInResolver(g)})()}}function ou(b,g){var _;const w=(0,j.m9)(b),M=g;return Re(g.customData.operationType,w,"argument-error"),Re(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),xs._fromError(w,M)}function aa(b,g){return nn(b,"POST","/v2/accounts/mfaEnrollment:start",ln(b,g))}class au{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>ta._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new au(g)}getSession(){var g=this;return(0,u.Z)(function*(){return oa._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var w=this;return(0,u.Z)(function*(){const M=g,k=yield w.getSession(),J=yield Dt(w.user,M._process(w.user.auth,k,_));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(g){var _=this;return(0,u.Z)(function*(){const w="string"==typeof g?g:g.uid,M=yield _.user.getIdToken(),k=yield Dt(_.user,function(b,g){return nn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(b,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==w),yield _.user._updateTokensIfNecessary(k);try{yield _.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const Cd=new WeakMap;function Td(b){const g=(0,j.m9)(b);return Cd.has(g)||Cd.set(g,au._fromUser(g)),Cd.get(g)}const to="__sak";class nl{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(to,"1"),this.storage.removeItem(to),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const or=(()=>{class b extends nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,j.z$)();return go(b)||Ha(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=_o(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),k=this.localCache[w];M!==k&&_(w,k,M)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((be,He,Ne)=>{this.notifyListeners(be,Ne)});const M=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(M);if(_.newValue!==be)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!w)return}const k=()=>{const be=this.storage.getItem(M);!w&&this.localCache[M]===be||this.notifyListeners(M,be)},J=this.storage.getItem(M);(0,j.w1)()&&10===document.documentMode&&J!==_.newValue&&_.newValue!==_.oldValue?setTimeout(k,10):k()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var M=()=>super._set,k=this;return(0,u.Z)(function*(){yield M().call(k,_,w),k.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,M=this;return(0,u.Z)(function*(){const k=yield w().call(M,_);return M.localCache[_]=JSON.stringify(k),k})()}_remove(_){var w=()=>super._remove,M=this;return(0,u.Z)(function*(){yield w().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),no=(()=>{class b extends nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let lu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(k=>k.isListeningto(_));if(w)return w;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,u.Z)(function*(){const M=_,{eventId:k,eventType:J,data:be}=M.data,He=w.handlersMap[J];if(!(null==He?void 0:He.size))return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:J});const Ne=Array.from(He).map(function(){var Zt=(0,u.Z)(function*(_n){return _n(M.origin,be)});return function(_n){return Zt.apply(this,arguments)}}()),st=yield function(b){return Promise.all(b.map(function(){var g=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Ne);M.ports[0].postMessage({status:"done",eventId:k,eventType:J,response:st})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function jl(b="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return b+_}class Hl{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var M=this;return(0,u.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let J,be;return new Promise((He,Ne)=>{const st=jl("",20);k.port1.start();const Zt=setTimeout(()=>{Ne(new Error("unsupported_event"))},w);be={messageChannel:k,onMessage(_n){const Fr=_n;if(Fr.data.eventId===st)switch(Fr.data.status){case"ack":clearTimeout(Zt),J=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),He(Fr.data.response);break;default:clearTimeout(Zt),clearTimeout(J),Ne(new Error("invalid_response"))}}},M.handlers.add(be),k.port1.addEventListener("message",be.onMessage),M.target.postMessage({eventType:g,eventId:st,data:_},[k.port2])}).finally(()=>{be&&M.removeMessageHandler(be)})})()}}function St(){return window}function la(){return void 0!==St().WorkerGlobalScope&&"function"==typeof St().importScripts}function ls(){return(ls=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const uu="firebaseLocalStorageDb",_i="firebaseLocalStorage",Rs="fbase_key";class cs{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Hr(b,g){return b.transaction([_i],g?"readwrite":"readonly").objectStore(_i)}function $l(){const b=indexedDB.open(uu,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(_i,{keyPath:Rs})}catch(M){_(M)}}),b.addEventListener("success",(0,u.Z)(function*(){const w=b.result;w.objectStoreNames.contains(_i)?g(w):(w.close(),yield function(){const b=indexedDB.deleteDatabase(uu);return new cs(b).toPromise()}(),g(yield $l()))}))})}function gt(b,g,_){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(b,g,_){const w=Hr(b,!0).put({[Rs]:g,value:_});return new cs(w).toPromise()})).apply(this,arguments)}function Sd(){return(Sd=(0,u.Z)(function*(b,g){const _=Hr(b,!1).get(g),w=yield new cs(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function On(b,g){const _=Hr(b,!0).delete(g);return new cs(_).toPromise()}const tf=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield $l()),_.db})()}_withRetries(_){var w=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const k=yield w._openDb();return yield _(k)}catch(k){if(M++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return la()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=lu._getInstance(la()?self:null),_.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(M,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(M,k){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var w,M;if(_.activeServiceWorker=yield function(){return ls.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Hl(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=k[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield $l();return yield gt(_,to,"1"),yield On(_,to),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(k=>gt(k,_,w)),M.localCache[_]=w,M.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,u.Z)(function*(){const M=yield w._withRetries(k=>function(b,g){return Sd.apply(this,arguments)}(k,_));return w.localCache[_]=M,M})()}_remove(_){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(M=>On(M,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const w=yield _._withRetries(J=>{const be=Hr(J,!1).getAll();return new cs(be).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:J,value:be}of w)k.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(be)&&(_.notifyListeners(J,be),M.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!k.has(J)&&(_.notifyListeners(J,null),M.push(J));return M})()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function tg(b,g){return nn(b,"POST","/v2/accounts/mfaSignIn:start",ln(b,g))}function Ad(){return(Ad=(0,u.Z)(function*(b){return(yield nn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bn(b){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=M=>{const k=Qt("internal-error");k.customData=M,_(k)},w.type="text/javascript",w.charset="UTF-8",function(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function du(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Pn=1e12;class ua{constructor(g){this.auth=g,this.counter=Pn,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new zn(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Pn;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Pn))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,u.Z)(function*(){var w;return null===(w=_._widgets.get(g||Pn))||void 0===w||w.execute(),""})()}}class zn{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;Re(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}();const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wl=du("rcb"),Li=new Hn(3e4,6e4);class sl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!St().grecaptcha}load(g,_=""){return Re((b=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(St().grecaptcha):new Promise((w,M)=>{const k=St().setTimeout(()=>{M(Qt(g,"network-request-failed"))},Li.get());St()[Wl]=()=>{St().clearTimeout(k),delete St()[Wl];const be=St().grecaptcha;if(!be)return void M(Qt(g,"internal-error"));const He=be.render;be.render=(Ne,st)=>{const Zt=He(Ne,st);return this.counter++,Zt},this.hostLanguage=_,w(be)},Bn(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Wl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),M(Qt(g,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!St().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ns{load(g){return(0,u.Z)(function*(){return new ua(g)})()}clearedOneInstance(){}}const hu="recaptcha",Md={theme:"light",type:"image"};class Do{constructor(g,_=Object.assign({},Md),w){this.parameters=_,this.type=hu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kr(w),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;Re(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ns:new sl,this.validateStartingState()}verify(){var g=this;return(0,u.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(k=>{const J=be=>{!be||(g.tokenChangeListeners.delete(J),k(be))};g.tokenChangeListeners.add(J),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=St()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,u.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,u.Z)(function*(){Re(it()&&!la(),g.auth,"internal-error"),yield function(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function(b){return Ad.apply(this,arguments)}(g.auth);Re(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fs{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=rs._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function nf(b,g,_){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(b,g,_){const w=kr(b),M=yield T(w,g,(0,j.m9)(_));return new Fs(M,k=>Oi(w,k))})).apply(this,arguments)}function Wn(b,g,_){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b);yield ss(!1,w,"phone");const M=yield T(w.auth,g,(0,j.m9)(_));return new Fs(M,k=>Ka(w,k))})).apply(this,arguments)}function gr(b,g,_){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b),M=yield T(w.auth,g,(0,j.m9)(_));return new Fs(M,k=>Zh(w,k))})).apply(this,arguments)}function T(b,g,_){return D.apply(this,arguments)}function D(){return(D=(0,u.Z)(function*(b,g,_){var w;const M=yield _.verify();try{let k;if(Re("string"==typeof M,b,"argument-error"),Re(_.type===hu,b,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const J=k.session;if("phoneNumber"in k)return Re("enroll"===J.type,b,"internal-error"),(yield aa(b,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Re("signin"===J.type,b,"internal-error");const be=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return Re(be,b,"missing-multi-factor-info"),(yield tg(b,{mfaPendingCredential:J.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield Qo(b,{phoneNumber:k.phoneNumber,recaptchaToken:M});return J}}finally{_._reset()}})).apply(this,arguments)}function R(b,g){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)(function*(b,g){yield Wa((0,j.m9)(b),g)})).apply(this,arguments)}let ne=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=kr(_)}verifyPhoneNumber(_,w){return T(this.auth,_,(0,j.m9)(w))}static credential(_,w){return rs._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:M}=_;return w&&M?rs._fromTokenResponse(w,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function he(b,g){return g?Ve(g):(Re(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ae extends Er{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ss(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Ss(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Ss(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ze(b){return wn(b.auth,new Ae(b),b.bypassAuthState)}function We(b){const{auth:g,user:_}=b;return Re(_,g,"internal-error"),xt(_,new Ae(b),b.bypassAuthState)}function Bt(b){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(b){const{auth:g,user:_}=b;return Re(_,g,"internal-error"),Wa(_,new Ae(b),b.bypassAuthState)})).apply(this,arguments)}class Jn{constructor(g,_,w,M,k=!1){this.auth=g,this.resolver=w,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,u.Z)(function*(w,M){g.pendingPromise={resolve:w,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(w,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:k,tenantId:J,error:be,type:He}=g;if(be)return void _.reject(be);const Ne={auth:_.auth,requestUri:w,sessionId:M,tenantId:J||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(He)(Ne))}catch(st){_.reject(st)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ze;case"linkViaPopup":case"linkViaRedirect":return Bt;case"reauthViaPopup":case"reauthViaRedirect":return We;default:en(this.auth,"internal-error")}}resolve(g){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ni=new Hn(2e3,1e4);function ar(b,g,_){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(b,g,_){const w=kr(b);di(b,g,wr);const M=he(w,_);return new yt(w,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function ol(b,g,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b);di(w.auth,g,wr);const M=he(w.auth,_);return new yt(w.auth,"reauthViaPopup",g,M,w).executeNotNull()})).apply(this,arguments)}function Ls(b,g,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b);di(w.auth,g,wr);const M=he(w.auth,_);return new yt(w.auth,"linkViaPopup",g,M,w).executeNotNull()})).apply(this,arguments)}let yt=(()=>{class b extends Jn{constructor(_,w,M,k,J){super(_,w,k,J),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const w=yield _.execute();return Re(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,u.Z)(function*(){Un(1===_.filter.length,"Popup operations only handle one event");const w=jl();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Qt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,M;this.pollId=(null===(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,ni.get())};_()}}return b.currentPopupAction=null,b})();const mn=new Map;class rf extends Jn{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,u.Z)(function*(){let w=mn.get(_.auth._key());if(!w){try{const k=(yield function(b,g){return So.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(k)}catch(M){w=()=>Promise.reject(M)}mn.set(_.auth._key(),w)}return _.bypassAuthState||mn.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const M=yield w.auth._redirectUserForId(g.eventId);if(M)return w.user=M,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function So(){return(So=(0,u.Z)(function*(b,g){const _=ig(g),w=xd(b);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(_));return yield w._remove(_),M})).apply(this,arguments)}function al(b,g){return of.apply(this,arguments)}function of(){return(of=(0,u.Z)(function*(b,g){return xd(b)._set(ig(g),"true")})).apply(this,arguments)}function Bs(){mn.clear()}function xd(b){return Ve(b._redirectPersistence)}function ig(b){return pt("pendingRedirect",b.config.apiKey,b.name)}function ll(b,g,_){return function(b,g,_){return Zn.apply(this,arguments)}(b,g,_)}function Zn(){return(Zn=(0,u.Z)(function*(b,g,_){const w=kr(b);di(b,g,wr);const M=he(w,_);return yield al(M,w),M._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Nr(b,g,_){return function(b,g,_){return Rd.apply(this,arguments)}(b,g,_)}function Rd(){return(Rd=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b);di(w.auth,g,wr);const M=he(w.auth,_);yield al(M,w.auth);const k=yield pu(w);return M._openRedirect(w.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function kd(b,g,_){return function(b,g,_){return Od.apply(this,arguments)}(b,g,_)}function Od(){return(Od=(0,u.Z)(function*(b,g,_){const w=(0,j.m9)(b);di(w.auth,g,wr);const M=he(w.auth,_);yield ss(!1,w,g.providerId),yield al(M,w.auth);const k=yield pu(w);return M._openRedirect(w.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function sg(b,g){return af.apply(this,arguments)}function af(){return(af=(0,u.Z)(function*(b,g){return yield kr(b)._initializationPromise,Ao(b,g,!1)})).apply(this,arguments)}function Ao(b,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(b,g,_=!1){const w=kr(b),M=he(w,g),J=yield new rf(w,M,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,g)),J})).apply(this,arguments)}function pu(b){return ga.apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(b){const g=jl(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Yl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ma(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!ma(g)){const M=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Qt(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(g))}saveEventToCache(g){this.cachedEventUids.add(z_(g)),this.lastProcessedEventTime=Date.now()}}function z_(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function ma({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Pd(b){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(b,g={}){return nn(b,"GET","/v1/projects",g)})).apply(this,arguments)}const lf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mo=/^https?/;function Nd(){return(Nd=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Pd(b);for(const _ of g)try{if(cf(_))return}catch(w){}en(b,"unauthorized-domain")})).apply(this,arguments)}function cf(b){const g=jn(),{protocol:_,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const J=new URL(b);return""===J.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===w}if(!Mo.test(_))return!1;if(lf.test(b))return w===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Fd=new Hn(3e4,6e4);function Kl(){const b=St().___jsl;if(null==b?void 0:b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ql=null;function uf(b){return Ql=Ql||function(b){return new Promise((g,_)=>{var w,M,k;function J(){Kl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Kl(),_(Qt(b,"network-request-failed"))},timeout:Fd.get()})}if(null===(M=null===(w=St().gapi)||void 0===w?void 0:w.iframes)||void 0===M?void 0:M.Iframe)g(gapi.iframes.getContext());else{if(!(null===(k=St().gapi)||void 0===k?void 0:k.load)){const be=du("iframefcb");return St()[be]=()=>{gapi.load?J():_(Qt(b,"network-request-failed"))},Bn(`https://apis.google.com/js/api.js?onload=${be}`)}J()}}).catch(g=>{throw Ql=null,g})}(b),Ql}const ul=new Hn(5e3,15e3),Ld={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K_(b){const g=b.config;Re(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?tn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:P.SDK_VERSION},M=Y_.get(b.config.apiHost);M&&(w.eid=M);const k=b._getFrameworks();return k.length&&(w.fw=k.join(",")),`${_}?${(0,j.xO)(w).slice(1)}`}function _a(){return(_a=(0,u.Z)(function*(b){const g=yield uf(b),_=St().gapi;return Re(_,b,"internal-error"),g.open({where:document.body,url:K_(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ld,dontclear:!0},w=>new Promise(function(){var M=(0,u.Z)(function*(k,J){yield w.restyle({setHideOnLeave:!1});const be=Qt(b,"network-request-failed"),He=St().setTimeout(()=>{J(be)},ul.get());function Ne(){St().clearTimeout(He),k(w)}w.ping(Ne).then(Ne,()=>{J(be)})});return function(k,J){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Bd(b,g,_,w,M,k){Re(b.config.authDomain,b,"auth-domain-config-required"),Re(b.config.apiKey,b,"invalid-api-key");const J={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:P.SDK_VERSION,eventId:M};if(g instanceof wr){g.setDefaultLanguage(b.languageCode),J.providerId=g.providerId||"",(0,j.xb)(g.getCustomParameters())||(J.customParameters=JSON.stringify(g.getCustomParameters()));for(const[He,Ne]of Object.entries(k||{}))J[He]=Ne}if(g instanceof Js){const He=g.getScopes().filter(Ne=>""!==Ne);He.length>0&&(J.scopes=He.join(","))}b.tenantId&&(J.tid=b.tenantId);const be=J;for(const He of Object.keys(be))void 0===be[He]&&delete be[He];return`${function({config:b}){return b.emulator?tn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(be).slice(1)}`}const ec="webStorageSupport",_u=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=Ao}_openPopup(g,_,w,M){var k=this;return(0,u.Z)(function*(){var J;Un(null===(J=k.eventManagers[g._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const be=Bd(g,_,w,jn(),M);return function(b,g,_,w=500,M=600){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let be="";const He=Object.assign(Object.assign({},og),{width:w.toString(),height:M.toString(),top:k,left:J}),Ne=(0,j.z$)().toLowerCase();_&&(be=br(Ne)?"_blank":_),fr(Ne)&&(g=g||"http://localhost",He.scrollbars="yes");const st=Object.entries(He).reduce((_n,[Fr,yn])=>`${_n}${Fr}=${yn},`,"");if(function(b=(0,j.z$)()){var g;return Ha(b)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Ne)&&"_self"!==be)return function(b,g){const _=document.createElement("a");_.href=b,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",be),new Jl(null);const Zt=window.open(g||"",be,st);Re(Zt,b,"popup-blocked");try{Zt.focus()}catch(_n){}return new Jl(Zt)}(g,be,jl())})()}_openRedirect(g,_,w,M){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(g),b=Bd(g,_,w,jn(),M),St().location.href=b,new Promise(()=>{});var b})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:k}=this.eventManagers[_];return M?Promise.resolve(M):(Un(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w}initAndGetManager(g){var _=this;return(0,u.Z)(function*(){const w=yield function(b){return _a.apply(this,arguments)}(g),M=new Yl(g);return w.register("authEvent",k=>(Re(null==k?void 0:k.authEvent,g,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=w,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(ec,{type:ec},M=>{var k;const J=null===(k=null==M?void 0:M[0])||void 0===k?void 0:k[ec];void 0!==J&&_(!!J),en(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Nd.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return _o()||go()||Ha()}};class ko extends class{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return En("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ko(g)}_finalizeEnroll(g,_,w){return function(b,g){return nn(b,"POST","/v2/accounts/mfaEnrollment:finalize",ln(b,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function(b,g){return nn(b,"POST","/v2/accounts/mfaSignIn:finalize",ln(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vd=(()=>{class b{constructor(){}static assertion(_){return ko._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var b,pf="@firebase/auth";class J_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{var M;g((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}b="Browser",(0,P._registerComponent)(new jt.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),{apiKey:M,authDomain:k}=w.options;return(J=>{Re(M&&!M.includes(":"),"invalid-api-key",{appName:J.name}),Re(!(null==k?void 0:k.includes(":")),"argument-error",{appName:J.name});const be={apiKey:M,authDomain:k,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Is(b)},He=new Rr(J,be);return function(b,g){const _=(null==g?void 0:g.persistence)||[],w=(Array.isArray(_)?_:[_]).map(Ve);(null==g?void 0:g.errorMap)&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(He,_),He})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new jt.wA("auth-internal",g=>{const _=kr(g.getProvider("auth").getImmediate());return new J_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(pf,"0.19.3",void 0),(0,P.registerVersion)(pf,"0.19.3","esm2017")},3854:(Ye,we,F)=>{"use strict";F.d(we,{BH:()=>oe,LL:()=>Qe,ZR:()=>jt,zI:()=>_t,US:()=>K,tV:()=>ee,$s:()=>nn,r3:()=>on,Sg:()=>ge,ne:()=>Un,vZ:()=>Qt,ZB:()=>U,pd:()=>Re,m9:()=>qs,z$:()=>De,jU:()=>ae,ru:()=>_e,d:()=>Ge,xb:()=>pn,w1:()=>kt,hl:()=>Cn,uI:()=>ve,UG:()=>fe,b$:()=>Pe,G6:()=>bt,Mn:()=>Lt,xO:()=>di,zd:()=>Mi,eu:()=>Tt});const le=function(q){const z=[];let W=0;for(let Ee=0;Ee<q.length;Ee++){let ue=q.charCodeAt(Ee);ue<128?z[W++]=ue:ue<2048?(z[W++]=ue>>6|192,z[W++]=63&ue|128):55296==(64512&ue)&&Ee+1<q.length&&56320==(64512&q.charCodeAt(Ee+1))?(ue=65536+((1023&ue)<<10)+(1023&q.charCodeAt(++Ee)),z[W++]=ue>>18|240,z[W++]=ue>>12&63|128,z[W++]=ue>>6&63|128,z[W++]=63&ue|128):(z[W++]=ue>>12|224,z[W++]=ue>>6&63|128,z[W++]=63&ue|128)}return z},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ue=0;ue<q.length;ue+=3){const qe=q[ue],ct=ue+1<q.length,Wt=ct?q[ue+1]:0,In=ue+2<q.length,$n=In?q[ue+2]:0;let Y=(15&Wt)<<2|$n>>6,Z=63&$n;In||(Z=64,ct||(Y=64)),Ee.push(W[qe>>2],W[(3&qe)<<4|Wt>>4],W[Y],W[Z])}return Ee.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(le(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let W=0,Ee=0;for(;W<q.length;){const ue=q[W++];if(ue<128)z[Ee++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const qe=q[W++];z[Ee++]=String.fromCharCode((31&ue)<<6|63&qe)}else if(ue>239&&ue<365){const In=((7&ue)<<18|(63&q[W++])<<12|(63&q[W++])<<6|63&q[W++])-65536;z[Ee++]=String.fromCharCode(55296+(In>>10)),z[Ee++]=String.fromCharCode(56320+(1023&In))}else{const qe=q[W++],ct=q[W++];z[Ee++]=String.fromCharCode((15&ue)<<12|(63&qe)<<6|63&ct)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const W=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ue=0;ue<q.length;){const qe=W[q.charAt(ue++)],Wt=ue<q.length?W[q.charAt(ue)]:0;++ue;const $n=ue<q.length?W[q.charAt(ue)]:64;++ue;const ie=ue<q.length?W[q.charAt(ue)]:64;if(++ue,null==qe||null==Wt||null==$n||null==ie)throw Error();Ee.push(qe<<2|Wt>>4),64!==$n&&(Ee.push(Wt<<4&240|$n>>2),64!==ie&&Ee.push($n<<6&192|ie))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},X=function(q){return function(q){const z=le(q);return K.encodeByteArray(z,!0)}(q).replace(/\./g,"")},ee=function(q){try{return K.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function U(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const W in z)!z.hasOwnProperty(W)||!B(W)||(q[W]=U(q[W],z[W]));return q}function B(q){return"__proto__"!==q}class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,W)=>{this.resolve=z,this.reject=W})}wrapCallback(z){return(W,Ee)=>{W?this.reject(W):this.resolve(Ee),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(W):z(W,Ee))}}}function ge(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=z||"demo-project",ue=q.iat||0,qe=q.sub||q.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ue,exp:ue+3600,auth_time:ue,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},q);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(ct)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function ae(){return"object"==typeof self&&self.self===self}function _e(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){return De().indexOf("Electron/")>=0}function kt(){const q=De();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Lt(){return De().indexOf("MSAppHost/")>=0}function bt(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cn(){return"object"==typeof indexedDB}function Tt(){return new Promise((q,z)=>{try{let W=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(Ee);ue.onsuccess=()=>{ue.result.close(),W||self.indexedDB.deleteDatabase(Ee),q(!0)},ue.onupgradeneeded=()=>{W=!1},ue.onerror=()=>{var qe;z((null===(qe=ue.error)||void 0===qe?void 0:qe.message)||"")}}catch(W){z(W)}})}function _t(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class jt extends Error{constructor(z,W,Ee){super(W),this.code=z,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(z,W,Ee){this.service=z,this.serviceName=W,this.errors=Ee}create(z,...W){const Ee=W[0]||{},ue=`${this.service}/${z}`,qe=this.errors[z],ct=qe?function(q,z){return q.replace(Ua,(W,Ee)=>{const ue=z[Ee];return null!=ue?String(ue):`<${Ee}?>`})}(qe,Ee):"Error";return new jt(ue,`${this.serviceName}: ${ct} (${ue}).`,Ee)}}const Ua=/\{\$([^}]+)}/g;function on(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function pn(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function Qt(q,z){if(q===z)return!0;const W=Object.keys(q),Ee=Object.keys(z);for(const ue of W){if(!Ee.includes(ue))return!1;const qe=q[ue],ct=z[ue];if(Es(qe)&&Es(ct)){if(!Qt(qe,ct))return!1}else if(qe!==ct)return!1}for(const ue of Ee)if(!W.includes(ue))return!1;return!0}function Es(q){return null!==q&&"object"==typeof q}function di(q){const z=[];for(const[W,Ee]of Object.entries(q))Array.isArray(Ee)?Ee.forEach(ue=>{z.push(encodeURIComponent(W)+"="+encodeURIComponent(ue))}):z.push(encodeURIComponent(W)+"="+encodeURIComponent(Ee));return z.length?"&"+z.join("&"):""}function Mi(q){const z={};return q.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ue,qe]=Ee.split("=");z[decodeURIComponent(ue)]=decodeURIComponent(qe)}}),z}function Re(q){const z=q.indexOf("?");if(!z)return"";const W=q.indexOf("#",z);return q.substring(z,W>0?W:void 0)}function Un(q,z){const W=new hi(q,z);return W.subscribe.bind(W)}class hi{constructor(z,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{z(this)}).catch(Ee=>{this.error(Ee)})}next(z){this.forEachObserver(W=>{W.next(z)})}error(z){this.forEachObserver(W=>{W.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,W,Ee){let ue;if(void 0===z&&void 0===W&&void 0===Ee)throw new Error("Missing Observer.");ue=function(q,z){if("object"!=typeof q||null===q)return!1;for(const W of["next","error","complete"])if(W in q&&"function"==typeof q[W])return!0;return!1}(z)?z:{next:z,error:W,complete:Ee},void 0===ue.next&&(ue.next=hr),void 0===ue.error&&(ue.error=hr),void 0===ue.complete&&(ue.complete=hr);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch(ct){}}),this.observers.push(ue),qe}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,z)}sendOne(z,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{W(this.observers[z])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}function nn(q,z=1e3,W=2){const Ee=z*Math.pow(W,q),ue=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+ue)}function qs(q){return q&&q._delegate?q._delegate:q}},2329:(Ye,we,F)=>{"use strict";F.d(we,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=F(8026);(0,u.registerVersion)("firebase","9.5.0","app")},7841:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>u.Z});var u=F(3394);u.Z.registerVersion("firebase","9.5.0","app-compat")},4828:(Ye,we,F)=>{"use strict";F.r(we);var u=F(8239),j=F(3394),P=F(2476),le=F(3854),re=(F(8026),F(5422),F(3910));function X(){return window}function U(){return(U=(0,u.Z)(function*(ie,Y,Z){var Te;const{BuildInfo:Fe}=X();(0,P.ap)(Y.sessionId,"AuthEvent did not contain a session ID");const ft=yield ae(Y.sessionId),Ft={};return(0,P.aq)()?Ft.ibi=Fe.packageName:(0,P.ar)()?Ft.apn=Fe.packageName:(0,P.as)(ie,"operation-not-supported-in-this-environment"),Fe.displayName&&(Ft.appDisplayName=Fe.displayName),Ft.sessionId=ft,(0,P.at)(ie,Z,Y.type,void 0,null!==(Te=Y.eventId)&&void 0!==Te?Te:void 0,Ft)})).apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(ie){const{BuildInfo:Y}=X(),Z={};(0,P.aq)()?Z.iosBundleId=Y.packageName:(0,P.ar)()?Z.androidPackageName=Y.packageName:(0,P.as)(ie,"operation-not-supported-in-this-environment"),yield(0,P.au)(ie,Z)})).apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(ie,Y,Z){const{cordova:Te}=X();let Fe=()=>{};try{yield new Promise((ft,Ft)=>{let Dt=null;function xn(){var Et;ft();const Sn=null===(Et=Te.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof Sn&&Sn(),"function"==typeof(null==Z?void 0:Z.close)&&Z.close()}function un(){Dt||(Dt=window.setTimeout(()=>{Ft((0,P.av)(ie,"redirect-cancelled-by-user"))},2e3))}function Dn(){"visible"===(null==document?void 0:document.visibilityState)&&un()}Y.addPassiveListener(xn),document.addEventListener("resume",un,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",Dn,!1),Fe=()=>{Y.removePassiveListener(xn),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",Dn,!1),Dt&&window.clearTimeout(Dt)}})}finally{Fe()}})).apply(this,arguments)}function ae(ie){return _e.apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(ie){const Y=Pe(ie),Z=yield crypto.subtle.digest("SHA-256",Y);return Array.from(new Uint8Array(Z)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pe(ie){if((0,P.ap)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const Y=new ArrayBuffer(ie.length),Z=new Uint8Array(Y);for(let Te=0;Te<ie.length;Te++)Z[Te]=ie.charCodeAt(Te);return Z}class kt extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Y=>{this.resolveInialized=Y})}addPassiveListener(Y){this.passiveListeners.add(Y)}removePassiveListener(Y){this.passiveListeners.delete(Y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Y){return this.resolveInialized(),this.passiveListeners.forEach(Z=>Z(Y)),super.onEvent(Y)}initialized(){var Y=this;return(0,u.Z)(function*(){yield Y.initPromise})()}}function bt(ie){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,u.Z)(function*(ie){const Y=yield Gt()._get(lt(ie));return Y&&(yield Gt()._remove(lt(ie))),Y})).apply(this,arguments)}function _t(){const ie=[],Y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<20;Z++){const Te=Math.floor(Math.random()*Y.length);ie.push(Y.charAt(Te))}return ie.join("")}function Gt(){return(0,P.ax)(P.b)}function lt(ie){return(0,P.ay)("authEvent",ie.config.apiKey,ie.name)}function Ji(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[Y,...Z]=ie.split("?");return(0,le.zd)(Z.join("?"))}function Xt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function on(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function pn(ie=(0,le.z$)()){return!("file:"!==on()&&"ionic:"!==on()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mi(){try{const ie=self.localStorage,Y=P.aG();if(ie)return ie.setItem(Y,"1"),ie.removeItem(Y),!function(ie=(0,le.z$)()){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)||function(ie=(0,le.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,le.hl)()}catch(ie){return Re()&&(0,le.hl)()}return!1}function Re(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return("http:"===on()||"https:"===on()||(0,le.ru)()||pn())&&!((0,le.b$)()||(0,le.UG)())&&Mi()&&!Re()}function Un(){return pn()&&"undefined"!=typeof document}function Ve(){return(Ve=(0,u.Z)(function*(){return!!Un()&&new Promise(ie=>{const Y=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Y),ie(!0)})})})).apply(this,arguments)}const zt={LOCAL:"local",NONE:"none",SESSION:"session"},hr=P.aw,jn="persistence";function nt(ie){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(ie){yield ie._initializationPromise;const Y=Hn(),Z=P.ay(jn,ie.config.apiKey,ie.name);(null==Y?void 0:Y.sessionStorage)&&Y.sessionStorage.setItem(Z,ie._getPersistence())})).apply(this,arguments)}function Hn(){return"undefined"!=typeof window?window:null}const tn=P.aw;class Oe{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(Y){var Z=this;return(0,u.Z)(function*(){const Te=Y._key();let Fe=Z.eventManagers.get(Te);return Fe||(Fe=new kt(Y),Z.eventManagers.set(Te,Fe),Z.attachCallbackListeners(Y,Fe)),Fe})()}_openPopup(Y){(0,P.as)(Y,"operation-not-supported-in-this-environment")}_openRedirect(Y,Z,Te,Fe){var ft=this;return(0,u.Z)(function*(){!function(ie){var Y,Z,Te,Fe,ft,Ft,Dt,xn,un,Dn;const Et=X();(0,P.aw)("function"==typeof(null===(Y=null==Et?void 0:Et.universalLinks)||void 0===Y?void 0:Y.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(void 0!==(null===(Z=null==Et?void 0:Et.BuildInfo)||void 0===Z?void 0:Z.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(ft=null===(Fe=null===(Te=null==Et?void 0:Et.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===ft?void 0:ft.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(xn=null===(Dt=null===(Ft=null==Et?void 0:Et.cordova)||void 0===Ft?void 0:Ft.plugins)||void 0===Dt?void 0:Dt.browsertab)||void 0===xn?void 0:xn.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(Dn=null===(un=null==Et?void 0:Et.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===Dn?void 0:Dn.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Y);const Ft=yield ft._initialize(Y);yield Ft.initialized(),Ft.resetRedirect(),(0,P.aB)(),yield ft._originValidation(Y);const Dt=function(ie,Y,Z=null){return{type:Y,eventId:Z,urlResponse:null,sessionId:_t(),postBody:null,tenantId:ie.tenantId,error:(0,P.av)(ie,"no-auth-event")}}(Y,Te,Fe);yield function(ie,Y){return Gt()._set(lt(ie),Y)}(Y,Dt);const xn=yield function(ie,Y,Z){return U.apply(this,arguments)}(Y,Dt,Z),un=yield function(ie){const{cordova:Y}=X();return new Promise(Z=>{Y.plugins.browsertab.isAvailable(Te=>{let Fe=null;Te?Y.plugins.browsertab.openUrl(ie):Fe=Y.InAppBrowser.open(ie,(0,P.ao)()?"_blank":"_system","location=yes"),Z(Fe)})})}(xn);return function(ie,Y,Z){return ve.apply(this,arguments)}(Y,Ft,un)})()}_isIframeWebStorageSupported(Y,Z){throw new Error("Method not implemented.")}_originValidation(Y){const Z=Y._key();return this.originValidationPromises[Z]||(this.originValidationPromises[Z]=function(ie){return oe.apply(this,arguments)}(Y)),this.originValidationPromises[Z]}attachCallbackListeners(Y,Z){const{universalLinks:Te,handleOpenURL:Fe,BuildInfo:ft}=X(),Ft=setTimeout((0,u.Z)(function*(){yield bt(Y),Z.onEvent(Xt())}),500),Dt=function(){var Dn=(0,u.Z)(function*(Et){clearTimeout(Ft);const Sn=yield bt(Y);let Ws=null;Sn&&(null==Et?void 0:Et.url)&&(Ws=function(ie,Y){var Z,Te;const Fe=function(ie){const Y=Ji(ie),Z=Y.link?decodeURIComponent(Y.link):void 0,Te=Ji(Z).link,Fe=Y.deep_link_id?decodeURIComponent(Y.deep_link_id):void 0;return Ji(Fe).link||Fe||Te||Z||ie}(Y);if(Fe.includes("/__/auth/callback")){const ft=Ji(Fe),Ft=ft.firebaseError?function(ie){try{return JSON.parse(ie)}catch(Y){return null}}(decodeURIComponent(ft.firebaseError)):null,Dt=null===(Te=null===(Z=null==Ft?void 0:Ft.code)||void 0===Z?void 0:Z.split("auth/"))||void 0===Te?void 0:Te[1],xn=Dt?(0,P.av)(Dt):null;return xn?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:xn,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Fe,postBody:null}}return null}(Sn,Et.url)),Z.onEvent(Ws||Xt())});return function(Sn){return Dn.apply(this,arguments)}}();void 0!==Te&&"function"==typeof Te.subscribe&&Te.subscribe(null,Dt);const xn=Fe,un=`${ft.packageName.toLowerCase()}://`;X().handleOpenURL=function(){var Dn=(0,u.Z)(function*(Et){if(Et.toLowerCase().startsWith(un)&&Dt({url:Et}),"function"==typeof xn)try{xn(Et)}catch(Sn){console.error(Sn)}});return function(Et){return Dn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(Y){var Z=this;return(0,u.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._initialize(Y)})()}_openPopup(Y,Z,Te,Fe){var ft=this;return(0,u.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openPopup(Y,Z,Te,Fe)})()}_openRedirect(Y,Z,Te,Fe){var ft=this;return(0,u.Z)(function*(){return yield ft.selectUnderlyingResolver(),ft.assertedUnderlyingResolver._openRedirect(Y,Z,Te,Fe)})()}_isIframeWebStorageSupported(Y,Z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Y,Z)}_originValidation(Y){return this.assertedUnderlyingResolver._originValidation(Y)}get _shouldInitProactively(){return Un()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Y=this;return(0,u.Z)(function*(){if(Y.underlyingResolver)return;const Z=yield function(){return Ve.apply(this,arguments)}();Y.underlyingResolver=Z?Y.cordovaResolver:Y.browserResolver})()}}function et(ie){return ie.unwrap()}function ln(ie){return Kt(ie)}function Kt(ie){const{_tokenResponse:Y}=ie instanceof le.ZR?ie.customData:ie;if(!Y)return null;if(!(ie instanceof le.ZR)&&"temporaryProof"in Y&&"phoneNumber"in Y)return P.P.credentialFromResult(ie);const Z=Y.providerId;if(!Z||Z===P.o.PASSWORD)return null;let Te;switch(Z){case P.o.GOOGLE:Te=P.N;break;case P.o.FACEBOOK:Te=P.M;break;case P.o.GITHUB:Te=P.Q;break;case P.o.TWITTER:Te=P.V;break;default:const{oauthIdToken:Fe,oauthAccessToken:ft,oauthTokenSecret:Ft,pendingToken:Dt,nonce:xn}=Y;return ft||Ft||Fe||Dt?Dt?Z.startsWith("saml.")?P.aJ._create(Z,Dt):P.I._fromParams({providerId:Z,signInMethod:Z,pendingToken:Dt,idToken:Fe,accessToken:ft}):new P.T(Z).credential({idToken:Fe,accessToken:ft,rawNonce:xn}):null}return ie instanceof le.ZR?Te.credentialFromError(ie):Te.credentialFromResult(ie)}function cn(ie,Y){return Y.catch(Z=>{throw Z instanceof le.ZR&&function(ie,Y){var Z;const Te=null===(Z=Y.customData)||void 0===Z?void 0:Z._tokenResponse;if("auth/multi-factor-auth-required"===Y.code)Y.resolver=new z(ie,P.am(ie,Y));else if(Te){const Fe=Kt(Y),ft=Y;Fe&&(ft.credential=Fe,ft.tenantId=Te.tenantId||void 0,ft.email=Te.email||void 0,ft.phoneNumber=Te.phoneNumber||void 0)}}(ie,Z),Z}).then(Z=>{const Fe=Z.user;return{operationType:Z.operationType,credential:ln(Z),additionalUserInfo:P.ak(Z),user:W.getOrCreate(Fe)}})}function qs(ie,Y){return q.apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(ie,Y){const Z=yield Y;return{verificationId:Z.verificationId,confirm:Te=>cn(ie,Z.confirm(Te))}})).apply(this,arguments)}class z{constructor(Y,Z){this.resolver=Z,this.auth=Y.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Y){return cn(et(this.auth),this.resolver.resolveSignIn(Y))}}class W{constructor(Y){this._delegate=Y,this.multiFactor=P.an(Y)}static getOrCreate(Y){return W.USER_MAP.has(Y)||W.USER_MAP.set(Y,new W(Y)),W.USER_MAP.get(Y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Y){return this._delegate.getIdTokenResult(Y)}getIdToken(Y){return this._delegate.getIdToken(Y)}linkAndRetrieveDataWithCredential(Y){return this.linkWithCredential(Y)}linkWithCredential(Y){var Z=this;return(0,u.Z)(function*(){return cn(Z.auth,P.Y(Z._delegate,Y))})()}linkWithPhoneNumber(Y,Z){var Te=this;return(0,u.Z)(function*(){return qs(Te.auth,P.l(Te._delegate,Y,Z))})()}linkWithPopup(Y){var Z=this;return(0,u.Z)(function*(){return cn(Z.auth,P.d(Z._delegate,Y,Oe))})()}linkWithRedirect(Y){var Z=this;return(0,u.Z)(function*(){return yield nt(P.aC(Z.auth)),P.g(Z._delegate,Y,Oe)})()}reauthenticateAndRetrieveDataWithCredential(Y){return this.reauthenticateWithCredential(Y)}reauthenticateWithCredential(Y){var Z=this;return(0,u.Z)(function*(){return cn(Z.auth,P.Z(Z._delegate,Y))})()}reauthenticateWithPhoneNumber(Y,Z){return qs(this.auth,P.r(this._delegate,Y,Z))}reauthenticateWithPopup(Y){return cn(this.auth,P.e(this._delegate,Y,Oe))}reauthenticateWithRedirect(Y){var Z=this;return(0,u.Z)(function*(){return yield nt(P.aC(Z.auth)),P.h(Z._delegate,Y,Oe)})()}sendEmailVerification(Y){return P.aa(this._delegate,Y)}unlink(Y){var Z=this;return(0,u.Z)(function*(){return yield P.aj(Z._delegate,Y),Z})()}updateEmail(Y){return P.af(this._delegate,Y)}updatePassword(Y){return P.ag(this._delegate,Y)}updatePhoneNumber(Y){return P.u(this._delegate,Y)}updateProfile(Y){return P.ae(this._delegate,Y)}verifyBeforeUpdateEmail(Y,Z){return P.ab(this._delegate,Y,Z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}W.USER_MAP=new WeakMap;const Ee=P.aw;let ue=(()=>{class ie{constructor(Z,Te){if(this.app=Z,Te.isInitialized())return this._delegate=Te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=Z.options;Ee(Fe,"invalid-api-key",{appName:Z.name});let ft=[P.K];if("undefined"!=typeof window){ft=function(ie,Y){const Z=Hn();if(!(null==Z?void 0:Z.sessionStorage))return[];const Te=P.ay(jn,ie,Y);switch(Z.sessionStorage.getItem(Te)){case zt.NONE:return[P.K];case zt.LOCAL:return[P.i,P.a];case zt.SESSION:return[P.a];default:return[]}}(Fe,Z.name);for(const Dt of[P.i,P.b,P.a])ft.includes(Dt)||ft.push(Dt)}Ee(Fe,"invalid-api-key",{appName:Z.name});const Ft="undefined"!=typeof window?Oe:void 0;this._delegate=Te.initialize({options:{persistence:ft,popupRedirectResolver:Ft}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?W.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Z){this._delegate.languageCode=Z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Z){this._delegate.tenantId=Z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Z,Te){P.E(this._delegate,Z,Te)}applyActionCode(Z){return P.a1(this._delegate,Z)}checkActionCode(Z){return P.a2(this._delegate,Z)}confirmPasswordReset(Z,Te){return P.a0(this._delegate,Z,Te)}createUserWithEmailAndPassword(Z,Te){var Fe=this;return(0,u.Z)(function*(){return cn(Fe._delegate,P.a4(Fe._delegate,Z,Te))})()}fetchProvidersForEmail(Z){return this.fetchSignInMethodsForEmail(Z)}fetchSignInMethodsForEmail(Z){return P.a9(this._delegate,Z)}isSignInWithEmailLink(Z){return P.a7(this._delegate,Z)}getRedirectResult(){var Z=this;return(0,u.Z)(function*(){Ee(En(),Z._delegate,"operation-not-supported-in-this-environment");const Te=yield P.j(Z._delegate,Oe);return Te?cn(Z._delegate,Promise.resolve(Te)):{credential:null,user:null}})()}addFrameworkForLogging(Z){!function(ie,Y){(0,P.aC)(ie)._logFramework(Y)}(this._delegate,Z)}onAuthStateChanged(Z,Te,Fe){const{next:ft,error:Ft,complete:Dt}=qe(Z,Te,Fe);return this._delegate.onAuthStateChanged(ft,Ft,Dt)}onIdTokenChanged(Z,Te,Fe){const{next:ft,error:Ft,complete:Dt}=qe(Z,Te,Fe);return this._delegate.onIdTokenChanged(ft,Ft,Dt)}sendSignInLinkToEmail(Z,Te){return P.a6(this._delegate,Z,Te)}sendPasswordResetEmail(Z,Te){return P.$(this._delegate,Z,Te||void 0)}setPersistence(Z){var Te=this;return(0,u.Z)(function*(){let Fe;switch(function(ie,Y){hr(Object.values(zt).includes(Y),ie,"invalid-persistence-type"),(0,le.b$)()?hr(Y!==zt.SESSION,ie,"unsupported-persistence-type"):(0,le.UG)()?hr(Y===zt.NONE,ie,"unsupported-persistence-type"):Re()?hr(Y===zt.NONE||Y===zt.LOCAL&&(0,le.hl)(),ie,"unsupported-persistence-type"):hr(Y===zt.NONE||Mi(),ie,"unsupported-persistence-type")}(Te._delegate,Z),Z){case zt.SESSION:Fe=P.a;break;case zt.LOCAL:Fe=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case zt.NONE:Fe=P.K;break;default:return P.as("argument-error",{appName:Te._delegate.name})}return Te._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(Z){return this.signInWithCredential(Z)}signInAnonymously(){return cn(this._delegate,P.W(this._delegate))}signInWithCredential(Z){return cn(this._delegate,P.X(this._delegate,Z))}signInWithCustomToken(Z){return cn(this._delegate,P._(this._delegate,Z))}signInWithEmailAndPassword(Z,Te){return cn(this._delegate,P.a5(this._delegate,Z,Te))}signInWithEmailLink(Z,Te){return cn(this._delegate,P.a8(this._delegate,Z,Te))}signInWithPhoneNumber(Z,Te){return qs(this._delegate,P.s(this._delegate,Z,Te))}signInWithPopup(Z){var Te=this;return(0,u.Z)(function*(){return Ee(En(),Te._delegate,"operation-not-supported-in-this-environment"),cn(Te._delegate,P.c(Te._delegate,Z,Oe))})()}signInWithRedirect(Z){var Te=this;return(0,u.Z)(function*(){return Ee(En(),Te._delegate,"operation-not-supported-in-this-environment"),yield nt(Te._delegate),P.f(Te._delegate,Z,Oe)})()}updateCurrentUser(Z){return this._delegate.updateCurrentUser(Z)}verifyPasswordResetCode(Z){return P.a3(this._delegate,Z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=zt,ie})();function qe(ie,Y,Z){let Te=ie;"function"!=typeof ie&&({next:Te,error:Y,complete:Z}=ie);const Fe=Te;return{next:Ft=>Fe(Ft&&W.getOrCreate(Ft)),error:Y,complete:Z}}class ct{constructor(){this.providerId="phone",this._delegate=new P.P(et(j.Z.auth()))}static credential(Y,Z){return P.P.credential(Y,Z)}verifyPhoneNumber(Y,Z){return this._delegate.verifyPhoneNumber(Y,Z)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=P.P.PROVIDER_ID;const Wt=P.aw;var ie;(ie=j.Z).INTERNAL.registerComponent(new re.wA("auth-compat",Y=>{const Z=Y.getProvider("app-compat").getImmediate(),Te=Y.getProvider("auth");return new ue(Z,Te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:class{constructor(Y,Z,Te=j.Z.app()){var Fe;Wt(null===(Fe=Te.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:Te.name}),this._delegate=new P.R(Y,Z,Te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:P.V,Auth:ue,AuthCredential:P.G,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.2.3")},6676:function(Ye,we){!function(F){"use strict";function u(fe){return Array.prototype.slice.call(fe)}function j(fe){return new Promise(function(ae,_e){fe.onsuccess=function(){ae(fe.result)},fe.onerror=function(){_e(fe.error)}})}function P(fe,ae,_e){var Pe,Ge=new Promise(function(kt,Lt){j(Pe=fe[ae].apply(fe,_e)).then(kt,Lt)});return Ge.request=Pe,Ge}function le(fe,ae,_e){var Pe=P(fe,ae,_e);return Pe.then(function(Ge){if(Ge)return new L(Ge,Pe.request)})}function ce(fe,ae,_e){_e.forEach(function(Pe){Object.defineProperty(fe.prototype,Pe,{get:function(){return this[ae][Pe]},set:function(Ge){this[ae][Pe]=Ge}})})}function K(fe,ae,_e,Pe){Pe.forEach(function(Ge){Ge in _e.prototype&&(fe.prototype[Ge]=function(){return P(this[ae],Ge,arguments)})})}function re(fe,ae,_e,Pe){Pe.forEach(function(Ge){Ge in _e.prototype&&(fe.prototype[Ge]=function(){return this[ae][Ge].apply(this[ae],arguments)})})}function X(fe,ae,_e,Pe){Pe.forEach(function(Ge){Ge in _e.prototype&&(fe.prototype[Ge]=function(){return le(this[ae],Ge,arguments)})})}function ee(fe){this._index=fe}function L(fe,ae){this._cursor=fe,this._request=ae}function U(fe){this._store=fe}function B(fe){this._tx=fe,this.complete=new Promise(function(ae,_e){fe.oncomplete=function(){ae()},fe.onerror=function(){_e(fe.error)},fe.onabort=function(){_e(fe.error)}})}function oe(fe,ae,_e){this._db=fe,this.oldVersion=ae,this.transaction=new B(_e)}function ge(fe){this._db=fe}ce(ee,"_index",["name","keyPath","multiEntry","unique"]),K(ee,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),X(ee,"_index",IDBIndex,["openCursor","openKeyCursor"]),ce(L,"_cursor",["direction","key","primaryKey","value"]),K(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(fe){fe in IDBCursor.prototype&&(L.prototype[fe]=function(){var ae=this,_e=arguments;return Promise.resolve().then(function(){return ae._cursor[fe].apply(ae._cursor,_e),j(ae._request).then(function(Pe){if(Pe)return new L(Pe,ae._request)})})})}),U.prototype.createIndex=function(){return new ee(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new ee(this._store.index.apply(this._store,arguments))},ce(U,"_store",["name","keyPath","indexNames","autoIncrement"]),K(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),X(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(U,"_store",IDBObjectStore,["deleteIndex"]),B.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ce(B,"_tx",["objectStoreNames","mode"]),re(B,"_tx",IDBTransaction,["abort"]),oe.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ce(oe,"_db",["name","version","objectStoreNames"]),re(oe,"_db",IDBDatabase,["deleteObjectStore","close"]),ge.prototype.transaction=function(){return new B(this._db.transaction.apply(this._db,arguments))},ce(ge,"_db",["name","version","objectStoreNames"]),re(ge,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(fe){[U,ee].forEach(function(ae){fe in ae.prototype&&(ae.prototype[fe.replace("open","iterate")]=function(){var _e=u(arguments),Pe=_e[_e.length-1],Ge=this._store||this._index,kt=Ge[fe].apply(Ge,_e.slice(0,-1));kt.onsuccess=function(){Pe(kt.result)}})})}),[ee,U].forEach(function(fe){fe.prototype.getAll||(fe.prototype.getAll=function(ae,_e){var Pe=this,Ge=[];return new Promise(function(kt){Pe.iterateCursor(ae,function(Lt){Lt?(Ge.push(Lt.value),void 0===_e||Ge.length!=_e?Lt.continue():kt(Ge)):kt(Ge)})})})}),F.openDb=function(fe,ae,_e){var Pe=P(indexedDB,"open",[fe,ae]),Ge=Pe.request;return Ge&&(Ge.onupgradeneeded=function(kt){_e&&_e(new oe(Ge.result,kt.oldVersion,Ge.transaction))}),Pe.then(function(kt){return new ge(kt)})},F.deleteDb=function(fe){return P(indexedDB,"deleteDatabase",[fe])},Object.defineProperty(F,"__esModule",{value:!0})}(we)},7574:(Ye,we,F)=>{"use strict";F.d(we,{y:()=>U});var u=F(7393),P=F(9181),le=F(6490),K=F(6554),re=F(4487);var L=F(2494);let U=(()=>{class oe{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const ve=new oe;return ve.source=this,ve.operator=De,ve}subscribe(De,ve,fe){const{operator:ae}=this,_e=function(oe,ge,De){if(oe){if(oe instanceof u.L)return oe;if(oe[P.b])return oe[P.b]()}return oe||ge||De?new u.L(oe,ge,De):new u.L(le.c)}(De,ve,fe);if(_e.add(ae?ae.call(_e,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),L.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe(De){try{return this._subscribe(De)}catch(ve){L.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=ve),function(oe){for(;oe;){const{closed:ge,destination:De,isStopped:ve}=oe;if(ge||ve)return!1;oe=De&&De instanceof u.L?De:null}return!0}(De)?De.error(ve):console.warn(ve)}}forEach(De,ve){return new(ve=B(ve))((fe,ae)=>{let _e;_e=this.subscribe(Pe=>{try{De(Pe)}catch(Ge){ae(Ge),_e&&_e.unsubscribe()}},ae,fe)})}_subscribe(De){const{source:ve}=this;return ve&&ve.subscribe(De)}[K.L](){return this}pipe(...De){return 0===De.length?this:function(oe){return 0===oe.length?re.y:1===oe.length?oe[0]:function(De){return oe.reduce((ve,fe)=>fe(ve),De)}}(De)(this)}toPromise(De){return new(De=B(De))((ve,fe)=>{let ae;this.subscribe(_e=>ae=_e,_e=>fe(_e),()=>ve(ae))})}}return oe.create=ge=>new oe(ge),oe})();function B(oe){if(oe||(oe=L.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},6490:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>P});var u=F(2494),j=F(4449);const P={closed:!0,next(le){},error(le){if(u.v.useDeprecatedSynchronousErrorHandling)throw le;(0,j.z)(le)},complete(){}}},9765:(Ye,we,F)=>{"use strict";F.d(we,{Yc:()=>re,xQ:()=>X});var u=F(7574),j=F(7393),P=F(5319),le=F(7971),ce=F(8858),K=F(9181);class re extends j.L{constructor(U){super(U),this.destination=U}}let X=(()=>{class L extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[K.b](){return new re(this)}lift(B){const oe=new ee(this,this);return oe.operator=B,oe}next(B){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:oe}=this,ge=oe.length,De=oe.slice();for(let ve=0;ve<ge;ve++)De[ve].next(B)}}error(B){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:oe}=this,ge=oe.length,De=oe.slice();for(let ve=0;ve<ge;ve++)De[ve].error(B);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:B}=this,oe=B.length,ge=B.slice();for(let De=0;De<oe;De++)ge[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new le.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new le.N;return this.hasError?(B.error(this.thrownError),P.w.EMPTY):this.isStopped?(B.complete(),P.w.EMPTY):(this.observers.push(B),new ce.W(this,B))}asObservable(){const B=new u.y;return B.source=this,B}}return L.create=(U,B)=>new ee(U,B),L})();class ee extends X{constructor(U,B){super(),this.destination=U,this.source=B}next(U){const{destination:B}=this;B&&B.next&&B.next(U)}error(U){const{destination:B}=this;B&&B.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:B}=this;return B?this.source.subscribe(U):P.w.EMPTY}}},8858:(Ye,we,F)=>{"use strict";F.d(we,{W:()=>j});var u=F(5319);class j extends u.w{constructor(le,ce){super(),this.subject=le,this.subscriber=ce,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,ce=le.observers;if(this.subject=null,!ce||0===ce.length||le.isStopped||le.closed)return;const K=ce.indexOf(this.subscriber);-1!==K&&ce.splice(K,1)}}},7393:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>re});var u=F(9105),j=F(6490),P=F(5319),le=F(9181),ce=F(2494),K=F(4449);class re extends P.w{constructor(L,U,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!L){this.destination=j.c;break}if("object"==typeof L){L instanceof re?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new X(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new X(this,L,U,B)}}[le.b](){return this}static create(L,U,B){const oe=new re(L,U,B);return oe.syncErrorThrowable=!1,oe}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class X extends re{constructor(L,U,B,oe){super(),this._parentSubscriber=L;let ge,De=this;(0,u.m)(U)?ge=U:U&&(ge=U.next,B=U.error,oe=U.complete,U!==j.c&&(De=Object.create(U),(0,u.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=ge,this._error=B,this._complete=oe}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;ce.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:B}=ce.v;if(this._error)B&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(U.syncErrorThrowable)B?(U.syncErrorValue=L,U.syncErrorThrown=!0):(0,K.z)(L),this.unsubscribe();else{if(this.unsubscribe(),B)throw L;(0,K.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const U=()=>this._complete.call(this._context);ce.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,U){try{L.call(this._context,U)}catch(B){if(this.unsubscribe(),ce.v.useDeprecatedSynchronousErrorHandling)throw B;(0,K.z)(B)}}__tryOrSetError(L,U,B){if(!ce.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,B)}catch(oe){return ce.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=oe,L.syncErrorThrown=!0,!0):((0,K.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Ye,we,F)=>{"use strict";F.d(we,{w:()=>K});var u=F(9796),j=F(1555),P=F(9105);const ce=(()=>{function X(ee){return Error.call(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((L,U)=>`${U+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee,this}return X.prototype=Object.create(Error.prototype),X})();class K{constructor(ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=ee)}unsubscribe(){let ee;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:U,_unsubscribe:B,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof K)L.remove(this);else if(null!==L)for(let ge=0;ge<L.length;++ge)L[ge].remove(this);if((0,P.m)(B)){U&&(this._unsubscribe=void 0);try{B.call(this)}catch(ge){ee=ge instanceof ce?re(ge.errors):[ge]}}if((0,u.k)(oe)){let ge=-1,De=oe.length;for(;++ge<De;){const ve=oe[ge];if((0,j.K)(ve))try{ve.unsubscribe()}catch(fe){ee=ee||[],fe instanceof ce?ee=ee.concat(re(fe.errors)):ee.push(fe)}}}if(ee)throw new ce(ee)}add(ee){let L=ee;if(!ee)return K.EMPTY;switch(typeof ee){case"function":L=new K(ee);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof K)){const oe=L;L=new K,L._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+ee+" added to Subscription.")}let{_parentOrParents:U}=L;if(null===U)L._parentOrParents=this;else if(U instanceof K){if(U===this)return L;L._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return L;U.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[L]:B.push(L),L}remove(ee){const L=this._subscriptions;if(L){const U=L.indexOf(ee);-1!==U&&L.splice(U,1)}}}var X;function re(X){return X.reduce((ee,L)=>ee.concat(L instanceof ce?L.errors:L),[])}K.EMPTY=((X=new K).closed=!0,X)},2494:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>j});let u=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(P){if(P){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=P},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(Ye,we,F)=>{"use strict";F.d(we,{IY:()=>le,Ds:()=>K,ft:()=>X});var u=F(7393),j=F(7574),P=F(7444);class le extends u.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class K extends u.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function X(ee,L){if(L.closed)return;if(ee instanceof j.y)return ee.subscribe(L);let U;try{U=(0,P.s)(ee)(L)}catch(B){L.error(B)}return U}},2441:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>ce,N:()=>K});var u=F(9765),j=F(7574),P=F(5319),le=F(1307);class ce extends j.y{constructor(U,B){super(),this.source=U,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new P.w,U.add(this.source.subscribe(new re(this.getSubject(),this))),U.closed&&(this._connection=null,U=P.w.EMPTY)),U}refCount(){return(0,le.x)()(this)}}const K=(()=>{const L=ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class re extends u.Yc{constructor(U,B){super(U),this.connectable=B}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const B=U._connection;U._refCount=0,U._subject=null,U._connection=null,B&&B.unsubscribe()}}}},9193:(Ye,we,F)=>{"use strict";F.d(we,{E:()=>j,c:()=>P});var u=F(7574);const j=new u.y(ce=>ce.complete());function P(ce){return ce?function(ce){return new u.y(K=>ce.schedule(()=>K.complete()))}(ce):j}},4402:(Ye,we,F)=>{"use strict";F.d(we,{D:()=>De});var u=F(7574),j=F(7444),P=F(5319),le=F(6554),re=F(4087),X=F(377),U=F(4072),B=F(9489);function De(ve,fe){return fe?function(ve,fe){if(null!=ve){if(function(ve){return ve&&"function"==typeof ve[le.L]}(ve))return function(ve,fe){return new u.y(ae=>{const _e=new P.w;return _e.add(fe.schedule(()=>{const Pe=ve[le.L]();_e.add(Pe.subscribe({next(Ge){_e.add(fe.schedule(()=>ae.next(Ge)))},error(Ge){_e.add(fe.schedule(()=>ae.error(Ge)))},complete(){_e.add(fe.schedule(()=>ae.complete()))}}))})),_e})}(ve,fe);if((0,U.t)(ve))return function(ve,fe){return new u.y(ae=>{const _e=new P.w;return _e.add(fe.schedule(()=>ve.then(Pe=>{_e.add(fe.schedule(()=>{ae.next(Pe),_e.add(fe.schedule(()=>ae.complete()))}))},Pe=>{_e.add(fe.schedule(()=>ae.error(Pe)))}))),_e})}(ve,fe);if((0,B.z)(ve))return(0,re.r)(ve,fe);if(function(ve){return ve&&"function"==typeof ve[X.hZ]}(ve)||"string"==typeof ve)return function(ve,fe){if(!ve)throw new Error("Iterable cannot be null");return new u.y(ae=>{const _e=new P.w;let Pe;return _e.add(()=>{Pe&&"function"==typeof Pe.return&&Pe.return()}),_e.add(fe.schedule(()=>{Pe=ve[X.hZ](),_e.add(fe.schedule(function(){if(ae.closed)return;let Ge,kt;try{const Lt=Pe.next();Ge=Lt.value,kt=Lt.done}catch(Lt){return void ae.error(Lt)}kt?ae.complete():(ae.next(Ge),this.schedule())}))})),_e})}(ve,fe)}throw new TypeError((null!==ve&&typeof ve||ve)+" is not observable")}(ve,fe):ve instanceof u.y?ve:new u.y((0,j.s)(ve))}},6693:(Ye,we,F)=>{"use strict";F.d(we,{n:()=>le});var u=F(7574),j=F(5015),P=F(4087);function le(ce,K){return K?(0,P.r)(ce,K):new u.y((0,j.V)(ce))}},6682:(Ye,we,F)=>{"use strict";F.d(we,{T:()=>ce});var u=F(7574),j=F(4869),P=F(3282),le=F(6693);function ce(...K){let re=Number.POSITIVE_INFINITY,X=null,ee=K[K.length-1];return(0,j.K)(ee)?(X=K.pop(),K.length>1&&"number"==typeof K[K.length-1]&&(re=K.pop())):"number"==typeof ee&&(re=K.pop()),null===X&&1===K.length&&K[0]instanceof u.y?K[0]:(0,P.J)(re)((0,le.n)(K,X))}},5917:(Ye,we,F)=>{"use strict";F.d(we,{of:()=>le});var u=F(4869),j=F(6693),P=F(4087);function le(...ce){let K=ce[ce.length-1];return(0,u.K)(K)?(ce.pop(),(0,P.r)(ce,K)):(0,j.n)(ce)}},205:(Ye,we,F)=>{"use strict";F.d(we,{_:()=>j});var u=F(7574);function j(le,ce){return new u.y(ce?K=>ce.schedule(P,0,{error:le,subscriber:K}):K=>K.error(le))}function P({error:le,subscriber:ce}){ce.error(le)}},8002:(Ye,we,F)=>{"use strict";F.d(we,{U:()=>j});var u=F(7393);function j(ce,K){return function(X){if("function"!=typeof ce)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return X.lift(new P(ce,K))}}class P{constructor(K,re){this.project=K,this.thisArg=re}call(K,re){return re.subscribe(new le(K,this.project,this.thisArg))}}class le extends u.L{constructor(K,re,X){super(K),this.project=re,this.count=0,this.thisArg=X||this}_next(K){let re;try{re=this.project.call(this.thisArg,K,this.count++)}catch(X){return void this.destination.error(X)}this.destination.next(re)}}},3282:(Ye,we,F)=>{"use strict";F.d(we,{J:()=>P});var u=F(9773),j=F(4487);function P(le=Number.POSITIVE_INFINITY){return(0,u.zg)(j.y,le)}},9773:(Ye,we,F)=>{"use strict";F.d(we,{zg:()=>le});var u=F(8002),j=F(4402),P=F(5345);function le(X,ee,L=Number.POSITIVE_INFINITY){return"function"==typeof ee?U=>U.pipe(le((B,oe)=>(0,j.D)(X(B,oe)).pipe((0,u.U)((ge,De)=>ee(B,ge,oe,De))),L)):("number"==typeof ee&&(L=ee),U=>U.lift(new ce(X,L)))}class ce{constructor(ee,L=Number.POSITIVE_INFINITY){this.project=ee,this.concurrent=L}call(ee,L){return L.subscribe(new K(ee,this.project,this.concurrent))}}class K extends P.Ds{constructor(ee,L,U=Number.POSITIVE_INFINITY){super(ee),this.project=L,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ee){this.active<this.concurrent?this._tryNext(ee):this.buffer.push(ee)}_tryNext(ee){let L;const U=this.index++;try{L=this.project(ee,U)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(L)}_innerSub(ee){const L=new P.IY(this),U=this.destination;U.add(L);const B=(0,P.ft)(ee,L);B!==L&&U.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ee){this.destination.next(ee)}notifyComplete(){const ee=this.buffer;this.active--,ee.length>0?this._next(ee.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(Ye,we,F)=>{"use strict";F.d(we,{ht:()=>ee,QV:()=>re});var u=F(7393),j=F(9193),P=F(5917),le=F(205);class K{constructor(B,oe,ge){this.kind=B,this.value=oe,this.error=ge,this.hasValue="N"===B}observe(B){switch(this.kind){case"N":return B.next&&B.next(this.value);case"E":return B.error&&B.error(this.error);case"C":return B.complete&&B.complete()}}do(B,oe,ge){switch(this.kind){case"N":return B&&B(this.value);case"E":return oe&&oe(this.error);case"C":return ge&&ge()}}accept(B,oe,ge){return B&&"function"==typeof B.next?this.observe(B):this.do(B,oe,ge)}toObservable(){switch(this.kind){case"N":return(0,P.of)(this.value);case"E":return(0,le._)(this.error);case"C":return(0,j.c)()}throw new Error("unexpected notification kind value")}static createNext(B){return void 0!==B?new K("N",B):K.undefinedValueNotification}static createError(B){return new K("E",void 0,B)}static createComplete(){return K.completeNotification}}function re(U,B=0){return function(ge){return ge.lift(new X(U,B))}}K.completeNotification=new K("C"),K.undefinedValueNotification=new K("N",void 0);class X{constructor(B,oe=0){this.scheduler=B,this.delay=oe}call(B,oe){return oe.subscribe(new ee(B,this.scheduler,this.delay))}}class ee extends u.L{constructor(B,oe,ge=0){super(B),this.scheduler=oe,this.delay=ge}static dispatch(B){const{notification:oe,destination:ge}=B;oe.observe(ge),this.unsubscribe()}scheduleMessage(B){this.destination.add(this.scheduler.schedule(ee.dispatch,this.delay,new L(B,this.destination)))}_next(B){this.scheduleMessage(K.createNext(B))}_error(B){this.scheduleMessage(K.createError(B)),this.unsubscribe()}_complete(){this.scheduleMessage(K.createComplete()),this.unsubscribe()}}class L{constructor(B,oe){this.notification=B,this.destination=oe}}},1307:(Ye,we,F)=>{"use strict";F.d(we,{x:()=>j});var u=F(7393);function j(){return function(K){return K.lift(new P(K))}}class P{constructor(K){this.connectable=K}call(K,re){const{connectable:X}=this;X._refCount++;const ee=new le(K,X),L=re.subscribe(ee);return ee.closed||(ee.connection=X.connect()),L}}class le extends u.L{constructor(K,re){super(K),this.connectable=re}_unsubscribe(){const{connectable:K}=this;if(!K)return void(this.connection=null);this.connectable=null;const re=K._refCount;if(re<=0)return void(this.connection=null);if(K._refCount=re-1,re>1)return void(this.connection=null);const{connection:X}=this,ee=K._connection;this.connection=null,ee&&(!X||ee===X)&&ee.unsubscribe()}}},8819:(Ye,we,F)=>{"use strict";F.d(we,{B:()=>re});var u=F(2441);var le=F(1307),ce=F(9765);function K(){return new ce.xQ}function re(){return X=>(0,le.x)()(function(X,ee){return function(U){let B;B="function"==typeof X?X:function(){return X};const oe=Object.create(U,u.N);return oe.source=U,oe.subjectFactory=B,oe}}(K)(X))}},9673:(Ye,we,F)=>{"use strict";F.d(we,{R:()=>ce});var u=F(7574),j=F(4581),P=F(6561);class le extends u.y{constructor(X,ee=0,L=j.e){super(),this.source=X,this.delayTime=ee,this.scheduler=L,(!(0,P.k)(ee)||ee<0)&&(this.delayTime=0),(!L||"function"!=typeof L.schedule)&&(this.scheduler=j.e)}static create(X,ee=0,L=j.e){return new le(X,ee,L)}static dispatch(X){const{source:ee,subscriber:L}=X;return this.add(ee.subscribe(L))}_subscribe(X){return this.scheduler.schedule(le.dispatch,this.delayTime,{source:this.source,subscriber:X})}}function ce(re,X=0){return function(L){return L.lift(new K(re,X))}}class K{constructor(X,ee){this.scheduler=X,this.delay=ee}call(X,ee){return new le(ee,this.delay,this.scheduler).subscribe(X)}}},3342:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>le});var u=F(7393);function j(){}var P=F(9105);function le(re,X,ee){return function(U){return U.lift(new ce(re,X,ee))}}class ce{constructor(X,ee,L){this.nextOrObserver=X,this.error=ee,this.complete=L}call(X,ee){return ee.subscribe(new K(X,this.nextOrObserver,this.error,this.complete))}}class K extends u.L{constructor(X,ee,L,U){super(X),this._tapNext=j,this._tapError=j,this._tapComplete=j,this._tapError=L||j,this._tapComplete=U||j,(0,P.m)(ee)?(this._context=this,this._tapNext=ee):ee&&(this._context=ee,this._tapNext=ee.next||j,this._tapError=ee.error||j,this._tapComplete=ee.complete||j)}_next(X){try{this._tapNext.call(this._context,X)}catch(ee){return void this.destination.error(ee)}this.destination.next(X)}_error(X){try{this._tapError.call(this._context,X)}catch(ee){return void this.destination.error(ee)}this.destination.error(X)}_complete(){try{this._tapComplete.call(this._context)}catch(X){return void this.destination.error(X)}return this.destination.complete()}}},4087:(Ye,we,F)=>{"use strict";F.d(we,{r:()=>P});var u=F(7574),j=F(5319);function P(le,ce){return new u.y(K=>{const re=new j.w;let X=0;return re.add(ce.schedule(function(){X!==le.length?(K.next(le[X++]),K.closed||re.add(this.schedule())):K.complete()})),re})}},6465:(Ye,we,F)=>{"use strict";F.d(we,{o:()=>P});var u=F(5319);class j extends u.w{constructor(ce,K){super()}schedule(ce,K=0){return this}}class P extends j{constructor(ce,K){super(ce,K),this.scheduler=ce,this.work=K,this.pending=!1}schedule(ce,K=0){if(this.closed)return this;this.state=ce;const re=this.id,X=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(X,re,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(X,this.id,K),this}requestAsyncId(ce,K,re=0){return setInterval(ce.flush.bind(ce,this),re)}recycleAsyncId(ce,K,re=0){if(null!==re&&this.delay===re&&!1===this.pending)return K;clearInterval(K)}execute(ce,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(ce,K);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,K){let X,re=!1;try{this.work(ce)}catch(ee){re=!0,X=!!ee&&ee||new Error(ee)}if(re)return this.unsubscribe(),X}_unsubscribe(){const ce=this.id,K=this.scheduler,re=K.actions,X=re.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==X&&re.splice(X,1),null!=ce&&(this.id=this.recycleAsyncId(K,ce,null)),this.delay=null}}},6102:(Ye,we,F)=>{"use strict";F.d(we,{v:()=>j});let u=(()=>{class P{constructor(ce,K=P.now){this.SchedulerAction=ce,this.now=K}schedule(ce,K=0,re){return new this.SchedulerAction(this,ce).schedule(re,K)}}return P.now=()=>Date.now(),P})();class j extends u{constructor(le,ce=u.now){super(le,()=>j.delegate&&j.delegate!==this?j.delegate.now():ce()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,ce=0,K){return j.delegate&&j.delegate!==this?j.delegate.schedule(le,ce,K):super.schedule(le,ce,K)}flush(le){const{actions:ce}=this;if(this.active)return void ce.push(le);let K;this.active=!0;do{if(K=le.execute(le.state,le.delay))break}while(le=ce.shift());if(this.active=!1,K){for(;le=ce.shift();)le.unsubscribe();throw K}}}},4581:(Ye,we,F)=>{"use strict";F.d(we,{e:()=>B,E:()=>U});let u=1;const j=Promise.resolve(),P={};function le(oe){return oe in P&&(delete P[oe],!0)}const ce={setImmediate(oe){const ge=u++;return P[ge]=!0,j.then(()=>le(ge)&&oe()),ge},clearImmediate(oe){le(oe)}};var re=F(6465),ee=F(6102);const U=new class extends ee.v{flush(ge){this.active=!0,this.scheduled=void 0;const{actions:De}=this;let ve,fe=-1,ae=De.length;ge=ge||De.shift();do{if(ve=ge.execute(ge.state,ge.delay))break}while(++fe<ae&&(ge=De.shift()));if(this.active=!1,ve){for(;++fe<ae&&(ge=De.shift());)ge.unsubscribe();throw ve}}}(class extends re.o{constructor(ge,De){super(ge,De),this.scheduler=ge,this.work=De}requestAsyncId(ge,De,ve=0){return null!==ve&&ve>0?super.requestAsyncId(ge,De,ve):(ge.actions.push(this),ge.scheduled||(ge.scheduled=ce.setImmediate(ge.flush.bind(ge,null))))}recycleAsyncId(ge,De,ve=0){if(null!==ve&&ve>0||null===ve&&this.delay>0)return super.recycleAsyncId(ge,De,ve);0===ge.actions.length&&(ce.clearImmediate(De),ge.scheduled=void 0)}}),B=U},3637:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>P,P:()=>le});var u=F(6465);const P=new(F(6102).v)(u.o),le=P},7771:(Ye,we,F)=>{"use strict";F.d(we,{c:()=>K,N:()=>ce});var u=F(6465),P=F(6102);const ce=new class extends P.v{}(class extends u.o{constructor(X,ee){super(X,ee),this.scheduler=X,this.work=ee}schedule(X,ee=0){return ee>0?super.schedule(X,ee):(this.delay=ee,this.state=X,this.scheduler.flush(this),this)}execute(X,ee){return ee>0||this.closed?super.execute(X,ee):this._execute(X,ee)}requestAsyncId(X,ee,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(X,ee,L):X.flush(this)}}),K=ce},377:(Ye,we,F)=>{"use strict";F.d(we,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,we,F)=>{"use strict";F.d(we,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,we,F)=>{"use strict";F.d(we,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,we,F)=>{"use strict";F.d(we,{N:()=>j});const j=(()=>{function P(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return P.prototype=Object.create(Error.prototype),P})()},4449:(Ye,we,F)=>{"use strict";function u(j){setTimeout(()=>{throw j},0)}F.d(we,{z:()=>u})},4487:(Ye,we,F)=>{"use strict";function u(j){return j}F.d(we,{y:()=>u})},9796:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>u});const u=Array.isArray||(j=>j&&"number"==typeof j.length)},9489:(Ye,we,F)=>{"use strict";F.d(we,{z:()=>u});const u=j=>j&&"number"==typeof j.length&&"function"!=typeof j},9105:(Ye,we,F)=>{"use strict";function u(j){return"function"==typeof j}F.d(we,{m:()=>u})},6561:(Ye,we,F)=>{"use strict";F.d(we,{k:()=>j});var u=F(9796);function j(P){return!(0,u.k)(P)&&P-parseFloat(P)+1>=0}},1555:(Ye,we,F)=>{"use strict";function u(j){return null!==j&&"object"==typeof j}F.d(we,{K:()=>u})},4072:(Ye,we,F)=>{"use strict";function u(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}F.d(we,{t:()=>u})},4869:(Ye,we,F)=>{"use strict";function u(j){return j&&"function"==typeof j.schedule}F.d(we,{K:()=>u})},7444:(Ye,we,F)=>{"use strict";F.d(we,{s:()=>U});var u=F(5015),j=F(4449),le=F(377),K=F(6554),X=F(9489),ee=F(4072),L=F(1555);const U=B=>{if(B&&"function"==typeof B[K.L])return(B=>oe=>{const ge=B[K.L]();if("function"!=typeof ge.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ge.subscribe(oe)})(B);if((0,X.z)(B))return(0,u.V)(B);if((0,ee.t)(B))return(B=>oe=>(B.then(ge=>{oe.closed||(oe.next(ge),oe.complete())},ge=>oe.error(ge)).then(null,j.z),oe))(B);if(B&&"function"==typeof B[le.hZ])return(B=>oe=>{const ge=B[le.hZ]();for(;;){let De;try{De=ge.next()}catch(ve){return oe.error(ve),oe}if(De.done){oe.complete();break}if(oe.next(De.value),oe.closed)break}return"function"==typeof ge.return&&oe.add(()=>{ge.return&&ge.return()}),oe})(B);{const ge=`You provided ${(0,L.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ge)}}},5015:(Ye,we,F)=>{"use strict";F.d(we,{V:()=>u});const u=j=>P=>{for(let le=0,ce=j.length;le<ce&&!P.closed;le++)P.next(j[le]);P.complete()}},1198:(Ye,we,F)=>{"use strict";var u=F(7716);let j=null;function P(){return j}const re=new u.OlP("DocumentToken");let X=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:ee,token:n,providedIn:"platform"}),n})();function ee(){return(0,u.LFG)(U)}const L=new u.OlP("Location Initialized");let U=(()=>{class n extends X{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){B()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){B()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=(0,u.Yz7)({factory:oe,token:n,providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function oe(){return new U((0,u.LFG)(re))}function ge(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ve(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:ae,token:n,providedIn:"root"}),n})();function ae(n){const e=(0,u.LFG)(re).location;return new Pe((0,u.LFG)(X),e&&e.origin||"")}const _e=new u.OlP("appBaseHref");let Pe=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ge(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ve(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+ve(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+ve(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ge(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+ve(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+ve(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(X),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),kt=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=De(bt(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ve(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,bt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ve(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ve(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(X))},n.normalizeQueryParams=ve,n.joinWithSlash=ge,n.stripTrailingSlash=De,n.\u0275prov=(0,u.Yz7)({factory:Lt,token:n,providedIn:"root"}),n})();function Lt(){return new kt((0,u.LFG)(fe),(0,u.LFG)(X))}function bt(n){return n.replace(/\/index.html$/,"")}var _t=(()=>((_t=_t||{})[_t.Zero=0]="Zero",_t[_t.One=1]="One",_t[_t.Two=2]="Two",_t[_t.Few=3]="Few",_t[_t.Many=4]="Many",_t[_t.Other=5]="Other",_t))();const Re=u.kL8;class Xr{}let fr=(()=>{class n extends Xr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Re(r||this.locale)(t)){case _t.Zero:return"zero";case _t.One:return"one";case _t.Two:return"two";case _t.Few:return"few";case _t.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();let mo=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fi{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jt=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new fi(null,this._ngForOf,-1,-1),null===h?void 0:h),v=new Ha(o,p);r.push(v)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const p=this._viewContainer.get(l);this._viewContainer.move(p,h);const v=new Ha(o,p);r.push(v)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Ha{constructor(e,t){this.record=e,this.view=t}}let xi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Bc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_o("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_o("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Bc{constructor(){this.$implicit=null,this.ngIf=null}}function _o(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let ns=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Xr,useClass:fr}]}),n})();function Jo(n){return"server"===n}let Ga=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ml((0,u.LFG)(re),window)}),n})();class Ml{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rs(this.window.history)||rs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function rs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class za extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new za,j||(j=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(wr=wr||document.querySelector("base"),wr?wr.getAttribute("href"):null);return null==t?null:function(n){an=an||document.createElement("a"),an.setAttribute("href",n);const e=an.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let an,wr=null;const Wc=new u.OlP("TRANSITION_ID"),mi=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[Wc,re,u.zs3],multi:!0}];class An{static init(){(0,u.VLi)(new An)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const p=function(v){h=h||v,l--,0==l&&r(h)};o.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Zc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ss=new u.OlP("EventManagerPlugins");let Ie=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ss),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Za=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wn=(()=>{class n extends Za{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ya),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ya))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ya(n){P().remove(n)}const Oi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ur=/%COMP%/g;function sr(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?sr(n,o,t):(o=o.replace(Ur,n),t.push(o))}return t}function jr(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pi=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Cr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Qa(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new Jc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=sr(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie),u.LFG(wn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Cr{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Oi[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=Oi[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Oi[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jr(r)):this.eventManager.addEventListener(e,t,jr(r))}}class Qa extends Cr{constructor(e,t,r,o){super(e),this.component=r;const l=sr(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Ur,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ur,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Jc extends Cr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=sr(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const p=document.createElement("style");p.textContent=l[h],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let bo=(()=>{class n extends xt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wo=["alt","control","meta","shift"],el={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},eu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bl=(()=>{class n extends xt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(wo.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),h+=v+".")}),h+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=o,p.fullKey=h,p}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Tr.hasOwnProperty(e)&&(e=Tr[e]))}return el[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),wo.forEach(l=>{l!=o&&eu[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ra=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(sa)},token:n,providedIn:"root"}),n})(),sa=(()=>{class n extends ra{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=(0,u.Yz7)({factory:function(){return function(n){return new sa(n.get(re))}((0,u.LFG)(u.gxx))},token:n,providedIn:"root"}),n})();const Io=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){za.makeCurrent(),An.init()},multi:!0},{provide:re,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),ru=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:ss,useClass:bo,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:ss,useClass:Bl,multi:!0,deps:[re]},[],{provide:Pi,useClass:Pi,deps:[Ie,wn,u.AFp]},{provide:u.FYo,useExisting:Pi},{provide:Za,useExisting:wn},{provide:wn,useClass:wn,deps:[re]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ie,useClass:Ie,deps:[ss,u.R0b]},{provide:class{},useClass:Zc,deps:[]},[]];let iu=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Wc,useExisting:u.AFp},mi]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ru,imports:[ns,u.hGG]}),n})();"undefined"!=typeof window&&window;var kn=F(4402),Ue=F(5917),Je=F(9765),Id=F(7971);class or extends Je.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Id.N;return this._value}next(e){super.next(this._value=e)}}var rl=F(4869),no=F(9796),Qn=F(7393);class lu extends Qn.L{notifyNext(e,t,r,o,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class jl extends Qn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Hl=F(7444),St=F(7574);function Xh(n,e,t,r,o=new jl(n,t,r)){if(!o.closed)return e instanceof St.y?e.subscribe(o):(0,Hl.s)(e)(o)}var la=F(6693);const cu={};class Dd{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new il(e,this.resultSelector))}}class il extends lu{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(cu),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Xh(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===cu?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Fi=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var _i=F(3282);function cs(...n){return(0,_i.J)(1)((0,Ue.of)(...n))}var Hr=F(9193);function ks(n){return new St.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,kn.D)(t):(0,Hr.c)()).subscribe(e)})}var $l=F(2441),gt=F(8002),ti=F(5345);function Pr(n,e){return"function"==typeof e?t=>t.pipe(Pr((r,o)=>(0,kn.D)(n(r,o)).pipe((0,gt.U)((l,h)=>e(r,l,o,h))))):t=>t.lift(new Sd(n))}class Sd{constructor(e){this.project=e}call(e,t){return t.subscribe(new On(e,this.project))}}class On extends ti.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new ti.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,ti.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Gl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Os(n){return e=>0===n?(0,Hr.c)():e.lift(new tf(n))}class tf{constructor(e){if(this.total=e,this.total<0)throw new Gl}call(e,t){return t.subscribe(new tg(e,this.total))}}class tg extends Qn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function yi(...n){const e=n[n.length-1];return(0,rl.K)(e)?(n.pop(),t=>cs(n,t,e)):t=>cs(n,t)}function zl(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new Ad(n,e,t))}}class Ad{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new ng(e,this.accumulator,this.seed,this.hasSeed))}}class ng extends Qn.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Bn(n,e){return function(r){return r.lift(new du(n,e))}}class du{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ca(e,this.predicate,this.thisArg))}}class ca extends Qn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Ps(n){return function(t){const r=new Pn(n),o=t.lift(r);return r.caught=o}}class Pn{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ua(e,this.selector,this.caught))}}class ua extends ti.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new ti.IY(this);this.add(r);const o=(0,ti.ft)(t,r);o!==r&&this.add(o)}}}var zn=F(9773);function ql(n,e){return(0,zn.zg)(n,e,1)}function Wl(n){return function(t){return 0===n?(0,Hr.c)():t.lift(new Li(n))}}class Li{constructor(e){if(this.total=e,this.total<0)throw new Gl}call(e,t){return t.subscribe(new us(e,this.total))}}class us extends Qn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(o[h])}}e.complete()}}function sl(n=hu){return e=>e.lift(new vi(n))}class vi{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Ns(e,this.errorFactory))}}class Ns extends Qn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function hu(){return new Fi}function Md(n=null){return e=>e.lift(new Do(n))}class Do{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new rg(e,this.defaultValue))}}class rg extends Qn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Fs=F(4487);function qn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bn((o,l)=>n(o,l,r)):Fs.y,Os(1),t?Md(e):sl(()=>new Fi))}var Wn=F(3342),ro=F(1307),gr=F(5319);function Zl(n){return e=>e.lift(new T(n))}class T{constructor(e){this.callback=e}call(e,t){return t.subscribe(new D(e,this.callback))}}class D extends Qn.L{constructor(e,t){super(e),this.add(new gr.w(t))}}class R{constructor(e,t){this.id=e,this.url=t}}class V extends R{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ne extends R{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class he extends R{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends R{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ze extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends R{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rn extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends R{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ni{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ar{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class da{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ol{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ha{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ls{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yt="primary";class $_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mn(n){return new $_(n)}const rf="ngNavigationCancelingError";function sf(n){const e=Error("NavigationCancelingError: "+n);return e[rf]=!0,e}function al(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],p=n[l];if(h.startsWith(":"))o[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Bs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!xd(n[o],e[o]))return!1;return!0}function xd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function ig(n){return Array.prototype.concat.apply([],n)}function ll(n){return n.length>0?n[n.length-1]:null}function Zn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Nr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,kn.D)(Promise.resolve(n)):(0,Ue.of)(n)}const Rd={exact:function sg(n,e,t){if(!ma(n.segments,e.segments)||!pu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sg(n.children[r],e.children[r],t))return!1;return!0},subset:Ao},kd={exact:function(n,e){return Bs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xd(n[t],e[t]))},ignored:()=>!0};function fu(n,e,t){return Rd[t.paths](n.root,e.root,t.matrixParams)&&kd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ao(n,e,t){return pa(n,e,e.segments,t)}function pa(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ma(o,t)||e.hasChildren()||!pu(o,t,r))}if(n.segments.length===t.length){if(!ma(n.segments,t)||!pu(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Ao(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ma(n.segments,o)&&pu(n.segments,o,r)&&n.children[yt])&&pa(n.children[yt],e,l,r)}}function pu(n,e,t){return e.every((r,o)=>kd[t](n[o].parameters,r.parameters))}class ga{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return lf.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Zn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mo(this)}}class Yl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mn(this.parameters)),this._parameterMap}toString(){return uf(this)}}function ma(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Pd{}class cl{parse(e){const t=new og(e);return new ga(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${gu(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${cf(t)}=${cf(o)}`).join("&"):`${cf(t)}=${cf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const lf=new cl;function Mo(n){return n.segments.map(e=>uf(e)).join("/")}function gu(n,e){if(!n.hasChildren())return Mo(n);if(e){const t=n.children[yt]?gu(n.children[yt],!1):"",r=[];return Zn(n.children,(o,l)=>{l!==yt&&r.push(`${l}:${gu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Zn(n.children,(r,o)=>{o===yt&&(t=t.concat(e(r,o)))}),Zn(n.children,(r,o)=>{o!==yt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===yt?[gu(n.children[yt],!1)]:[`${o}:${gu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yt]?`${Mo(n)}/${t[0]}`:`${Mo(n)}/(${t.join("//")})`}}function Nd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cf(n){return Nd(n).replace(/%3B/gi,";")}function Kl(n){return Nd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mu(n){return decodeURIComponent(n)}function Ql(n){return mu(n.replace(/\+/g,"%20"))}function uf(n){return`${Kl(n.path)}${function(n){return Object.keys(n).map(e=>`;${Kl(e)}=${Kl(n[e])}`).join("")}(n.parameters)}`}const Z_=/^[^\/()?;=#]+/;function Ld(n){const e=n.match(Z_);return e?e[0]:""}const Y_=/^[^=?&#]+/,xo=/^[^?&#]+/;class og{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[yt]=new $t(e,t)),r}parseSegment(){const e=Ld(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yl(mu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ld(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ld(this.remaining);o&&(r=o,this.capture(r))}e[mu(t)]=mu(r)}parseQueryParam(e){const t=function(n){const e=n.match(Y_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(xo);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Ql(t),l=Ql(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ld(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=yt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[yt]:new $t([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ag{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=df(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=df(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=hf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return hf(e,this._root).map(t=>t.value)}}function df(n,e){if(n===e.value)return e;for(const t of e.children){const r=df(n,t);if(r)return r}return null}function hf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=hf(n,t);if(r.length)return r.unshift(e),r}return[]}class Ro{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ff extends ag{constructor(e,t){super(e),this.snapshot=t,_u(this,e)}toString(){return this.snapshot.toString()}}function lg(n,e){const t=function(n,e){const h=new ec([],{},{},"",{},yt,e,null,n.root,-1,{});return new tc("",new Ro(h,[]))}(n,e),r=new or([new Yl("",{})]),o=new or({}),l=new or({}),h=new or({}),p=new or(""),v=new Xl(r,o,h,p,l,yt,e,t.root);return v.snapshot=t.root,new ff(new Ro(v,[]),t)}class Xl{constructor(e,t,r,o,l,h,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>mn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>mn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ec{constructor(e,t,r,o,l,h,p,v,C,S,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=p,this.routeConfig=v,this._urlSegment=C,this._lastPathIndex=S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tc extends ag{constructor(e,t){super(t),this.url=e,_u(this,t)}toString(){return Vs(this._root)}}function _u(n,e){e.value._routerState=n,e.children.forEach(t=>_u(n,t))}function Vs(n){const e=n.children.length>0?` { ${n.children.map(Vs).join(", ")} } `:"";return`${n.value}${e}`}function ko(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vd(n,e){return Bs(n.params,e.params)&&function(n,e){return ma(n,e)&&n.every((t,r)=>Bs(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Vd(n.parent,e.parent))}function nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return nc(n,r,o);return nc(n,r)})}(n,e,t);return new Ro(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return J_(e,h),h}}const r=function(n){return new Xl(new or(n.url),new or(n.params),new or(n.queryParams),new or(n.fragment),new or(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>nc(n,l));return new Ro(r,o)}}function J_(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)J_(n.children[t],e.children[t])}function b(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function g(n){return"object"==typeof n&&null!=n&&n.outlets}function _(n,e,t,r,o){let l={};return r&&Zn(r,(h,p)=>{l[p]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new ga(t.root===n?e:w(t.root,n,e),l,o)}function w(n,e,t){const r={};return Zn(n.children,(o,l)=>{r[l]=o===e?t:w(o,e,t)}),new $t(n.segments,r)}class M{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&b(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(g);if(o&&o!==ll(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class J{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function st(n,e,t){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return Zt(n,e,t);const r=function(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],p=t[r];if(g(p))break;const v=`${p}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!Ud(v,C,h))return l;r+=2}else{if(!Ud(v,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new $t(n.segments.slice(0,r.pathIndex),{});return l.children[yt]=new $t(n.segments.slice(r.pathIndex),n.children),Zt(l,0,o)}return r.match&&0===o.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?Fr(n,e,t):r.match?Zt(n,0,o):Fr(n,e,t)}function Zt(n,e,t){if(0===t.length)return new $t(n.segments,{});{const r=function(n){return g(n[0])?n[0].outlets:{[yt]:n}}(t),o={};return Zn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=st(n.children[h],e,l))}),Zn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new $t(n.segments,o)}}function Fr(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(g(l)){const v=yn(l.outlets);return new $t(r,v)}if(0===o&&b(t[0])){r.push(new Yl(n.segments[e].path,yu(t[0]))),o++;continue}const h=g(l)?l.outlets[yt]:`${l}`,p=o<t.length-1?t[o+1]:null;h&&p&&b(p)?(r.push(new Yl(h,yu(p))),o+=2):(r.push(new Yl(h,{})),o++)}return new $t(r,{})}function yn(n){const e={};return Zn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Fr(new $t([],{}),0,t))}),e}function yu(n){const e={};return Zn(n,(t,r)=>e[r]=`${t}`),e}function Ud(n,e,t){return n==t.path&&Bs(e,t.parameters)}class gf{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ko(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Jl(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Zn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Jl(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Jl(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Ls(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ol(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(ko(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),Hd(p.route)}else{const p=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),v=p?p.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=v,h.outlet&&h.outlet.activateWith(o,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function Hd(n){ko(n.value),n.children.forEach(Hd)}class $d{constructor(e,t){this.routes=e,this.module=t}}function io(n){return"function"==typeof n}function rc(n){return n instanceof ga}const Gd=Symbol("INITIAL_VALUE");function zd(){return Pr(n=>function(...n){let e,t;return(0,rl.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,no.k)(n[0])&&(n=n[0]),(0,la.n)(n,t).lift(new Dd(e))}(n.map(e=>e.pipe(Os(1),yi(Gd)))).pipe(zl((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==Gd?o:(l===Gd&&(r=!0),r||!1!==l&&h!==t.length-1&&!rc(l)?o:l),e)},Gd),Bn(e=>e!==Gd),(0,gt.U)(e=>rc(e)?e:!0===e),Os(1)))}let ii=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[Kd]},encapsulation:2}),n})();function qd(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ey(r,vS(e,r))}}function ey(n,e){n.children&&qd(n.children,e)}function vS(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ty(n){const e=n.children&&n.children.map(ty),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yt&&(t.component=ii),t}function Us(n){return n.outlet||yt}function Ew(n,e){const t=n.filter(r=>Us(r)===e);return t.push(...n.filter(r=>Us(r)!==e)),t}const ny={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ny):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||al)(t,n,e);if(!l)return Object.assign({},ny);const h={};Zn(l.posParams,(v,C)=>{h[C]=v.path});const p=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:p,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function mf(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Wd(n,e,r)&&Us(r)!==yt)}(n,t,r)){const h=new $t(e,function(n,e,t,r){const o={};o[yt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Us(l)!==yt){const h=new $t([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Us(l)]=h}return o}(n,e,r,new $t(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Wd(n,e,r))}(n,t,r)){const h=new $t(n.segments,function(n,e,t,r,o,l){const h={};for(const p of r)if(Wd(n,t,p)&&!o[Us(p)]){const v=new $t([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[Us(p)]=v}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new $t(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Wd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ry(n,e,t,r){return!!(Us(n)===r||r!==yt&&Wd(e,t,n))&&("**"===n.path||fg(e,n,t).matched)}function Cw(n,e,t){return 0===e.length&&!n.children[t]}class pg{constructor(e){this.segmentGroup=e||null}}class iy{constructor(e){this.urlTree=e}}function bu(n){return new St.y(e=>e.error(new pg(n)))}function Tw(n){return new St.y(e=>e.error(new iy(n)))}function CS(n){return new St.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class IS{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=mf(this.urlTree.root,[],[],this.config).segmentGroup,t=new $t(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,yt).pipe((0,gt.U)(l=>this.createUrlTree(sy(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ps(l=>{if(l instanceof iy)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof pg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,yt).pipe((0,gt.U)(o=>this.createUrlTree(sy(o),e.queryParams,e.fragment))).pipe(Ps(o=>{throw o instanceof pg?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new $t([],{[yt]:e}):e;return new ga(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(l=>new $t([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,kn.D)(o).pipe(ql(l=>{const h=r.children[l],p=Ew(t,l);return this.expandSegmentGroup(e,p,h,l).pipe((0,gt.U)(v=>({segment:v,outlet:l})))}),zl((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bn((o,l)=>n(o,l,r)):Fs.y,Wl(1),t?Md(e):sl(()=>new Fi))}())}expandSegment(e,t,r,o,l,h){return(0,kn.D)(r).pipe(ql(p=>this.expandSegmentAgainstRoute(e,t,r,p,o,l,h).pipe(Ps(C=>{if(C instanceof pg)return(0,Ue.of)(null);throw C}))),qn(p=>!!p),Ps((p,v)=>{if(p instanceof Fi||"EmptyError"===p.name){if(Cw(t,o,l))return(0,Ue.of)(new $t([],{}));throw new pg(t)}throw p}))}expandSegmentAgainstRoute(e,t,r,o,l,h,p){return ry(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):bu(t):bu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Tw(l):this.lineralizeSegments(r,l).pipe((0,zn.zg)(h=>{const p=new $t(h,{});return this.expandSegment(e,p,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:p,consumedSegments:v,lastChild:C,positionalParamSegments:S}=fg(t,o,l);if(!p)return bu(t);const x=this.applyRedirectCommands(v,o.redirectTo,S);return o.redirectTo.startsWith("/")?Tw(x):this.lineralizeSegments(o,x).pipe((0,zn.zg)($=>this.expandSegment(e,t,r,$.concat(l.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,gt.U)($=>(r._loadedConfig=$,new $t(o,{})))):(0,Ue.of)(new $t(o,{}));const{matched:h,consumedSegments:p,lastChild:v}=fg(t,r,o);if(!h)return bu(t);const C=o.slice(v);return this.getChildConfig(e,r,o).pipe((0,zn.zg)(x=>{const $=x.module,H=x.routes,{segmentGroup:te,slicedSegments:me}=mf(t,p,C,H),Se=new $t(te.segments,te.children);if(0===me.length&&Se.hasChildren())return this.expandChildren($,H,Se).pipe((0,gt.U)(dt=>new $t(p,dt)));if(0===H.length&&0===me.length)return(0,Ue.of)(new $t(p,{}));const $e=Us(r)===l;return this.expandSegment($,Se,H,me,$e?yt:l,!0).pipe((0,gt.U)(Nt=>new $t(p.concat(Nt.segments),Nt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Ue.of)(new $d(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ue.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,zn.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,gt.U)(l=>(t._loadedConfig=l,l))):(n=t,new St.y(e=>e.error(sf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ue.of)(new $d([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Ue.of)(!0);const l=o.map(h=>{const p=e.get(h);let v;if((n=p)&&io(n.canLoad))v=p.canLoad(t,r);else{if(!io(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}var n;return Nr(v)});return(0,Ue.of)(l).pipe(zd(),(0,Wn.b)(h=>{if(!rc(h))return;const p=sf(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw p.url=h,p}),(0,gt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ue.of)(r);if(o.numberOfChildren>1||!o.children[yt])return CS(e.redirectTo);o=o.children[yt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new ga(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Zn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const p=o.substring(1);r[l]=t[p]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Zn(t.children,(p,v)=>{h[v]=this.createSegmentGroup(e,p,r,o)}),new $t(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function sy(n){const e={};for(const r of Object.keys(n.children)){const l=sy(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[yt]){const e=n.children[yt];return new $t(n.segments.concat(e.segments),e.children)}return n}(new $t(n.segments,e))}class _f{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vi{constructor(e,t){this.component=e,this.route=t}}function Iw(n,e,t){const r=n._root;return mg(r,e?e._root:null,t,[r.value])}function gg(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function mg(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Jl(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const v=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ma(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ma(n.url,e.url)||!Bs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vd(n,e)||!Bs(n.queryParams,e.queryParams);case"paramsChange":default:return!Vd(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new _f(r)):(l.data=h.data,l._resolvedData=h._resolvedData),mg(n,e,l.component?p?p.children:null:t,r,o),v&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new Vi(p.outlet.component,h))}else h&&yf(e,p,o),o.canActivateChecks.push(new _f(r)),mg(n,null,l.component?p?p.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Zn(l,(h,p)=>yf(h,t.getContext(p),o)),o}function yf(n,e,t){const r=Jl(n),o=n.value;Zn(r,(l,h)=>{yf(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Vi(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class oy{}function _g(n){return new St.y(e=>e.error(n))}class xw{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=mf(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,yt);if(null===t)return null;const r=new ec([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ro(r,t),l=new tc(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Bd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],p=Ew(e,l),v=this.processSegmentGroup(p,h,l);if(null===v)return null;r.push(...v)}const o=yg(r);return o.sort((e,t)=>e.value.outlet===yt?-1:t.value.outlet===yt?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return Cw(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!ry(e,t,r,o))return null;let l,h=[],p=[];if("**"===e.path){const H=r.length>0?ll(r).parameters:{};l=new ec(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eu(e),Us(e),e.component,e,ay(t),RS(t)+r.length,vg(e))}else{const H=fg(t,e,r);if(!H.matched)return null;h=H.consumedSegments,p=r.slice(H.lastChild),l=new ec(h,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Eu(e),Us(e),e.component,e,ay(t),RS(t)+h.length,vg(e))}const v=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:S}=mf(t,h,p,v.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===S.length&&C.hasChildren()){const H=this.processChildren(v,C);return null===H?null:[new Ro(l,H)]}if(0===v.length&&0===S.length)return[new Ro(l,[])];const x=Us(e)===o,$=this.processSegment(v,C,S,x?yt:o);return null===$?null:[new Ro(l,$)]}}function kw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yg(n){const e=[],t=new Set;for(const r of n){if(!kw(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=yg(r.children);e.push(new Ro(r.value,o))}return e.filter(r=>!t.has(r))}function ay(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function RS(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Eu(n){return n.data||{}}function vg(n){return n.resolve||{}}function cy(n){return Pr(e=>{const t=n(e);return t?(0,kn.D)(t).pipe((0,gt.U)(()=>e)):(0,Ue.of)(e)})}class LS extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const bg=new u.OlP("ROUTES");class Eg{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,gt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new $d(ig(h.injector.get(bg,void 0,u.XFs.Self|u.XFs.Optional)).map(ty),h)}),Ps(l=>{throw t._loader$=void 0,l}));return t._loader$=new $l.c(o,()=>new Je.xQ).pipe((0,ro.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,kn.D)(this.loader.load(e)):Nr(e()).pipe((0,zn.zg)(t=>t instanceof u.YKP?(0,Ue.of)(t):(0,kn.D)(this.compiler.compileModuleAsync(t))))}}class Nw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ic,this.attachRef=null}}class ic{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Nw,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class VS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Fw(n){throw n}function Lw(n,e,t){return e.parse("/")}function sc(n,e){return(0,Ue.of)(null)}const Bw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ds=(()=>{class n{constructor(t,r,o,l,h,p,v,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Je.xQ,this.errorHandler=Fw,this.malformedUriErrorHandler=Lw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sc,afterPreactivation:sc},this.urlHandlingStrategy=new VS,this.routeReuseStrategy=new LS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const $=h.get(u.R0b);this.isNgZoneEnabled=$ instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new ga(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Eg(p,v,H=>this.triggerEvent(new ni(H)),H=>this.triggerEvent(new ar(H))),this.routerState=lg(this.currentUrlTree,this.rootComponentType),this.transitions=new or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Bn(o=>0!==o.id),(0,gt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pr(o=>{let l=!1,h=!1;return(0,Ue.of)(o).pipe((0,Wn.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pr(p=>{const v=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Cg(p.source)&&(this.browserUrlTree=p.extractedUrl),(0,Ue.of)(p).pipe(Pr(x=>{const $=this.transitions.getValue();return r.next(new V(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),$!==this.transitions.getValue()?Hr.E:Promise.resolve(x)}),function(n,e,t,r){return Pr(o=>function(n,e,t,r,o){return new IS(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,gt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Wn.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,e,t,r,o){return(0,zn.zg)(l=>function(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new xw(n,e,t,r,o,l).recognize();return null===h?_g(new oy):(0,Ue.of)(h)}catch(h){return _g(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,gt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Wn.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const $=new ze(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next($)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:H,source:te,restoredState:me,extras:Se}=p,$e=new V($,this.serializeUrl(H),te,me);r.next($e);const at=lg(H,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},p),{targetSnapshot:at,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),Hr.E}),cy(p=>{const{targetSnapshot:v,id:C,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:$,replaceUrl:H}}=p;return this.hooks.beforePreactivation(v,{navigationId:C,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!$,replaceUrl:!!H})}),(0,Wn.b)(p=>{const v=new We(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,gt.U)(p=>Object.assign(Object.assign({},p),{guards:Iw(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,e){return(0,zn.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,Ue.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,kn.D)(n).pipe((0,zn.zg)(o=>function(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Ue.of)(!0);const h=l.map(p=>{const v=gg(p,e,o);let C;if(function(n){return n&&io(n.canDeactivate)}(v))C=Nr(v.canDeactivate(n,e,t,r));else{if(!io(v))throw new Error("Invalid CanDeactivate guard");C=Nr(v(n,e,t,r))}return C.pipe(qn())});return(0,Ue.of)(h).pipe(zd())}(o.component,o.route,t,e,r)),qn(o=>!0!==o,!0))}(h,r,o,n).pipe((0,zn.zg)(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,e,t,r){return(0,kn.D)(e).pipe(ql(o=>cs(function(n,e){return null!==n&&e&&e(new da(n)),(0,Ue.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new ha(n)),(0,Ue.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>ks(()=>{const p=h.guards.map(v=>{const C=gg(v,h.node,t);let S;if(function(n){return n&&io(n.canActivateChild)}(C))S=Nr(C.canActivateChild(r,n));else{if(!io(C))throw new Error("Invalid CanActivateChild guard");S=Nr(C(r,n))}return S.pipe(qn())});return(0,Ue.of)(p).pipe(zd())}));return(0,Ue.of)(l).pipe(zd())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ue.of)(!0);const o=r.map(l=>ks(()=>{const h=gg(l,e,t);let p;if(function(n){return n&&io(n.canActivate)}(h))p=Nr(h.canActivate(e,n));else{if(!io(h))throw new Error("Invalid CanActivate guard");p=Nr(h(e,n))}return p.pipe(qn())}));return(0,Ue.of)(o).pipe(zd())}(n,o.route,t))),qn(o=>!0!==o,!0))}(r,l,n,e):(0,Ue.of)(p)),(0,gt.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Wn.b)(p=>{if(rc(p.guardsResult)){const C=sf(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw C.url=p.guardsResult,C}const v=new Bt(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),Bn(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),cy(p=>{if(p.guards.canActivateChecks.length)return(0,Ue.of)(p).pipe((0,Wn.b)(v=>{const C=new rn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}),Pr(v=>{let C=!1;return(0,Ue.of)(v).pipe(function(n,e){return(0,zn.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ue.of)(t);let l=0;return(0,kn.D)(o).pipe(ql(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Ue.of)({});const l={};return(0,kn.D)(o).pipe((0,zn.zg)(h=>function(n,e,t,r){const o=gg(n,e,r);return Nr(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Wn.b)(p=>{l[h]=p}))),Wl(1),(0,zn.zg)(()=>Object.keys(l).length===o.length?(0,Ue.of)(l):Hr.E))}(n._resolve,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Bd(n,t).resolve),null)))}(h.route,r,n,e)),(0,Wn.b)(()=>l++),Wl(1),(0,zn.zg)(h=>l===o.length?(0,Ue.of)(t):Hr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Wn.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Wn.b)(v=>{const C=new Jn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}))}),cy(p=>{const{targetSnapshot:v,id:C,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:$,replaceUrl:H}}=p;return this.hooks.afterPreactivation(v,{navigationId:C,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!$,replaceUrl:!!H})}),(0,gt.U)(p=>{const v=function(n,e,t){const r=nc(n,e._root,t?t._root:void 0);return new ff(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,Wn.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new gf(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Wn.b)({next(){l=!0},complete(){l=!0}}),Zl(()=>{var p;if(!l&&!h){const v=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,v)):this.cancelNavigationTransition(o,v)}(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===o.id&&(this.currentNavigation=null)}),Ps(p=>{if(h=!0,function(n){return n&&n[rf]}(p)){const v=rc(p.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const C=new he(o.id,this.serializeUrl(o.extractedUrl),p.message);r.next(C),v?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cg(o.source)};this.scheduleNavigation(S,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new Ae(o.id,this.serializeUrl(o.extractedUrl),p);r.next(v);try{o.resolve(this.errorHandler(p))}catch(C){o.reject(C)}}return Hr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:l,urlTree:h}=r,p={replaceUrl:!0};if(l){const v=Object.assign({},l);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(p.state=v)}this.scheduleNavigation(h,o,l,p)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){qd(t),this.config=t.map(ty),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:p,preserveFragment:v}=r,C=o||this.routerState.root,S=v?this.currentUrlTree.fragment:h;let x=null;switch(p){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,e,t,r,o){if(0===t.length)return _(e.root,e.root,e,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Zn(l.outlets,(v,C)=>{p[C]="string"==typeof v?v.split("/"):v}),[...o,{outlets:p}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&o.push(p))}),o):[...o,l]},[]);return new M(t,e,r)}(t);if(l.toRoot())return _(e.root,new $t([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new J(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new J(l,l===e.root,0)}const r=b(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new J(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),p=h.processChildren?Zt(h.segmentGroup,h.index,l.commands):st(h.segmentGroup,h.index,l.commands);return _(h.segmentGroup,p,e,r,o)}(C,this.currentUrlTree,t,x,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=rc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Bw):!1===r?Object.assign({},Vw):r,rc(t))return fu(this.currentUrlTree,t,o);const l=this.parseUrl(t);return fu(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var p,v;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),S=Cg(r)&&C&&!Cg(C.source),H=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===t.toString();if(S&&H)return Promise.resolve(!0);let te,me,Se;h?(te=h.resolve,me=h.reject,Se=h.promise):Se=new Promise((Nt,dt)=>{te=Nt,me=dt});const $e=++this.navigationId;let at;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),at=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):at=0,this.setTransition({id:$e,targetPageId:at,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:te,reject:me,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new he(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.DyG),u.LFG(Pd),u.LFG(ic),u.LFG(kt),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Cg(n){return"imperative"!==n}let Kd=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=l||yt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new Dg(t,p,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ic),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Dg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Xl?this.route:e===ic?this.childContexts:this.parent.get(e,t)}}class dy{}class fy{preload(e,t){return(0,Ue.of)(null)}}let Sg=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new Eg(r,o,C=>t.triggerEvent(new ni(C)),C=>t.triggerEvent(new ar(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(t=>t instanceof ne),ql(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,kn.D)(o).pipe((0,_i.J)(),(0,gt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Ue.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,zn.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ds),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(dy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Cu=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof V?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ne&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ri&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new ri(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ds),u.LFG(Ga),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const oc=new u.OlP("ROUTER_CONFIGURATION"),jw=new u.OlP("ROUTER_FORROOT_GUARD"),Hw=[kt,{provide:Pd,useClass:cl},{provide:ds,useFactory:function(n,e,t,r,o,l,h,p={},v,C){const S=new ds(null,n,e,t,r,o,l,ig(h));return v&&(S.urlHandlingStrategy=v),C&&(S.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(p,S),p.enableTracing&&S.events.subscribe(x=>{var $,H;null===($=console.group)||void 0===$||$.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(H=console.groupEnd)||void 0===H||H.call(console)}),S},deps:[Pd,ic,kt,u.zs3,u.v3s,u.Sil,bg,oc,[class{},new u.FiY],[class{},new u.FiY]]},ic,{provide:Xl,useFactory:function(n){return n.routerState.root},deps:[ds]},{provide:u.v3s,useClass:u.EAV},Sg,fy,class{preload(e,t){return t().pipe(Ps(()=>(0,Ue.of)(null)))}},{provide:oc,useValue:{enableTracing:!1}}];function py(){return new u.PXZ("Router",ds)}let gy=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Hw,my(t),{provide:jw,useFactory:jS,deps:[[ds,new u.FiY,new u.tp0]]},{provide:oc,useValue:r||{}},{provide:fe,useFactory:$w,deps:[X,[new u.tBr(_e),new u.FiY],oc]},{provide:Cu,useFactory:QP,deps:[ds,Ga,oc]},{provide:dy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:fy},{provide:u.PXZ,multi:!0,useFactory:py},[_y,{provide:u.ip1,multi:!0,useFactory:Gw,deps:[_y]},{provide:zw,useFactory:GS,deps:[_y]},{provide:u.tb,multi:!0,useExisting:zw}]]}}static forChild(t){return{ngModule:n,providers:[my(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jw,8),u.LFG(ds,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function QP(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Cu(n,e,t)}function $w(n,e,t={}){return t.useHash?new Ge(n,e):new Pe(n,e)}function jS(n){return"guarded"}function my(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:bg,multi:!0,useValue:n}]}let _y=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Je.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(p=>r=p),l=this.injector.get(ds),h=this.injector.get(oc);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(oc),o=this.injector.get(Sg),l=this.injector.get(Cu),h=this.injector.get(ds),p=this.injector.get(u.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Gw(n){return n.appInitializer.bind(n)}function GS(n){return n.bootstrapListener.bind(n)}const zw=new u.OlP("Router Initializer"),qw=[];let qS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gy.forRoot(qw)],gy]}),n})();function Vn(n){return null!=n&&"false"!=`${n}`}function Ui(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function yy(n){return Array.isArray(n)?n:[n]}function mr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ba(n){return n instanceof u.SBq?n.nativeElement:n}var Ww=F(9105);function ac(n,e,t,r){return(0,Ww.m)(t)&&(r=t,t=void 0),r?ac(n,e,t).pipe((0,gt.U)(o=>(0,no.k)(o)?r(...o):r(o))):new St.y(o=>{wa(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function wa(n,e,t,r,o){let l;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),l=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),l=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),l=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,p=n.length;h<p;h++)wa(n[h],e,t,r,o)}r.add(l)}var eN=F(6465),tN=F(6102);new class extends tN.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,o=-1,l=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++o<l&&(e=t.shift()));if(this.active=!1,r){for(;++o<l&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends eN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});F(4581);function bf(n,e){return t=>t.lift(new Kw(n,e))}class Kw{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new nN(e,this.compare,this.keySelector))}}class nN extends Qn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var Mg=F(3637);class Qw{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Jw(e,this.durationSelector))}}class Jw extends ti.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:o}=this;t=o(e)}catch(o){return this.destination.error(o)}const r=(0,ti.ft)(t,new ti.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Xw=F(6561);function xg(n=0,e,t){let r=-1;return(0,Xw.k)(e)?r=Number(e)<1?1:Number(e):(0,rl.K)(e)&&(t=e),(0,rl.K)(t)||(t=Mg.P),new St.y(o=>{const l=(0,Xw.k)(n)?n:+n-t.now();return t.schedule(iN,l,{index:0,period:r,subscriber:o})})}function iN(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function e0(n,e=Mg.P){return function(n){return function(t){return t.lift(new Qw(n))}}(()=>xg(n,e))}function ji(n){return e=>e.lift(new sN(n))}class sN{constructor(e){this.notifier=e}call(e,t){const r=new oN(e),o=(0,ti.ft)(this.notifier,new ti.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class oN extends ti.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ty(){return n=>n.lift(new aN)}class aN{call(e,t){return t.subscribe(new lN(e))}}class lN extends Qn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var cN=F(7771),Rg=F(6136),uN=F(8858);class lc extends Je.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Iy(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,l=r.length;let h;if(this.closed)throw new Id.N;if(this.isStopped||this.hasError?h=gr.w.EMPTY:(this.observers.push(e),h=new uN.W(this,e)),o&&e.add(e=new Rg.ht(e,o)),t)for(let p=0;p<l&&!e.closed;p++)e.next(r[p]);else for(let p=0;p<l&&!e.closed;p++)e.next(r[p].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||cN.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,l=o.length;let h=0;for(;h<l&&!(e-o[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&o.splice(0,h),o}}class Iy{constructor(e,t){this.time=e,this.value=t}}function Dy(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,l=0,p=!1,v=!1;return function(S){let x;l++,!o||p?(p=!1,o=new lc(n,e,r),x=o.subscribe(this),h=S.subscribe({next($){o.next($)},error($){p=!0,o.error($)},complete(){v=!0,h=void 0,o.complete()}}),v&&(h=void 0)):x=o.subscribe(this),this.add(()=>{l--,x.unsubscribe(),x=void 0,h&&!v&&t&&0===l&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}let Ef;try{Ef="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ef=!1}let wf,cc,Tu,Mn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ef)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.Lbi))},token:n,providedIn:"root"}),n})(),Qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Xd(n){return function(){if(null==wf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wf=!0}))}finally{wf=wf||!1}return wf}()?n:!!n.capture}function n0(){if(null==cc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cc=!1,cc;if("scrollBehavior"in document.documentElement.style)cc=!0;else{const n=Element.prototype.scrollTo;cc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return cc}function fl(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Po(n){return n.composedPath?n.composedPath()[0]:n.target}function uc(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const r0=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(re)}});let si=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const o=t.documentElement?t.documentElement.dir:null,l=(t.body?t.body.dir:null)||o;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(r0,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(r0,8))},token:n,providedIn:"root"}),n})(),Iu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),If=(()=>{class n{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new Je.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new St.y(r=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(e0(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ue.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Bn(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,t)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=ba(r),l=t.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ac(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Mn),u.LFG(re,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(Mn),u.LFG(re,8))},token:n,providedIn:"root"}),n})(),so=(()=>{class n{constructor(t,r,o){this._platform=t,this._change=new Je.xQ,this._changeListener=l=>{this._change.next(l)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),o=t.documentElement,l=o.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(e0(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mn),u.LFG(u.R0b),u.LFG(re,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Mn),u.LFG(u.R0b),u.LFG(re,8))},token:n,providedIn:"root"}),n})(),d0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),My=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Iu,Qd,d0],Iu,d0]}),n})();class Df{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class xy extends Df{constructor(e,t,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=o}}class th extends Df{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class _N extends Df{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class Sf{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof xy?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof th?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof _N?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class cA extends Sf{constructor(e,t,r,o,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=h=>{const p=h.element,v=this._document.createComment("dom-portal");p.parentNode.insertBefore(v,p),this.outletElement.appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(p,v)})},this._document=l}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=r.create(e.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(r);-1!==o&&t.remove(o)}),this._attachedPortal=e,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Af=(()=>{class n extends th{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[u.qOj]}),n})(),Ca=(()=>{class n extends Sf{constructor(t,r,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(p,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(l,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(re))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),Du=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var dc=F(6682);function Fo(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const By=n0();class S0{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=mr(-this._previousScrollPosition.left),e.style.top=mr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,o=this._document.body.style,l=r.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),By&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),By&&(r.scrollBehavior=l,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class A0{constructor(e,t,r,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Vy{enable(){}disable(){}attach(){}}function Lg(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Uy(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class M0{constructor(e,t,r,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();Lg(t,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x0=(()=>{class n{constructor(t,r,o,l){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Vy,this.close=h=>new A0(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new S0(this._viewportRuler,this._document),this.reposition=h=>new M0(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(If),u.LFG(so),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(If),u.LFG(so),u.LFG(u.R0b),u.LFG(re))},token:n,providedIn:"root"}),n})();class jy{constructor(e){if(this.scrollStrategy=new Vy,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class R0{constructor(e,t,r,o,l){this.offsetX=r,this.offsetY=o,this.panelClass=l,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class k0{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let jA=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re))},token:n,providedIn:"root"}),n})(),HA=(()=>{class n extends jA{constructor(t){super(t),this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){o[l]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re))},token:n,providedIn:"root"}),n})(),O0=(()=>{class n extends jA{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Po(o)},this._clickListener=o=>{const l=Po(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const C=p[v];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(l)||C.overlayElement.contains(h))break;C._outsidePointerEvents.next(o)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(Mn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re),u.LFG(Mn))},token:n,providedIn:"root"}),n})(),Hf=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||uc()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].parentNode.removeChild(o[l])}const r=this._document.createElement("div");r.classList.add(t),uc()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(Mn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(re),u.LFG(Mn))},token:n,providedIn:"root"}),n})();class P0{constructor(e,t,r,o,l,h,p,v,C){this._portalOutlet=e,this._host=t,this._pane=r,this._config=o,this._ngZone=l,this._keyboardDispatcher=h,this._document=p,this._location=v,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new Je.xQ,this._attachments=new Je.xQ,this._detachments=new Je.xQ,this._locationChanges=gr.w.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._keydownEvents=new Je.xQ,this._outsidePointerEvents=new Je.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Os(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=mr(this._config.width),e.height=mr(this._config.height),e.minWidth=mr(this._config.minWidth),e.minHeight=mr(this._config.minHeight),e.maxWidth=mr(this._config.maxWidth),e.maxHeight=mr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const o=e.classList;yy(t).forEach(l=>{l&&(r?o.add(l):o.remove(l))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ji((0,dc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const N0="cdk-overlay-connected-position-bounding-box",$A=/([A-Za-z%]+)$/;class GA{constructor(e,t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Je.xQ,this._resizeSubscription=gr.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(N0),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,o=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,h),v=this._getOverlayPoint(p,t,h),C=this._getOverlayFit(v,t,r,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(C,v,r)?o.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<C.visibleArea)&&(l={overlayFit:C,overlayPoint:v,originPoint:p,position:h,overlayRect:t})}if(o.length){let h=null,p=-1;for(const v of o){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>p&&(p=C,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Su(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(N0),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,o;if("center"==t.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==t.originX?l:h}return o="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:o}}_getOverlayPoint(e,t,r){let o,l;return o="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+o,y:e.y+l}}_getOverlayFit(e,t,r,o){const l=zA(t);let{x:h,y:p}=e,v=this._getOffset(o,"x"),C=this._getOffset(o,"y");v&&(h+=v),C&&(p+=C);let $=0-p,H=p+l.height-r.height,te=this._subtractOverflows(l.width,0-h,h+l.width-r.width),me=this._subtractOverflows(l.height,$,H),Se=te*me;return{visibleArea:Se,isCompletelyWithinViewport:l.width*l.height===Se,fitsInViewportVertically:me===l.height,fitsInViewportHorizontally:te==l.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const o=r.bottom-t.y,l=r.right-t.x,h=Hy(this._overlayRef.getConfig().minHeight),p=Hy(this._overlayRef.getConfig().minWidth),C=e.fitsInViewportHorizontally||null!=p&&p<=l;return(e.fitsInViewportVertically||null!=h&&h<=o)&&C}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=zA(t),l=this._viewportRect,h=Math.max(e.x+o.width-l.width,0),p=Math.max(e.y+o.height-l.height,0),v=Math.max(l.top-r.top-e.y,0),C=Math.max(l.left-r.left-e.x,0);let S=0,x=0;return S=o.width<=l.width?C||-h:e.x<this._viewportMargin?l.left-r.left-e.x:0,x=o.height<=l.height?v||-p:e.y<this._viewportMargin?l.top-r.top-e.y:0,this._previousPushAmount={x:S,y:x},{x:e.x+S,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new k0(e,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,o=this._isRtl();let l,h,p,S,x,$;if("top"===t.overlayY)h=e.y,l=r.height-h+this._viewportMargin;else if("bottom"===t.overlayY)p=r.height-e.y+2*this._viewportMargin,l=r.height-p+this._viewportMargin;else{const H=Math.min(r.bottom-e.y+r.top,e.y),te=this._lastBoundingBoxSize.height;l=2*H,h=e.y-H,l>te&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-te/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)$=r.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)x=e.x,S=r.right-e.x;else{const H=Math.min(r.right-e.x+r.left,e.x),te=this._lastBoundingBoxSize.width;S=2*H,x=e.x-H,S>te&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-te/2)}return{top:h,left:x,bottom:p,right:$,width:S,height:l}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=mr(r.height),o.top=mr(r.top),o.bottom=mr(r.bottom),o.width=mr(r.width),o.left=mr(r.left),o.right=mr(r.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=mr(l)),h&&(o.maxWidth=mr(h))}this._lastBoundingBoxSize=r,Su(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Su(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Su(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const S=this._viewportRuler.getViewportScrollPosition();Su(r,this._getExactOverlayY(t,e,S)),Su(r,this._getExactOverlayX(t,e,S))}else r.position="static";let p="",v=this._getOffset(t,"x"),C=this._getOffset(t,"y");v&&(p+=`translateX(${v}px) `),C&&(p+=`translateY(${C}px)`),r.transform=p.trim(),h.maxHeight&&(o?r.maxHeight=mr(h.maxHeight):l&&(r.maxHeight="")),h.maxWidth&&(o?r.maxWidth=mr(h.maxWidth):l&&(r.maxWidth="")),Su(this._pane.style,r)}_getExactOverlayY(e,t,r){let o={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=mr(l.y),o}_getExactOverlayX(e,t,r){let h,o={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=mr(l.x),o}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Uy(e,r),isOriginOutsideView:Lg(e,r),isOverlayClipped:Uy(t,r),isOverlayOutsideView:Lg(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&yy(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Su(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Hy(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split($A);return t&&"px"!==t?null:parseFloat(e)}return n||null}function zA(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class n1{constructor(e,t,r,o,l,h,p){this._preferredPositions=[],this._positionStrategy=new GA(r,o,l,h,p).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,r,o){const l=new R0(e,t,r,o);return this._preferredPositions.push(l),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const qA="cdk-global-overlay-wrapper";class WA{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(qA),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:h,maxHeight:p}=r,v=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),C=!("100%"!==l&&"100vh"!==l||p&&"100%"!==p&&"100vh"!==p);e.position=this._cssPosition,e.marginLeft=v?"0":this._leftOffset,e.marginTop=C?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,v?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(qA),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let r1=(()=>{class n{constructor(t,r,o,l){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=l}global(){return new WA}connectedTo(t,r,o){return new n1(r,o,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new GA(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(so),u.LFG(re),u.LFG(Mn),u.LFG(Hf))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(so),u.LFG(re),u.LFG(Mn),u.LFG(Hf))},token:n,providedIn:"root"}),n})(),ZA=0,sh=(()=>{class n{constructor(t,r,o,l,h,p,v,C,S,x,$){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=p,this._ngZone=v,this._document=C,this._directionality=S,this._location=x,this._outsideClickDispatcher=$}create(t){const r=this._createHostElement(),o=this._createPaneElement(r),l=this._createPortalOutlet(o),h=new jy(t);return h.direction=h.direction||this._directionality.value,new P0(l,r,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ZA++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new cA(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(x0),u.LFG(Hf),u.LFG(u._Vd),u.LFG(r1),u.LFG(HA),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(re),u.LFG(si),u.LFG(kt),u.LFG(O0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const a1={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[sh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let F0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[sh,a1],imports:[[Iu,Du,My],My]}),n})();function KA(n,e=Mg.P){return t=>t.lift(new QA(n,e))}class QA{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new oh(e,this.dueTime,this.scheduler))}}class oh extends Qn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(JA,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function JA(n){n.debouncedNext()}class XA{constructor(e){this.total=e}call(e,t){return t.subscribe(new B0(e,this.total))}}class B0 extends Qn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let ah=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),V0=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ba(t);return new St.y(o=>{const h=this._observeElement(r).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Je.xQ,o=this._mutationObserverFactory.create(l=>r.next(l));o&&o.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:o,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:o}=this._observedElements.get(t);r&&r.disconnect(),o.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ah))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(ah))},token:n,providedIn:"root"}),n})(),Gy=(()=>{class n{constructor(t,r,o){this._contentObserver=t,this._elementRef=r,this._ngZone=o,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Vn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ui(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(KA(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(V0),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ah]}),n})();class Vg extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Je.xQ,this._typeaheadSubscription=gr.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Je.xQ,this.change=new Je.xQ,e instanceof u.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const o=t.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Wn.b)(t=>this._pressedLetters.push(t)),KA(e),Bn(()=>this._pressedLetters.length>0),(0,gt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let o=1;o<r.length+1;o++){const l=(this._activeItemIndex+o)%r.length,h=r[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!e[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||Fo(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),o=t[r];this._activeItem=null==o?null:o,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const o=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof u.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let W0=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Zy(r)||!this.isVisible(r)))return!1;let o=t.nodeName.toLowerCase(),l=Zy(t);return t.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Wy(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Mn))},token:n,providedIn:"root"}),n})();function Wy(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Zy(n){if(!Wy(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Qy{constructor(e,t,r,o,l=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let o=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(o)return o}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Os(1)).subscribe(e)}}let Ug=(()=>{class n{constructor(t,r,o){this._checker=t,this._ngZone=r,this._document=o}create(t,r=!1){return new Qy(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W0),u.LFG(u.R0b),u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(W0),u.LFG(u.R0b),u.LFG(re))},token:n,providedIn:"root"}),n})();function Xy(n){return 0===n.offsetX&&0===n.offsetY}function ev(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const tv=new u.OlP("cdk-input-modality-detector-options"),nC={ignoreKeys:[18,17,224,91,16]},Au=Xd({passive:!0,capture:!0});let rv=(()=>{class n{constructor(t,r,o,l){this._platform=t,this._mostRecentTarget=null,this._modality=new or(null),this._lastTouchMs=0,this._onKeydown=h=>{var p,v;(null===(v=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===v?void 0:v.some(C=>C===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Po(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xy(h)?"keyboard":"mouse"),this._mostRecentTarget=Po(h))},this._onTouchstart=h=>{ev(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Po(h))},this._options=Object.assign(Object.assign({},nC),l),this.modalityDetected=this._modality.pipe(e=>e.lift(new XA(1))),this.modalityChanged=this.modalityDetected.pipe(bf()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Au),o.addEventListener("mousedown",this._onMousedown,Au),o.addEventListener("touchstart",this._onTouchstart,Au)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Au),document.removeEventListener("mousedown",this._onMousedown,Au),document.removeEventListener("touchstart",this._onTouchstart,Au))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mn),u.LFG(u.R0b),u.LFG(re),u.LFG(tv,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Mn),u.LFG(u.R0b),u.LFG(re),u.LFG(tv,8))},token:n,providedIn:"root"}),n})();const iC=new u.OlP("cdk-focus-monitor-default-options"),lr=Xd({passive:!0,capture:!0});let pc=(()=>{class n{constructor(t,r,o,l,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Je.xQ,this._rootNodeFocusAndBlurListener=p=>{const v=Po(p),C="focus"===p.type?this._onFocus:this._onBlur;for(let S=v;S;S=S.parentElement)C.call(this,p,S)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(t,r=!1){const o=ba(t);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Ue.of)(null);const l=function(n){if(function(){if(null==Tu){const n="undefined"!=typeof document?document.head:null;Tu=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Tu}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const p={checkChildren:r,subject:new Je.xQ,rootNode:l};return this._elementInfo.set(o,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=ba(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){const l=ba(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,v])=>this._originChanged(p,r,v)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,r,o){o?t.classList.add(r):t.classList.remove(r)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){this._toggleClass(t,"cdk-focused",!!r),this._toggleClass(t,"cdk-touch-focused","touch"===r),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(t,"cdk-mouse-focused","mouse"===r),this._toggleClass(t,"cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const o=this._elementInfo.get(r),l=Po(t);!o||!o.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),o)}_onBlur(t,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,lr),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,lr)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ji(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lr),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lr),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((o,l)=>{(l===t||o.checkChildren&&l.contains(t))&&r.push([l,o])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Mn),u.LFG(rv),u.LFG(re,8),u.LFG(iC,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.R0b),u.LFG(Mn),u.LFG(rv),u.LFG(re,8),u.LFG(iC,8))},token:n,providedIn:"root"}),n})(),uM=(()=>{class n{constructor(t,r){this._elementRef=t,this._focusMonitor=r,this.cdkFocusChange=new u.vpe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>this.cdkFocusChange.emit(r))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(pc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const sC="cdk-high-contrast-black-on-white",sv="cdk-high-contrast-white-on-black",ov="cdk-high-contrast-active";let av=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ov),t.remove(sC),t.remove(sv),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(ov),t.add(sC)):2===r&&(t.add(ov),t.add(sv))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Mn),u.LFG(re))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Mn),u.LFG(re))},token:n,providedIn:"root"}),n})(),oC=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(av))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Qd,U0]]}),n})();const Mu=new u.GfV("12.2.13");class aC{}const Da="*";function Gf(n,e){return{type:7,name:n,definitions:e,options:{}}}function Sa(n,e=null){return{type:4,styles:e,timings:n}}function jg(n,e=null){return{type:2,steps:n,options:e}}function Ir(n){return{type:6,styles:n,offset:null}}function Dr(n,e,t){return{type:0,name:n,styles:e,options:t}}function Aa(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function lC(n){Promise.resolve(null).then(n)}class lh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cC{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const l=this.players.length;0==l?lC(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,p)=>Math.max(h,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Hg(){return"undefined"!=typeof window&&void 0!==window.document}function xu(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function gc(n){switch(n.length){case 0:return new lh;case 1:return n[0];default:return new cC(n)}}function cv(n,e,t,r,o={},l={}){const h=[],p=[];let v=-1,C=null;if(r.forEach(S=>{const x=S.offset,$=x==v,H=$&&C||{};Object.keys(S).forEach(te=>{let me=te,Se=S[te];if("offset"!==te)switch(me=e.normalizePropertyName(me,h),Se){case"!":Se=o[te];break;case Da:Se=l[te];break;default:Se=e.normalizeStyleValue(te,me,Se,h)}H[me]=Se}),$||p.push(H),C=H,v=x}),h.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${h.join(S)}`)}return p}function uv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&$g(t,"start",n)));break;case"done":n.onDone(()=>r(t&&$g(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&$g(t,"destroy",n)))}}function $g(n,e,t){const r=t.totalTime,l=Gg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function Gg(n,e,t,r,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function bi(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function uC(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let zg=(n,e)=>!1,zf=(n,e)=>!1,hv=(n,e,t)=>[];const fv=xu();(fv||"undefined"!=typeof Element)&&(zg=Hg()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),zf=(()=>{if(fv||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):zf}})(),hv=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let l=0;l<o.length;l++)r.push(o[l])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let mc=null,pv=!1;function qg(n){mc||(mc=("undefined"!=typeof document?document.body:null)||{},pv=!!mc.style&&"WebkitAppearance"in mc.style);let e=!0;return mc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in mc.style,!e&&pv&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in mc.style)),e}const gv=zf,mv=zg,_v=hv;function fC(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let pC=(()=>{class n{validateStyleProperty(t){return qg(t)}matchesElement(t,r){return gv(t,r)}containsElement(t,r){return mv(t,r)}query(t,r,o){return _v(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,l,h,p=[],v){return new lh(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yv=(()=>{class n{}return n.NOOP=new pC,n})();const vv="ng-enter",Wg="ng-leave",Zg="ng-trigger",Yg=".ng-trigger",mC="ng-animating",bv=".ng-animating";function Ru(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Kg(parseFloat(e[1]),e[2])}function Kg(n,e){switch(e){case"s":return 1e3*n;default:return n}}function qf(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,l=0,h="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=Kg(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(l=Kg(parseFloat(v),p[4]));const C=p[5];C&&(h=C)}else o=n;if(!t){let p=!1,v=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),p=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&e.splice(v,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:h}}(n,e,t)}function ku(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _l(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else ku(n,t);return t}function wv(n,e,t){return t?e+":"+t+";":""}function Cv(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=wv(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=wv(0,bC(t),n.style[t]));n.setAttribute("style",e)}function Lo(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=vC(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),xu()&&Cv(n))}function yl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=vC(t);n.style[r]=""}),xu()&&Cv(n))}function Ou(n){return Array.isArray(n)?1==n.length?n[0]:jg(n):n}const Tv=new RegExp("{{\\s*(.+?)\\s*}}","g");function yC(n){let e=[];if("string"==typeof n){let t;for(;t=Tv.exec(n);)e.push(t[1]);Tv.lastIndex=0}return e}function vl(n,e,t){const r=n.toString(),o=r.replace(Tv,(l,h)=>{let p=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),p=""),p.toString()});return o==r?n:o}function Iv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Dv=/-+([a-z0-9])/g;function vC(n){return n.replace(Dv,(...e)=>e[1].toUpperCase())}function bC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Sv(n,e){return 0===n||0===e}function yM(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(p=>{l.hasOwnProperty(p)||h.push(p),l[p]=t[p]}),h.length)for(var o=1;o<e.length;o++){let p=e[o];h.forEach(function(v){p[v]=Av(n,v)})}}return e}function Ke(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Av(n,e){return window.getComputedStyle(n)[e]}function vM(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const v=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],l=r[2],h=r[3];e.push(er(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&e.push(er(h,o))}(r,t,e)):t.push(n),t}const Nu=new Set(["true","1"]),Fu=new Set(["false","0"]);function er(n,e){const t=Nu.has(n)||Fu.has(n),r=Nu.has(e)||Fu.has(e);return(o,l)=>{let h="*"==n||n==o,p="*"==e||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?Nu.has(n):Fu.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?Nu.has(e):Fu.has(e)),h&&p}}const EC=new RegExp("s*:selfs*,?","g");function Wf(n,e,t){return new CC(n).build(e,t)}class CC{constructor(e){this._driver=e}build(e,t){const r=new DC(t);return this._resetContextStyleTimingState(r),Ke(this,Ou(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const v=p,C=v.name;C.toString().split(/\s*,\s*/).forEach(S=>{v.name=S,l.push(this.visitState(v,t))}),v.name=C}else if(1==p.type){const v=this.visitTransition(p,t);r+=v.queryCount,o+=v.depCount,h.push(v)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};if(r.styles.forEach(p=>{if(Xg(p)){const v=p;Object.keys(v).forEach(C=>{yC(v[C]).forEach(S=>{h.hasOwnProperty(S)||l.add(S)})})}}),l.size){const p=Iv(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ke(this,Ou(e.animation),t);return{type:1,matchers:vM(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Bo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ke(this,r,t)),options:Bo(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=r;const p=Ke(this,h,t);return o=Math.max(o,t.currentTime),p});return t.currentTime=o,{type:3,steps:l,options:Bo(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Mv(qf(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Mv(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||qf(r,e),Mv(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,l=e.styles?e.styles:Ir({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,p=!1;if(!h){p=!0;const C={};r.easing&&(C.easing=r.easing),h=Ir(C)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(h,t);v.isEmptyStep=p,o=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Da?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,l=null;return r.forEach(h=>{if(Xg(h)){const p=h,v=p.easing;if(v&&(l=v,delete p.easing),!o)for(let C in p)if(p[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void t.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const v=t.collectedStyles[t.currentQuerySelector],C=v[p];let S=!0;C&&(l!=o&&l>=C.startTime&&o<=C.endTime&&(t.errors.push(`The CSS property "${p}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),S=!1),l=C.startTime),S&&(v[p]={startTime:l,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=yC(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let p=!1,v=!1,C=0;const S=e.steps.map($e=>{const at=this._makeStyleAst($e,t);let Nt=null!=at.offset?at.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Xg(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Xg(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(at.styles),dt=0;return null!=Nt&&(l++,dt=at.offset=Nt),v=v||dt<0||dt>1,p=p||dt<C,C=dt,h.push(dt),at});v&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&t.errors.push("Please ensure that all keyframe offsets are in order");const x=e.steps.length;let $=0;l>0&&l<x?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&($=1/(x-1));const H=x-1,te=t.currentTime,me=t.currentAnimateTimings,Se=me.duration;return S.forEach(($e,at)=>{const Nt=$>0?at==H?1:$*at:h[at],dt=Nt*Se;t.currentTime=te+me.delay+dt,me.duration=dt,this._validateStyleAst($e,t),$e.offset=Nt,r.styles.push($e)}),r}visitReference(e,t){return{type:8,animation:Ke(this,Ou(e.animation),t),options:Bo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Bo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Bo(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(EC,"")),[n=n.replace(/@\*/g,Yg).replace(/@\w+/g,t=>Yg+"-"+t.substr(1)).replace(/:animating/g,bv),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,bi(t.collectedStyles,t.currentQuerySelector,{});const p=Ke(this,Ou(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:p,originalSelector:e.selector,options:Bo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:qf(e.timings,t.errors,!0);return{type:12,animation:Ke(this,Ou(e.animation),t),timings:r,options:null}}}class DC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xg(n){return!Array.isArray(n)&&"object"==typeof n}function Bo(n){return n?(n=ku(n)).params&&(n.params=function(n){return n?ku(n):null}(n.params)):n={},n}function Mv(n,e,t){return{duration:n,delay:e,easing:t}}function xv(n,e,t,r,o,l,h=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:p}}class em{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const AC=new RegExp(":enter","g"),TM=new RegExp(":leave","g");function Lu(n,e,t,r,o,l={},h={},p,v,C=[]){return(new Zf).buildKeyframes(n,e,t,r,o,l,h,p,v,C)}class Zf{buildKeyframes(e,t,r,o,l,h,p,v,C,S=[]){C=C||new em;const x=new Rv(e,t,C,o,l,S,[]);x.options=v,x.currentTimeline.setStyles([h],null,x.errors,v),Ke(this,r,x);const $=x.timelines.filter(H=>H.containsAnimation());if($.length&&Object.keys(p).length){const H=$[$.length-1];H.allowOnlyTimelineStyles()||H.setStyles([p],null,x.errors,v)}return $.length?$.map(H=>H.buildKeyframes()):[xv(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?Ru(r.duration):null,p=null!=r.delay?Ru(r.delay):null;return 0!==h&&e.forEach(v=>{const C=t.appendInstructionToTimeline(v,h,p);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Ke(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=nm);const h=Ru(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Ke(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Ru(e.options.delay):0;e.steps.forEach(h=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),Ke(this,h,p),o=Math.max(o,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return qf(t.params?vl(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(v=>{p.forwardTime((v.offset||0)*l),p.setStyles(v.styles,v.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?Ru(o.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nm);let h=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=p.length;let v=null;p.forEach((C,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,C);l&&x.delayNextStep(l),C===t.element&&(v=x.currentTimeline),Ke(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),p=h*(t.currentQueryTotal-1);let v=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const S=t.currentTimeline;v&&S.delayNextStep(v);const x=S.currentTime;Ke(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-x+(o.startTime-r.currentTimeline.startTime)}}const nm={};class Rv{constructor(e,t,r,o,l,h,p,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new rm(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Ru(r.duration)),null!=r.delay&&(o.delay=Ru(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!h.hasOwnProperty(p))&&(h[p]=vl(l[p],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,l=new Rv(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=nm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new xC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,l,h){let p=[];if(o&&p.push(this.element),e.length>0){e=(e=e.replace(AC,"."+this._enterClassName)).replace(TM,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),p.push(...C)}return!l&&0==p.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),p}}class rm{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Da,this._currentKeyframe[t]=Da}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Da})):_l(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(p=>{const v=vl(h[p],l,r);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Da),this._updateStyle(p,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((p,v)=>{const C=_l(p,!0);Object.keys(C).forEach(S=>{const x=C[S];"!"==x?e.add(S):x==Da&&t.add(S)}),r||(C.offset=v/this.duration),o.push(C)});const l=e.size?Iv(e.values()):[],h=t.size?Iv(t.values()):[];if(r){const p=o[0],v=ku(p);p.offset=0,v.offset=1,o=[p,v]}return xv(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class xC extends rm{constructor(e,t,r,o,l,h,p=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,p=t/h,v=_l(e[0],!1);v.offset=0,l.push(v);const C=_l(e[0],!1);C.offset=kv(p),l.push(C);const S=e.length-1;for(let x=1;x<=S;x++){let $=_l(e[x],!1);$.offset=kv((t+$.offset*r)/h),l.push($)}r=h,t=0,o="",e=l}return xv(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function kv(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class im{}class IM extends im{normalizePropertyName(e,t){return vC(e)}normalizeStyleValue(e,t,r,o){let l="";const h=r.toString().trim();if(b1[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const b1=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function DM(n,e,t,r,o,l,h,p,v,C,S,x,$){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:p,queriedElements:v,preStyleProps:C,postStyleProps:S,totalTime:x,errors:$}}const sm={};class Yf{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(l=>l(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],l=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,o,l,h,p,v,C,S){const x=[],$=this.ast.options&&this.ast.options.params||sm,te=this.buildStyles(r,p&&p.params||sm,x),me=v&&v.params||sm,Se=this.buildStyles(o,me,x),$e=new Set,at=new Map,Nt=new Map,dt="void"===o,Fn={params:Object.assign(Object.assign({},$),me)},yr=S?[]:Lu(e,t,this.ast.animation,l,h,te,Se,Fn,C,x);let Qi=0;if(yr.forEach(sd=>{Qi=Math.max(sd.duration+sd.delay,Qi)}),x.length)return DM(t,this._triggerName,r,o,dt,te,Se,[],[],at,Nt,Qi,x);yr.forEach(sd=>{const od=sd.element,rU=bi(at,od,{});sd.preStyleProps.forEach(Wp=>rU[Wp]=!0);const mw=bi(Nt,od,{});sd.postStyleProps.forEach(Wp=>mw[Wp]=!0),od!==t&&$e.add(od)});const id=Iv($e.values());return DM(t,this._triggerName,r,o,dt,te,Se,yr,id,at,Nt,Qi)}}class AM{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=ku(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(p=>{let v=h[p];v.length>1&&(v=vl(v,o,t));const C=this.normalizer.normalizePropertyName(p,t);v=this.normalizer.normalizeStyleValue(p,C,v,t),r[C]=v})}}),r}}class Kf{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new AM(o.style,o.options&&o.options.params||{},r)}),OC(this.states,"true","1"),OC(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Yf(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new Yf(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function OC(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const xM=new em;class RM{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=Wf(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,l=cv(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],l=this._animations[e];let h;const p=new Map;if(l?(h=Lu(this._driver,t,l,vv,Wg,{},{},r,xM,o),h.forEach(S=>{const x=bi(p,S.element,{});S.postStyleProps.forEach($=>x[$]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);p.forEach((S,x)=>{Object.keys(S).forEach($=>{S[$]=this._driver.computeStyle(x,$,Da)})});const C=gc(h.map(S=>{const x=p.get(S.element);return this._buildPlayer(S,{},x)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const l=Gg(t,"","","");return uv(this._getPlayer(e),r,l,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const PC="ng-animate-queued",FC="ng-animate-disabled",LC=".ng-animate-disabled",BC=[],VC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},UC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oo="__ng_removed";class om{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const l=ku(e);delete l.value,this.options=l}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const Qf="void",Jf=new om(Qf);class OM{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ao(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const l=bi(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};l.push(h);const p=bi(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(ao(e,Zg),ao(e,Zg+"-"+t),p[t]=Jf),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(h);v>=0&&l.splice(v,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const l=this._getTrigger(t),h=new am(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(ao(e,Zg),ao(e,Zg+"-"+t),this._engine.statesByElement.set(e,p={}));let v=p[t];const C=new om(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&C.absorbOptions(v.options),p[t]=C,v||(v=Jf),C.value!==Qf&&v.value===C.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(v.params,C.params)){const me=[],Se=l.matchStyles(v.value,v.params,me),$e=l.matchStyles(C.value,C.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{yl(e,Se),Lo(e,$e)})}return}const $=bi(this._engine.playersByElement,e,[]);$.forEach(me=>{me.namespaceId==this.id&&me.triggerName==t&&me.queued&&me.destroy()});let H=l.matchTransition(v.value,C.value,e,C.params),te=!1;if(!H){if(!o)return;H=l.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:v,toState:C,player:h,isFallbackTransition:te}),te||(ao(e,PC),h.onStart(()=>{uh(e,PC)})),h.onDone(()=>{let me=this.players.indexOf(h);me>=0&&this.players.splice(me,1);const Se=this._engine.playersByElement.get(e);if(Se){let $e=Se.indexOf(h);$e>=0&&Se.splice($e,1)}}),this.players.push(h),$.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Yg,!0);r.forEach(o=>{if(o[oo])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(p=>{if(this._triggers[p]){const v=this.trigger(e,p,Qf,o);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&gc(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const v=this._triggers[h].fallbackTransition,C=r[h]||Jf,S=new om(Qf),x=new am(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:v,fromState:C,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[oo];(!l||l===VC)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ao(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(p=>{if(p.name==r.triggerName){const v=Gg(l,r.triggerName,r.fromState.value,r.toState.value);v._data=e,uv(r.player,p.phase,v,p.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class jC{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new OM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const p=this._fetchNamespace(h);p&&t.add(p)}}}return t}trigger(e,t,r,o){if(lm(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!lm(t))return;const l=t[oo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ao(e,FC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uh(e,FC))}removeNode(e,t,r,o){if(lm(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[oo]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,l){return lm(t)?this._fetchNamespace(e).listen(t,r,o,l):()=>{}}_buildInstruction(e,t,r,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,Yg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,bv,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return gc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[oo];if(t&&t.setForRemoval){if(e[oo]=VC,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,LC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,LC,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ao(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?gc(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new em,o=[],l=new Map,h=[],p=new Map,v=new Map,C=new Map,S=new Set;this.disabledNodes.forEach(Xe=>{S.add(Xe);const mt=this.driver.query(Xe,".ng-animate-queued",!0);for(let Rt=0;Rt<mt.length;Rt++)S.add(mt[Rt])});const x=this.bodyNode,$=Array.from(this.statesByElement.keys()),H=$C($,this.collectedEnterElements),te=new Map;let me=0;H.forEach((Xe,mt)=>{const Rt=vv+me++;te.set(mt,Rt),Xe.forEach(bn=>ao(bn,Rt))});const Se=[],$e=new Set,at=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const mt=this.collectedLeaveElements[Xe],Rt=mt[oo];Rt&&Rt.setForRemoval&&(Se.push(mt),$e.add(mt),Rt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(bn=>$e.add(bn)):at.add(mt))}const Nt=new Map,dt=$C($,Array.from($e));dt.forEach((Xe,mt)=>{const Rt=Wg+me++;Nt.set(mt,Rt),Xe.forEach(bn=>ao(bn,Rt))}),e.push(()=>{H.forEach((Xe,mt)=>{const Rt=te.get(mt);Xe.forEach(bn=>uh(bn,Rt))}),dt.forEach((Xe,mt)=>{const Rt=Nt.get(mt);Xe.forEach(bn=>uh(bn,Rt))}),Se.forEach(Xe=>{this.processLeaveNode(Xe)})});const Fn=[],yr=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(t).forEach(Rt=>{const bn=Rt.player,Ai=Rt.element;if(Fn.push(bn),this.collectedEnterElements.length){const Lc=Ai[oo];if(Lc&&Lc.setForMove)return void bn.destroy()}const Fc=!x||!this.driver.containsElement(x,Ai),Zo=Nt.get(Ai),Hh=te.get(Ai),xr=this._buildInstruction(Rt,r,Hh,Zo,Fc);if(xr.errors&&xr.errors.length)yr.push(xr);else{if(Fc)return bn.onStart(()=>yl(Ai,xr.fromStyles)),bn.onDestroy(()=>Lo(Ai,xr.toStyles)),void o.push(bn);if(Rt.isFallbackTransition)return bn.onStart(()=>yl(Ai,xr.fromStyles)),bn.onDestroy(()=>Lo(Ai,xr.toStyles)),void o.push(bn);xr.timelines.forEach(Lc=>Lc.stretchStartingKeyframe=!0),r.append(Ai,xr.timelines),h.push({instruction:xr,player:bn,element:Ai}),xr.queriedElements.forEach(Lc=>bi(p,Lc,[]).push(bn)),xr.preStyleProps.forEach((Lc,_w)=>{const yS=Object.keys(Lc);if(yS.length){let Zp=v.get(_w);Zp||v.set(_w,Zp=new Set),yS.forEach(qP=>Zp.add(qP))}}),xr.postStyleProps.forEach((Lc,_w)=>{const yS=Object.keys(Lc);let Zp=C.get(_w);Zp||C.set(_w,Zp=new Set),yS.forEach(qP=>Zp.add(qP))})}});if(yr.length){const Xe=[];yr.forEach(mt=>{Xe.push(`@${mt.triggerName} has failed due to:\n`),mt.errors.forEach(Rt=>Xe.push(`- ${Rt}\n`))}),Fn.forEach(mt=>mt.destroy()),this.reportError(Xe)}const Qi=new Map,id=new Map;h.forEach(Xe=>{const mt=Xe.element;r.has(mt)&&(id.set(mt,mt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,Qi))}),o.forEach(Xe=>{const mt=Xe.element;this._getPreviousPlayers(mt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(bn=>{bi(Qi,mt,[]).push(bn),bn.destroy()})});const sd=Se.filter(Xe=>Nv(Xe,v,C)),od=new Map;Pv(od,this.driver,at,C,Da).forEach(Xe=>{Nv(Xe,v,C)&&sd.push(Xe)});const mw=new Map;H.forEach((Xe,mt)=>{Pv(mw,this.driver,new Set(Xe),v,"!")}),sd.forEach(Xe=>{const mt=od.get(Xe),Rt=mw.get(Xe);od.set(Xe,Object.assign(Object.assign({},mt),Rt))});const Wp=[],iU=[],sU={};h.forEach(Xe=>{const{element:mt,player:Rt,instruction:bn}=Xe;if(r.has(mt)){if(S.has(mt))return Rt.onDestroy(()=>Lo(mt,bn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(bn.totalTime),void o.push(Rt);let Ai=sU;if(id.size>1){let Zo=mt;const Hh=[];for(;Zo=Zo.parentNode;){const xr=id.get(Zo);if(xr){Ai=xr;break}Hh.push(Zo)}Hh.forEach(xr=>id.set(xr,Ai))}const Fc=this._buildAnimation(Rt.namespaceId,bn,Qi,l,mw,od);if(Rt.setRealPlayer(Fc),Ai===sU)Wp.push(Rt);else{const Zo=this.playersByElement.get(Ai);Zo&&Zo.length&&(Rt.parentPlayer=gc(Zo)),o.push(Rt)}}else yl(mt,bn.fromStyles),Rt.onDestroy(()=>Lo(mt,bn.toStyles)),iU.push(Rt),S.has(mt)&&o.push(Rt)}),iU.forEach(Xe=>{const mt=l.get(Xe.element);if(mt&&mt.length){const Rt=gc(mt);Xe.setRealPlayer(Rt)}}),o.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<Se.length;Xe++){const mt=Se[Xe],Rt=mt[oo];if(uh(mt,Wg),Rt&&Rt.hasAnimation)continue;let bn=[];if(p.size){let Fc=p.get(mt);Fc&&Fc.length&&bn.push(...Fc);let Zo=this.driver.query(mt,bv,!0);for(let Hh=0;Hh<Zo.length;Hh++){let xr=p.get(Zo[Hh]);xr&&xr.length&&bn.push(...xr)}}const Ai=bn.filter(Fc=>!Fc.destroyed);Ai.length?FM(this,mt,Ai):this.processLeaveNode(mt)}return Se.length=0,Wp.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const mt=this.players.indexOf(Xe);this.players.splice(mt,1)}),Xe.play()}),Wp}elementContainsData(e,t){let r=!1;const o=t[oo];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,l){let h=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(h=p)}else{const p=this.playersByElement.get(e);if(p){const v=!l||l==Qf;p.forEach(C=>{C.queued||!v&&C.triggerName!=o||h.push(C)})}}return(r||o)&&(h=h.filter(p=>!(r&&r!=p.namespaceId||o&&o!=p.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const C=v.element,S=C!==l,x=bi(r,C,[]);this._getPreviousPlayers(C,S,h,p,t.toState).forEach(H=>{const te=H.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),H.destroy(),x.push(H)})}yl(l,t.fromStyles)}_buildAnimation(e,t,r,o,l,h){const p=t.triggerName,v=t.element,C=[],S=new Set,x=new Set,$=t.timelines.map(te=>{const me=te.element;S.add(me);const Se=me[oo];if(Se&&Se.removedBeforeQueried)return new lh(te.duration,te.delay);const $e=me!==v,at=function(n){const e=[];return GC(n,e),e}((r.get(me)||BC).map(Qi=>Qi.getRealPlayer())).filter(Qi=>!!Qi.element&&Qi.element===me),Nt=l.get(me),dt=h.get(me),Fn=cv(0,this._normalizer,0,te.keyframes,Nt,dt),yr=this._buildPlayer(te,Fn,at);if(te.subTimeline&&o&&x.add(me),$e){const Qi=new am(e,p,me);Qi.setRealPlayer(yr),C.push(Qi)}return yr});C.forEach(te=>{bi(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,te.element,te))}),S.forEach(te=>ao(te,mC));const H=gc($);return H.onDestroy(()=>{S.forEach(te=>uh(te,mC)),Lo(v,t.toStyles)}),x.forEach(te=>{bi(o,te,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new lh(e.duration,e.delay)}}class am{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new lh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>uv(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){bi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function lm(n){return n&&1===n.nodeType}function HC(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Pv(n,e,t,r,o){const l=[];t.forEach(v=>l.push(HC(v)));const h=[];r.forEach((v,C)=>{const S={};v.forEach(x=>{const $=S[x]=e.computeStyle(C,x,o);(!$||0==$.length)&&(C[oo]=UC,h.push(C))}),n.set(C,S)});let p=0;return t.forEach(v=>HC(v,l[p++])),h}function $C(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const o=new Set(e),l=new Map;function h(p){if(!p)return 1;let v=l.get(p);if(v)return v;const C=p.parentNode;return v=t.has(C)?C:o.has(C)?1:h(C),l.set(p,v),v}return e.forEach(p=>{const v=h(p);1!==v&&t.get(v).push(p)}),t}const cm="$$classes";function ao(n,e){if(n.classList)n.classList.add(e);else{let t=n[cm];t||(t=n[cm]={}),t[e]=!0}}function uh(n,e){if(n.classList)n.classList.remove(e);else{let t=n[cm];t&&delete t[e]}}function FM(n,e,t){gc(t).onDone(()=>n.processLeaveNode(e))}function GC(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof cC?GC(r.players,e):e.push(r)}}function Nv(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(l=>o.add(l)):e.set(n,r),t.delete(n),!0}class um{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new jC(e,t,r),this._timelineEngine=new RM(e,t,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,r,o,l){const h=e+"-"+o;let p=this._triggerCache[h];if(!p){const v=[],C=Wf(this._driver,l,v);if(v.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);p=function(n,e,t){return new Kf(n,e,t)}(o,C,this._normalizer),this._triggerCache[h]=p}this._transitionEngine.registerTrigger(t,o,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[l,h]=uC(r);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,l){if("@"==r.charAt(0)){const[h,p]=uC(r);return this._timelineEngine.listen(h,t,p,l)}return this._transitionEngine.listen(e,t,r,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function qC(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Fv(e[0]),e.length>1&&(r=Fv(e[e.length-1]))):e&&(t=Fv(e)),t||r?new WC(n,t,r):null}let WC=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Lo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lo(this._element,this._initialStyles),this._endStyles&&(Lo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yl(this._element,this._endStyles),this._endStyles=null),Lo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Fv(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];BM(o)&&(e=e||{},e[o]=n[o])}return e}function BM(n){return"display"===n||"position"===n}const dm="animation",hm="animationend";class Lv{constructor(e,t,r,o,l,h,p){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=l,this._fillMode=h,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(n,e){const t=pm(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Xf(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),QC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){YC(this._element,this._name,"paused")}resume(){YC(this._element,this._name,"running")}setPosition(e){const t=KC(this._element,this._name);this._position=e*this._duration,Xf(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),QC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=pm(n,"").split(","),o=fm(r,e);o>=0&&(r.splice(o,1),Xf(n,"",r.join(",")))}(this._element,this._name))}}function YC(n,e,t){Xf(n,"PlayState",t,KC(n,e))}function KC(n,e){const t=pm(n,"");return t.indexOf(",")>0?fm(t.split(","),e):fm([t],e)}function fm(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function QC(n,e,t){t?n.removeEventListener(hm,e):n.addEventListener(hm,e)}function Xf(n,e,t,r){const o=dm+e;if(null!=r){const l=n.style[o];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function pm(n,e){return n.style[dm+e]||""}class Bu{constructor(e,t,r,o,l,h,p,v){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=l,this._finalStyles=p,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Lv(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Av(this.element,r))})}this.currentSnapshot=e}}class T1 extends lh{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=fC(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class XC{constructor(){this._count=0}validateStyleProperty(e){return qg(e)}matchesElement(e,t){return gv(e,t)}containsElement(e,t){return mv(e,t)}query(e,t,r){return _v(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(p=>fC(p));let o=`@keyframes ${t} {\n`,l="";r.forEach(p=>{l=" ";const v=parseFloat(p.offset);o+=`${l}${100*v}% {\n`,l+=" ",Object.keys(p).forEach(C=>{const S=p[C];switch(C){case"offset":return;case"easing":return void(S&&(o+=`${l}animation-timing-function: ${S};\n`));default:return void(o+=`${l}${C}: ${S};\n`)}}),o+=`${l}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,l,h=[],p){const v=h.filter(Se=>Se instanceof Bu),C={};Sv(r,o)&&v.forEach(Se=>{let $e=Se.currentSnapshot;Object.keys($e).forEach(at=>C[at]=$e[at])});const S=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=yM(e,t,C));if(0==r)return new T1(e,S);const x="gen_css_kf_"+this._count++,$=this.buildKeyframeElement(e,x,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild($);const te=qC(e,t),me=new Bu(e,t,x,r,o,l,S,te);return me.onDestroy(()=>{var n;(n=$).parentNode.removeChild(n)}),me}}class Uv{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Av(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class D1{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tT().toString()),this._cssKeyframesDriver=new XC}validateStyleProperty(e){return qg(e)}matchesElement(e,t){return gv(e,t)}containsElement(e,t){return mv(e,t)}query(e,t,r){return _v(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,l,h=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,l,h);const S={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(S.easing=l);const x={},$=h.filter(te=>te instanceof Uv);Sv(r,o)&&$.forEach(te=>{let me=te.currentSnapshot;Object.keys(me).forEach(Se=>x[Se]=me[Se])});const H=qC(e,t=yM(e,t=t.map(te=>_l(te,!1)),x));return new Uv(e,t,S,H)}}function tT(){return Hg()&&Element.prototype.animate||{}}let $M=(()=>{class n extends aC{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?jg(t):t;return nT(this._renderer,null,r,"register",[o]),new S1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class S1 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new GM(this._id,e,t||{},this._renderer)}}class GM{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return nT(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function nT(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const _m="@.disabled";let rT=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new ym("",l,this.engine),this._rendererCache.set(l,S)),S}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const v=S=>{Array.isArray(S)?S.forEach(v):this.engine.registerTrigger(h,p,t,S.name,S)};return r.data.animation.forEach(v),new iT(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,p]=l;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(um),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ym{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==_m?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iT extends ym{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==_m?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let qM=(()=>{class n extends um{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re),u.LFG(yv),u.LFG(im))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Sr=new u.OlP("AnimationModuleType"),jv=[{provide:aC,useClass:$M},{provide:im,useFactory:function(){return new IM}},{provide:um,useClass:qM},{provide:u.FYo,useFactory:function(n,e,t){return new rT(n,e,t)},deps:[Pi,um,u.R0b]}],oT=[{provide:yv,useFactory:function(){return"function"==typeof tT()?new D1:new XC}},{provide:Sr,useValue:"BrowserAnimations"},...jv],aT=[{provide:yv,useClass:pC},{provide:Sr,useValue:"NoopAnimations"},...jv];let lT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?aT:oT}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:oT,imports:[iu]}),n})();const uT=new u.GfV("12.2.13"),QM=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Vu,tr=(()=>{class n{constructor(t,r,o){this._hasDoneGlobalChecks=!1,this._document=o,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,u.X6Q)()||uc())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&uT.full!==Mu.full&&console.warn("The Angular Material version ("+uT.full+") does not match the Angular CDK version ("+Mu.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(av),u.LFG(QM,8),u.LFG(re))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Iu],Iu]}),n})();function hh(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Vn(e)}}}function $v(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Gv(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Vn(e)}}}try{Vu="undefined"!=typeof Intl}catch(n){Vu=!1}let qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[tr],tr]}),n})();class ox{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wv={enterDuration:225,exitDuration:150},ph=Xd({passive:!0}),ax=["mousedown","touchstart"],gh=["mouseup","mouseleave","touchend","touchcancel"];class vn{constructor(e,t,r,o){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=ba(r))}fadeInRipple(e,t,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},Wv),r.animation);r.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const h=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+o*o)}(e,t,o),p=e-o.left,v=t-o.top,C=l.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=p-h+"px",S.style.top=v-h+"px",S.style.height=2*h+"px",S.style.width=2*h+"px",null!=r.color&&(S.style.backgroundColor=r.color),S.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(S),window.getComputedStyle(S).getPropertyValue("opacity"),S.style.transform="scale(1)";const x=new ox(this,S,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const $=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!$||!this._isPointerDown)&&x.fadeOut()},C),x}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,o=Object.assign(Object.assign({},Wv),e.config.animation);r.style.transitionDuration=`${o.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.parentNode.removeChild(r)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ba(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(ax))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(gh),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Xy(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ev(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,ph)})})}_removeTriggerEvents(){this._triggerElement&&(ax.forEach(e=>{this._triggerElement.removeEventListener(e,this,ph)}),this._pointerUpEventsRegistered&&gh.forEach(e=>{this._triggerElement.removeEventListener(e,this,ph)}))}}const Uu=new u.OlP("mat-ripple-global-options");let _h=(()=>{class n{constructor(t,r,o,l,h){this._elementRef=t,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new vn(this,r,t,o)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Mn),u.Y36(Uu,8),u.Y36(Sr,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),wt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[tr,Qd],tr]}),n})();function Kv(n,e){}class vc{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const ip={dialogContainer:Gf("dialogContainer",[Dr("void, exit",Ir({opacity:0,transform:"scale(0.7)"})),Dr("enter",Ir({transform:"none"})),Aa("* => enter",Sa("150ms cubic-bezier(0, 0, 0.2, 1)",Ir({transform:"none",opacity:1}))),Aa("* => void, * => exit",Sa("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ir({opacity:0})))])};let ju=(()=>{class n extends Sf{constructor(t,r,o,l,h,p){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=o,this._config=h,this._focusMonitor=p,this._animationStateChanged=new u.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(v)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=fl(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=fl())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=fl();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Ug),u.Y36(u.sBO),u.Y36(re,8),u.Y36(vc),u.Y36(pc))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(Ca,7),2&t){let o;u.iGM(o=u.CRH())&&(r._portalOutlet=o.first)}},features:[u.qOj]}),n})(),hx=(()=>{class n extends ju{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&u.WFA("@dialogContainer.start",function(l){return r._onAnimationStart(l)})("@dialogContainer.done",function(l){return r._onAnimationDone(l)}),2&t&&(u.Ikx("id",r._id),u.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&u.YNc(0,Kv,0,0,"ng-template",0)},directives:[Ca],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ip.dialogContainer]}}),n})(),_T=0;class sp{constructor(e,t,r="mat-dialog-"+_T++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Je.xQ,this._afterClosed=new Je.xQ,this._beforeClosed=new Je.xQ,this._state=0,t._id=r,t._animationStateChanged.pipe(Bn(o=>"opened"===o.state),Os(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Bn(o=>"closed"===o.state),Os(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Bn(o=>27===o.keyCode&&!this.disableClose&&!Fo(o))).subscribe(o=>{o.preventDefault(),Hu(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Hu(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Bn(t=>"closing"===t.state),Os(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Hu(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const Qv=new u.OlP("MatDialogData"),yT=new u.OlP("mat-dialog-default-options"),$u=new u.OlP("mat-dialog-scroll-strategy"),vT={provide:$u,deps:[sh],useFactory:function(n){return()=>n.scrollStrategies.block()}};let bT=(()=>{class n{constructor(t,r,o,l,h,p,v,C,S){this._overlay=t,this._injector=r,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=v,this._dialogContainerType=C,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Je.xQ,this._afterOpenedAtThisLevel=new Je.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=ks(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new vc)).id&&this.getDialogById(r.id);const o=this._createOverlay(r),l=this._attachDialogContainer(o,r),h=this._attachDialogContent(t,l,o,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new jy({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const l=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:vc,useValue:r}]}),h=new xy(this._dialogContainerType,r.viewContainerRef,l,r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,r,o,l){const h=new this._dialogRefConstructor(o,r,l.id);if(t instanceof u.Rgc)r.attachTemplatePortal(new th(t,null,{$implicit:l.data,dialogRef:h}));else{const p=this._createInjector(l,h,r),v=r.attachComponentPortal(new xy(t,l.viewContainerRef,p));h.componentInstance=v.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(t,r,o){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!l||!l.get(si,null,u.XFs.Optional))&&h.push({provide:si,useValue:{value:t.direction,change:(0,Ue.of)()}}),u.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,l)=>{o?l.setAttribute("aria-hidden",o):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let o=r.length-1;o>-1;o--){let l=r[o];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sh),u.Y36(u.zs3),u.Y36(void 0),u.Y36(void 0),u.Y36(Hf),u.Y36(void 0),u.Y36(u.DyG),u.Y36(u.DyG),u.Y36(u.OlP))},n.\u0275dir=u.lG2({type:n}),n})(),op=(()=>{class n extends bT{constructor(t,r,o,l,h,p,v){super(t,r,l,p,v,h,sp,hx,Qv)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sh),u.LFG(u.zs3),u.LFG(kt,8),u.LFG(yT,8),u.LFG($u),u.LFG(n,12),u.LFG(Hf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),B1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[op,vT],imports:[[F0,Du,tr],tr]}),n})();function ap(n,e){1&n&&u.Hsn(0)}const Jv=["*"];function px(n,e){}const gx=function(n){return{animationDuration:n}},V1=function(n,e){return{value:n,params:e}},U1=["tabBodyWrapper"],mx=["tabHeader"];function Ei(n,e){}function _x(n,e){if(1&n&&u.YNc(0,Ei,0,0,"ng-template",9),2&n){const t=u.oxw().$implicit;u.Q6J("cdkPortalOutlet",t.templateLabel)}}function yx(n,e){if(1&n&&u._uU(0),2&n){const t=u.oxw().$implicit;u.Oqu(t.textLabel)}}function Xv(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",6),u.NdJ("click",function(){const o=u.CHM(t),l=o.$implicit,h=o.index,p=u.oxw(),v=u.MAs(1);return p._handleClick(l,v,h)})("cdkFocusChange",function(o){const h=u.CHM(t).index;return u.oxw()._tabFocusChanged(o,h)}),u.TgZ(1,"div",7),u.YNc(2,_x,1,1,"ng-template",8),u.YNc(3,yx,1,1,"ng-template",8),u.qZA(),u.qZA()}if(2&n){const t=e.$implicit,r=e.index,o=u.oxw();u.ekj("mat-tab-label-active",o.selectedIndex==r),u.Q6J("id",o._getTabLabelId(r))("disabled",t.disabled)("matRippleDisabled",t.disabled||o.disableRipple),u.uIk("tabIndex",o._getTabIndex(t,r))("aria-posinset",r+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(r))("aria-selected",o.selectedIndex==r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),u.xp6(2),u.Q6J("ngIf",t.templateLabel),u.xp6(1),u.Q6J("ngIf",!t.templateLabel)}}function vx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-tab-body",10),u.NdJ("_onCentered",function(){return u.CHM(t),u.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(o){return u.CHM(t),u.oxw()._setTabBodyWrapperHeight(o)}),u.qZA()}if(2&n){const t=e.$implicit,r=e.index,o=u.oxw();u.ekj("mat-tab-body-active",o.selectedIndex===r),u.Q6J("id",o._getTabContentId(r))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",o.animationDuration),u.uIk("tabindex",null!=o.contentTabIndex&&o.selectedIndex===r?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(r))}}const CT=["tabListContainer"],TT=["tabList"],IT=["nextPaginator"],DT=["previousPaginator"],eb=new u.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let Sm=(()=>{class n{constructor(t,r,o,l){this._elementRef=t,this._ngZone=r,this._inkBarPositioner=o,this._animationMode=l}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const r=this._inkBarPositioner(t),o=this._elementRef.nativeElement;o.style.left=r.left,o.style.width=r.width}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(eb),u.Y36(Sr,8))},n.\u0275dir=u.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)}}),n})();const tb=new u.OlP("MatTabContent"),AT=new u.OlP("MatTabLabel"),wx=new u.OlP("MAT_TAB");let Cx=(()=>{class n extends Af{constructor(t,r,o){super(t,r),this._closestTab=o}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.s_b),u.Y36(wx,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[u._Bn([{provide:AT,useExisting:n}]),u.qOj]}),n})();const Tx=hh(class{}),MT=new u.OlP("MAT_TAB_GROUP");let xT=(()=>{class n extends Tx{constructor(t,r){super(),this._viewContainerRef=t,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new Je.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new th(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(MT,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,AT,5),u.Suo(o,tb,7,u.Rgc)),2&t){let l;u.iGM(l=u.CRH())&&(r.templateLabel=l.first),u.iGM(l=u.CRH())&&(r._explicitContent=l.first)}},viewQuery:function(t,r){if(1&t&&u.Gf(u.Rgc,7),2&t){let o;u.iGM(o=u.CRH())&&(r._implicitContent=o.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[u._Bn([{provide:wx,useExisting:n}]),u.qOj,u.TTD],ngContentSelectors:Jv,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.YNc(0,ap,1,0,"ng-template"))},encapsulation:2}),n})();const Ix={translateTab:Gf("translateTab",[Dr("center, void, left-origin-center, right-origin-center",Ir({transform:"none"})),Dr("left",Ir({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Dr("right",Ir({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Aa("* => left, * => right, left => center, right => center",Sa("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Aa("void => left-origin-center",[Ir({transform:"translate3d(-100%, 0, 0)"}),Sa("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Aa("void => right-origin-center",[Ir({transform:"translate3d(100%, 0, 0)"}),Sa("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Dx=(()=>{class n extends Ca{constructor(t,r,o,l){super(t,r,l),this._host=o,this._centeringSub=gr.w.EMPTY,this._leavingSub=gr.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(yi(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36((0,u.Gpc)(()=>RT)),u.Y36(re))},n.\u0275dir=u.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[u.qOj]}),n})(),lp=(()=>{class n{constructor(t,r,o){this._elementRef=t,this._dir=r,this._dirChangeSubscription=gr.w.EMPTY,this._translateTabComplete=new Je.xQ,this._onCentering=new u.vpe,this._beforeCentering=new u.vpe,this._afterLeavingCenter=new u.vpe,this._onCentered=new u.vpe(!0),this.animationDuration="500ms",r&&(this._dirChangeSubscription=r.change.subscribe(l=>{this._computePositionAnimationState(l),o.markForCheck()})),this._translateTabComplete.pipe(bf((l,h)=>l.fromState===h.fromState&&l.toState===h.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const r=this._isCenterPosition(t.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const r=this._getLayoutDirection();return"ltr"==r&&t<=0||"rtl"==r&&t>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(si,8),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),RT=(()=>{class n extends lp{constructor(t,r,o){super(t,r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(si,8),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(t,r){if(1&t&&u.Gf(Ca,5),2&t){let o;u.iGM(o=u.CRH())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-tab-body"],features:[u.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0,1),u.NdJ("@translateTab.start",function(l){return r._onTranslateTabStarted(l)})("@translateTab.done",function(l){return r._translateTabComplete.next(l)}),u.YNc(2,px,0,0,"ng-template",2),u.qZA()),2&t&&u.Q6J("@translateTab",u.WLB(3,V1,r._position,u.VKq(1,gx,r.animationDuration)))},directives:[Dx],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Ix.translateTab]}}),n})();const kT=new u.OlP("MAT_TABS_CONFIG");let OT=0;class cp{}const j1=$v(Gv(class{constructor(n){this._elementRef=n}}),"primary");let PT=(()=>{class n extends j1{constructor(t,r,o,l){var h;super(t),this._changeDetectorRef=r,this._animationMode=l,this._tabs=new u.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=gr.w.EMPTY,this._tabLabelSubscription=gr.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new u.vpe,this.focusChange=new u.vpe,this.animationDone=new u.vpe,this.selectedTabChange=new u.vpe(!0),this._groupId=OT++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=!(!o||null==o.disablePagination)&&o.disablePagination,this.dynamicHeight=!(!o||null==o.dynamicHeight)&&o.dynamicHeight,this.contentTabIndex=null!==(h=null==o?void 0:o.contentTabIndex)&&void 0!==h?h:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Vn(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Ui(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=Ui(t,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const r=this._elementRef.nativeElement;r.classList.remove(`mat-background-${this.backgroundColor}`),t&&r.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(t));const o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,l)=>o.isActive=l===t),r||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,o)=>{r.position=o-t,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const r=this._tabs.toArray();for(let o=0;o<r.length;o++)if(r[o].isActive){this._indexToSelect=this._selectedIndex=o;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(yi(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(t){const r=this._tabHeader;r&&(r.focusIndex=t)}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const r=new cp;return r.index=t,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[t]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,dc.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,r,o){t.disabled||(this.selectedIndex=r.focusIndex=o)}_getTabIndex(t,r){return t.disabled?null:this.selectedIndex===r?0:-1}_tabFocusChanged(t,r){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(kT,8),u.Y36(Sr,8))},n.\u0275dir=u.lG2({type:n,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",contentTabIndex:"contentTabIndex",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[u.qOj]}),n})(),Sx=(()=>{class n extends PT{constructor(t,r,o,l){super(t,r,o,l)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(kT,8),u.Y36(Sr,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(t,r,o){if(1&t&&u.Suo(o,xT,5),2&t){let l;u.iGM(l=u.CRH())&&(r._allTabs=l)}},viewQuery:function(t,r){if(1&t&&(u.Gf(U1,5),u.Gf(mx,5)),2&t){let o;u.iGM(o=u.CRH())&&(r._tabBodyWrapper=o.first),u.iGM(o=u.CRH())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-tab-group-dynamic-height",r.dynamicHeight)("mat-tab-group-inverted-header","below"===r.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[u._Bn([{provide:MT,useExisting:n}]),u.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,r){1&t&&(u.TgZ(0,"mat-tab-header",0,1),u.NdJ("indexFocused",function(l){return r._focusChanged(l)})("selectFocusedIndex",function(l){return r.selectedIndex=l}),u.YNc(2,Xv,4,14,"div",2),u.qZA(),u.TgZ(3,"div",3,4),u.YNc(5,vx,1,9,"mat-tab-body",5),u.qZA()),2&t&&(u.Q6J("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),u.xp6(2),u.Q6J("ngForOf",r._tabs),u.xp6(1),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),u.xp6(2),u.Q6J("ngForOf",r._tabs))},directives:function(){return[$1,Jt,NT,_h,uM,xi,Ca,RT]},styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})();const Ax=hh(class{});let NT=(()=>{class n extends Ax{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,r){2&t&&(u.uIk("aria-disabled",!!r.disabled),u.ekj("mat-tab-disabled",r.disabled))},inputs:{disabled:"disabled"},features:[u.qOj]}),n})();const FT=Xd({passive:!0});let VT=(()=>{class n{constructor(t,r,o,l,h,p,v){this._elementRef=t,this._changeDetectorRef=r,this._viewportRuler=o,this._dir=l,this._ngZone=h,this._platform=p,this._animationMode=v,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Je.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Je.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new u.vpe,this.indexFocused=new u.vpe,h.runOutsideAngular(()=>{ac(t.nativeElement,"mouseleave").pipe(ji(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Ui(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){ac(this._previousPaginator.nativeElement,"touchstart",FT).pipe(ji(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ac(this._nextPaginator.nativeElement,"touchstart",FT).pipe(ji(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,Ue.of)("ltr"),r=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Vg(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(o):o(),(0,dc.T)(t,r,this._items.changes).pipe(ji(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(o)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(ji(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Fo(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const r=this._items?this._items.toArray()[t]:null;return!!r&&!r.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const r=this._items?this._items.toArray()[t]:null;if(!r)return;const o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:h}=r.elementRef.nativeElement;let p,v;"ltr"==this._getLayoutDirection()?(p=l,v=p+h):(v=this._tabList.nativeElement.offsetWidth-l,p=v-h);const C=this.scrollDistance,S=this.scrollDistance+o;p<C?this.scrollDistance-=C-p+60:v>S&&(this.scrollDistance+=v-S+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),xg(650,100).pipe(ji((0,dc.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:o,distance:l}=this._scrollHeader(t);(0===l||l>=o)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(so),u.Y36(si,8),u.Y36(u.R0b),u.Y36(Mn),u.Y36(Sr,8))},n.\u0275dir=u.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),H1=(()=>{class n extends VT{constructor(t,r,o,l,h,p,v){super(t,r,o,l,h,p,v),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Vn(t)}_itemSelected(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(so),u.Y36(si,8),u.Y36(u.R0b),u.Y36(Mn),u.Y36(Sr,8))},n.\u0275dir=u.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[u.qOj]}),n})(),$1=(()=>{class n extends H1{constructor(t,r,o,l,h,p,v){super(t,r,o,l,h,p,v)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(so),u.Y36(si,8),u.Y36(u.R0b),u.Y36(Mn),u.Y36(Sr,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(t,r,o){if(1&t&&u.Suo(o,NT,4),2&t){let l;u.iGM(l=u.CRH())&&(r._items=l)}},viewQuery:function(t,r){if(1&t&&(u.Gf(Sm,7),u.Gf(CT,7),u.Gf(TT,7),u.Gf(IT,5),u.Gf(DT,5)),2&t){let o;u.iGM(o=u.CRH())&&(r._inkBar=o.first),u.iGM(o=u.CRH())&&(r._tabListContainer=o.first),u.iGM(o=u.CRH())&&(r._tabList=o.first),u.iGM(o=u.CRH())&&(r._nextPaginator=o.first),u.iGM(o=u.CRH())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[u.qOj],ngContentSelectors:Jv,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(l){return r._handlePaginatorPress("before",l)})("touchend",function(){return r._stopInterval()}),u._UZ(2,"div",2),u.qZA(),u.TgZ(3,"div",3,4),u.NdJ("keydown",function(l){return r._handleKeydown(l)}),u.TgZ(5,"div",5,6),u.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),u.TgZ(7,"div",7),u.Hsn(8),u.qZA(),u._UZ(9,"mat-ink-bar"),u.qZA(),u.qZA(),u.TgZ(10,"div",8,9),u.NdJ("mousedown",function(l){return r._handlePaginatorPress("after",l)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),u._UZ(12,"div",2),u.qZA()),2&t&&(u.ekj("mat-tab-header-pagination-disabled",r._disableScrollBefore),u.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple),u.xp6(5),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),u.xp6(5),u.ekj("mat-tab-header-pagination-disabled",r._disableScrollAfter),u.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},directives:[_h,Gy,Sm],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),n})(),Px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ns,tr,Du,wt,U0,oC],tr]}),n})();var Nx=F(205),Fx=F(1555);function yh(n,e){return new St.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let l=0,h=0;for(let p=0;p<r;p++){const v=(0,kn.D)(n[p]);let C=!1;t.add(v.subscribe({next:S=>{C||(C=!0,h++),o[p]=S},error:S=>t.error(S),complete:()=>{l++,(l===r||!C)&&(h===r&&t.next(e?e.reduce((S,x,$)=>(S[x]=o[$],S),{}):o),t.complete())}}))}})}var Lx=F(8819);class Gu{}class ka{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ka?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ka;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ka?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(p=>-1===l.indexOf(p)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Vo{encodeKey(e){return ib(e)}encodeValue(e){return ib(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Bx=/%(\d[a-f0-9])/gi,jT={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ib(n){return encodeURIComponent(n).replace(Bx,(e,t)=>{var r;return null!==(r=jT[t])&&void 0!==r?r:e})}function sb(n){return`${n}`}class bc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vo,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,p]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],v=t.get(h)||[];v.push(p),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(sb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(sb(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Vx{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function $T(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Ux(n){return"undefined"!=typeof Blob&&n instanceof Blob}function GT(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Oa{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new ka),this.context||(this.context=new Vx),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+h}}else this.params=new bc,this.urlWithParams=t}serializeBody(){return null===this.body?null:$T(this.body)||Ux(this.body)||GT(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof bc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GT(this.body)?null:Ux(this.body)?this.body.type||null:$T(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,l=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,S=e.params||this.params;const x=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce(($,H)=>$.set(H,e.setHeaders[H]),C)),e.setParams&&(S=Object.keys(e.setParams).reduce(($,H)=>$.set(H,e.setParams[H]),S)),new Oa(r,o,h,{params:S,headers:C,context:x,reportProgress:v,responseType:l,withCredentials:p})}}var Lr=(()=>((Lr=Lr||{})[Lr.Sent=0]="Sent",Lr[Lr.UploadProgress=1]="UploadProgress",Lr[Lr.ResponseHeader=2]="ResponseHeader",Lr[Lr.DownloadProgress=3]="DownloadProgress",Lr[Lr.Response=4]="Response",Lr[Lr.User=5]="User",Lr))();class ab extends class{constructor(e,t=200,r="OK"){this.headers=e.headers||new ka,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Lr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ab({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function cb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vh=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof Oa)l=t;else{let v,C;v=o.headers instanceof ka?o.headers:new ka(o.headers),o.params&&(C=o.params instanceof bc?o.params:new bc({fromObject:o.params})),l=new Oa(t,r,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,Ue.of)(l).pipe(ql(v=>this.handler.handle(v)));if(t instanceof Oa||"events"===o.observe)return h;const p=h.pipe(Bn(v=>v instanceof ab));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,gt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,gt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,gt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));case"json":default:return p.pipe((0,gt.U)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,cb(o,r))}post(t,r,o={}){return this.request("POST",t,cb(o,r))}put(t,r,o={}){return this.request("PUT",t,cb(o,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const zx=["*"];function Om(n){return Error(`Unable to find icon with the name "${n}"`)}function ZT(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function bh(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class zu{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Pm=(()=>{class n{constructor(t,r,o,l){this._httpClient=t,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,l){return this._addSvgIconConfig(t,r,new zu(o,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,l){const h=this._sanitizer.sanitize(u.q3G.HTML,o);if(!h)throw bh(o);return this._addSvgIconConfig(t,r,new zu("",h,l))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new zu(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){const l=this._sanitizer.sanitize(u.q3G.HTML,r);if(!l)throw bh(r);return this._addSvgIconSetConfig(t,new zu("",l,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw ZT(t);const o=this._cachedIconsByUrl.get(r);return o?(0,Ue.of)(Eh(o)):this._loadSvgIconFromConfig(new zu(t,null)).pipe((0,Wn.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,gt.U)(l=>Eh(l)))}getNamedSvgIcon(t,r=""){const o=pb(r,t);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,t),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(t,h):(0,Nx._)(Om(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,Ue.of)(Eh(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gt.U)(r=>Eh(r)))}_getSvgFromIconSetConfigs(t,r){const o=this._extractIconWithNameFromAnySet(t,r);return o?(0,Ue.of)(o):function(...n){if(1===n.length){const e=n[0];if((0,no.k)(e))return yh(e,null);if((0,Fx.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return yh(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return yh(n=1===n.length&&(0,no.k)(n[0])?n[0]:n,null).pipe((0,gt.U)(t=>e(...t)))}return yh(n,null)}(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(Ps(p=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,h.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(C)),(0,Ue.of)(null)})))).pipe((0,gt.U)(()=>{const h=this._extractIconWithNameFromAnySet(t,r);if(!h)throw Om(t);return h}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.svgText&&l.svgText.indexOf(t)>-1){const h=this._svgElementFromConfig(l),p=this._extractSvgIconFromSet(h,t,l.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Wn.b)(r=>t.svgText=r),(0,gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,Ue.of)(null):this._fetchIcon(t).pipe((0,Wn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){const l=t.querySelector(`[id="${r}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const p=this._svgElementFromString("<svg></svg>");return p.appendChild(h),this._setSvgAttributes(p,o)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const r=this._svgElementFromString("<svg></svg>"),o=t.attributes;for(let l=0;l<o.length;l++){const{name:h,value:p}=o[l];"id"!==h&&r.setAttribute(h,p)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:o,options:l}=t,h=null!==(r=null==l?void 0:l.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const p=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,o);if(!p)throw ZT(o);const v=this._inProgressUrlFetches.get(p);if(v)return v;const C=this._httpClient.get(p,{responseType:"text",withCredentials:h}).pipe(Zl(()=>this._inProgressUrlFetches.delete(p)),(0,Lx.B)());return this._inProgressUrlFetches.set(p,C),C}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set(pb(t,r),o),this}_addSvgIconSetConfig(t,r){const o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](r,t);if(l)return gb(l)?new zu(l.url,null,l.options):new zu(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vh,8),u.LFG(ra),u.LFG(re,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(vh,8),u.LFG(ra),u.LFG(re,8),u.LFG(u.qLn))},token:n,providedIn:"root"}),n})();function Eh(n){return n.cloneNode(!0)}function pb(n,e){return n+":"+e}function gb(n){return!(!n.url||!n.options)}const mb=$v(class{constructor(n){this._elementRef=n}}),qx=new u.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,u.f3M)(re),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),KT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QT=KT.map(n=>`[${n}]`).join(", "),_b=/^url\(['"]?#(.*?)['"]?\)$/;let Nm=(()=>{class n extends mb{constructor(t,r,o,l,h){super(t),this._iconRegistry=r,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=gr.w.EMPTY,o||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Vn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let l=0;l<r.length;l++)r[l].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=t.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&t.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(QT),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)KT.forEach(h=>{const p=r[l],v=p.getAttribute(h),C=v?v.match(_b):null;if(C){let S=o.get(p);S||(S=[],o.set(p,S)),S.push({name:h,value:C[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Os(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Pm),u.$8M("aria-hidden"),u.Y36(qx),u.Y36(u.qLn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:zx,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),JT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[tr],tr]}),n})();const XT=["*",[["mat-card-footer"]]],eI=["*","mat-card-footer"],Yx=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],tI=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],nI=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],Kx=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let rI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),iI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-card-md-image"]}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),sI=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Sr,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:eI,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(XT),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),oI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:tI,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(u.F$t(Yx),u.Hsn(0),u.TgZ(1,"div",0),u.Hsn(2,1),u.qZA(),u.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Xx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:Kx,decls:4,vars:0,template:function(t,r){1&t&&(u.F$t(nI),u.TgZ(0,"div"),u.Hsn(1),u.qZA(),u.Hsn(2,1),u.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),eR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[tr],tr]}),n})();function vb(n,e){if(1&n&&(u.TgZ(0,"mat-card",8),u.TgZ(1,"mat-card-header",9),u._UZ(2,"div",10),u.TgZ(3,"mat-card-title"),u._uU(4," Nallatigala Praveen "),u._UZ(5,"img",11),u.qZA(),u.TgZ(6,"mat-card-subtitle"),u.TgZ(7,"div",12),u._uU(8," \u{1f7e2}"),u.qZA(),u._uU(9," warangal"),u.qZA(),u.qZA(),u._UZ(10,"img",13),u.TgZ(11,"mat-card-content",14),u.TgZ(12,"h4",15),u._uU(13),u.TgZ(14,"strong"),u._uU(15,"Unknown "),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&n){const t=e.$implicit;u.xp6(10),u.s9C("src",t.a,u.LSH),u.xp6(3),u.hij(" \u275d ",t.b," \u275e ~ ")}}const aI=function(n){return{"show-scrollTop":n}};let lI=(()=>{class n{constructor(t){this.document=t,this.imgBtnClk=0,this.homeFeed=[{a:"https://images.pexels.com/photos/6945/sunset-summer-golden-hour-paul-filitchkin.jpg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",b:"Never Let Your Feelings Get Too Deep, people Can Change Any Time"},{a:"assets/sittingdown_image.jpg",b:"Just bcz Most Don't Make It Doesn't Meant U Can't "},{a:"assets/selfie_image.jpg",b:"Sometimes It's Better To Be Alone, Nobody Can Hurt You"},{a:"assets/pool_image.jpg",b:"If you Get Tired, Learn To Rest, Not Quit"},{a:"assets/backside_img.jpg",b:"If No One Hates You, You're Doing Something Boring"}]}onWindowScroll(){window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop>100?this.windowScrolled=!0:(this.windowScrolled&&window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop<10)&&(this.windowScrolled=!1)}scrollToTop(){!function t(){var r=document.documentElement.scrollTop||document.body.scrollTop;r>0&&(window.requestAnimationFrame(t),window.scrollTo(0,r-r/8))}()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(re))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],hostBindings:function(t,r){1&t&&u.NdJ("scroll",function(){return r.onWindowScroll()},!1,u.Jf7)},decls:14,vars:4,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["class","example-card",4,"ngFor","ngForOf"],[1,"scroll-to-top",3,"ngClass"],["type","button","data-toggle","button","aria-pressed","true",1,"btn",3,"click"],[2,"color","white","font-size","30px"],[1,"example-card"],[2,"margin-left","10%"],["mat-card-avatar","",1,"example-header-image",2,"height","50px","width","50px"],["width","27px","src","assets/tick_icon.ico","alt",""],[2,"display","inline","font-size","7px","vertical-align","middle"],["mat-card-image","","alt","Image Not Available",2,"width","80%","margin-left","10%","border-radius","10px",3,"src"],[2,"background-color","#eee","text-align","center","border-radius","1px 20px","border","1px solid black","margin-top","-15px"],[2,"width","95%","margin-left","2%"]],template:function(t,r){1&t&&(u.TgZ(0,"html",0),u.TgZ(1,"head"),u._UZ(2,"meta",1),u._UZ(3,"meta",2),u._UZ(4,"meta",3),u.TgZ(5,"title"),u._uU(6,"Home"),u.qZA(),u.qZA(),u.TgZ(7,"body"),u.YNc(8,vb,16,2,"mat-card",4),u.TgZ(9,"div",5),u.TgZ(10,"button",6),u.NdJ("click",function(){return r.scrollToTop()}),u.TgZ(11,"mat-icon",7),u._uU(12," arrow_upwards"),u.qZA(),u._uU(13,"\xa0\xa0 "),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(8),u.Q6J("ngForOf",r.homeFeed),u.xp6(1),u.Q6J("ngClass",u.VKq(2,aI,r.windowScrolled)))},directives:[Jt,mo,Nm,sI,oI,yb,iI,Qx,Jx,rI],styles:[".example-header-image[_ngcontent-%COMP%]{background-image:url(selfie_image.313507b946005172a09b.jpg);background-size:cover}img[_ngcontent-%COMP%]{image-rendering:pixelated}.scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:15px;right:15px;opacity:0;transition:all .2s ease-in-out}.show-scrollTop[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in-out}.btn[_ngcontent-%COMP%]{background-color:red;border:0px;border-radius:30%;width:130%;height:30px}.imgButton[_ngcontent-%COMP%]{background-color:transparent}"]}),n})(),Lm=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bio"]],decls:58,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[2,"margin","0 0 0 0","background-color","#ded6c2"],[1,"example-card1",2,"width","85%","margin-left","7.5%"],[2,"font-size","1.1em"],[2,"font-size","0.9em"],["mat-card-md-image","","src","assets/sittingdown_image.jpg",2,"border-radius","50%"],[1,"example-card2",2,"width","75%","margin-left","12.5%"],[2,"font-size","1em"],[2,"font-size","0.7em"],["mat-card-md-image","","src"," https://cdn.pixabay.com/photo/2015/05/11/14/51/heart-762564__340.jpg",2,"border-radius","50%"],[1,"example-card",2,"width","65%","margin-left","17.5%"],["mat-card-md-image","","src","https://media.istockphoto.com/photos/silhouette-young-man-graduation-in-2021-years-education-concept-and-picture-id1290797072?b=1&k=20&m=1290797072&s=170667a&w=0&h=pBKaJAvliHum8He4xIVaZmE_S7Wwhb4pTZ_oGOl6Qz0=",2,"border-radius","50%"],[1,"example-card4",2,"width","55%","margin-left","22.5%"],["mat-card-md-image","","src","https://images.pexels.com/photos/1229861/pexels-photo-1229861.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",2,"border-radius","50%"],[1,"row"],[1,"column"]],template:function(t,r){1&t&&(u.TgZ(0,"html",0),u.TgZ(1,"head"),u._UZ(2,"meta",1),u._UZ(3,"meta",2),u._UZ(4,"meta",3),u.TgZ(5,"title"),u._uU(6,"Document"),u.qZA(),u.qZA(),u.TgZ(7,"body",4),u._UZ(8,"br"),u.TgZ(9,"mat-card",5),u.TgZ(10,"mat-card-title-group"),u.TgZ(11,"mat-card-title",6),u._uU(12,"About"),u.qZA(),u.TgZ(13,"mat-card-subtitle",7),u._uU(14," Hi \u{1f44b} I'm N.Praveen............"),u.qZA(),u._UZ(15,"img",8),u.qZA(),u.qZA(),u._UZ(16,"br"),u.TgZ(17,"mat-card",9),u.TgZ(18,"mat-card-title-group"),u.TgZ(19,"mat-card-title",10),u._uU(20,"Likes"),u.qZA(),u.TgZ(21,"mat-card-subtitle",11),u._uU(22," \u{1f3cf} MSD "),u._UZ(23,"br"),u._uU(24," \u{1f4a4} Switzerland "),u._UZ(25,"br"),u._uU(26," \u{1f3b5}Melody Songs "),u.qZA(),u._UZ(27,"img",12),u.qZA(),u.qZA(),u._UZ(28,"br"),u.TgZ(29,"mat-card",13),u.TgZ(30,"mat-card-title-group"),u.TgZ(31,"mat-card-title",10),u._uU(32,"Education"),u.qZA(),u.TgZ(33,"mat-card-subtitle",11),u._uU(34,"School: SNHS "),u._UZ(35,"br"),u._uU(36," Inter: SR "),u._UZ(37,"br"),u._uU(38," B.Tech: KITSW "),u.qZA(),u._UZ(39,"img",14),u.qZA(),u.qZA(),u._UZ(40,"br"),u.TgZ(41,"mat-card",15),u.TgZ(42,"mat-card-title-group"),u.TgZ(43,"mat-card-title",10),u._uU(44,"Interests"),u.qZA(),u.TgZ(45,"mat-card-subtitle",11),u._uU(46,"-Computers"),u._UZ(47,"br"),u._uU(48,"-Stocks"),u._UZ(49,"br"),u._uU(50,"-Cricket"),u.qZA(),u._UZ(51,"img",16),u.qZA(),u.qZA(),u._UZ(52,"br"),u._UZ(53,"br"),u.TgZ(54,"div",17),u._UZ(55,"div",18),u._UZ(56,"div",18),u.qZA(),u._UZ(57,"br"),u.qZA(),u.qZA())},directives:[sI,Xx,iI,Qx,rF],styles:['.example-card3[_ngcontent-%COMP%]{animation:MoveDown 5s linear infinite}.example-card5[_ngcontent-%COMP%]{animation:MoveUp 5s linear infinite}.mat-card-subtitle[_ngcontent-%COMP%]{color:#000}body[_ngcontent-%COMP%]{color:#000;margin:0;min-height:94vh}.boximage[_ngcontent-%COMP%]{border-radius:5%;width:80%}.column[_ngcontent-%COMP%]{float:left;width:48%;padding:10px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}*[_ngcontent-%COMP%]{box-sizing:border-box}@keyframes MoveDown{0%{top:0px;opacity:1}to{top:500px;opacity:1}}@keyframes MoveUp{0%{top:100px;opacity:1}to{top:0px;opacity:1}}']}),n})(),bb=(()=>{class n{constructor(){}fbbox(){var t=document.getElementById("fbmsg");t.style.display="block",setTimeout(()=>{t.style.display="none"},2e3)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact"]],decls:39,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[2,"width","99%"],["src","assets/address.jpg","alt","Image not available",2,"width","65%","margin-left","19%","border-radius","10px","opacity","1"],[2,"background-color","thistle","text-align","center","width","65%","margin-left","19%","border-radius","10px"],["href","assets/N.Praveen_Resume.pdf","download","N.Praveen_Resume",2,"text-decoration","none","font-size","1em","color","black"],[2,"width","80%","text-align","center","margin-left","11%","background-color","white","border-radius","40px 400px"],["href","https://www.instagram.com/praveenpintu07/"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","aria-hidden","true","role","img","width","1em","height","1em","preserveAspectRatio","xMidYMid meet","viewBox","0 0 24 24",2,"color","rgb(240, 56, 86)","font-size","45px"],["d","M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3z","fill","currentColor"],["href","mailto:praveenpintu028@gmail.com?Subject=Just saw your blog!&body=Hi Praveen  ",2,"margin-left","10%"],["aria-hidden","false","aria-label","Example home icon",2,"color","red"],["href","https://wa.me/918686474478/?text=Hey!! Praveen",2,"margin-left","13%"],["aria-hidden","false","aria-label","Example home icon",2,"color","green"],[2,"margin-left","13%",";background-color","transparent","border","0px",3,"click"],["aria-hidden","false","aria-label","Example home icon","color","primary"],["id","fbmsg",2,"background-color","black","color","white","text-align","center"],[2,"color","thistle","margin-top","30%","font-size","8px","text-align","center"]],template:function(t,r){1&t&&(u.TgZ(0,"html",0),u.TgZ(1,"head"),u._UZ(2,"meta",1),u._UZ(3,"meta",2),u._UZ(4,"meta",3),u.TgZ(5,"title"),u._uU(6,"Contact"),u.qZA(),u.qZA(),u.TgZ(7,"body",4),u._UZ(8,"br"),u._UZ(9,"img",5),u._UZ(10,"br"),u.TgZ(11,"div",6),u.TgZ(12,"a",7),u.TgZ(13,"strong"),u._uU(14,"Download My Resume"),u.qZA(),u.qZA(),u.qZA(),u._UZ(15,"br"),u.TgZ(16,"div",8),u.TgZ(17,"a",9),u.O4$(),u.TgZ(18,"svg",10),u._UZ(19,"path",11),u.qZA(),u.qZA(),u.kcU(),u.TgZ(20,"a",12),u.TgZ(21,"mat-icon",13),u._uU(22,"mail_outline"),u.qZA(),u.qZA(),u.TgZ(23,"a",14),u.TgZ(24,"mat-icon",15),u._uU(25,"whatsapp"),u.qZA(),u.qZA(),u.TgZ(26,"button",16),u.NdJ("click",function(){return r.fbbox()}),u.TgZ(27,"mat-icon",17),u._uU(28,"facebook"),u.qZA(),u.qZA(),u._uU(29," \xa0\xa0\xa0\xa0 "),u.TgZ(30,"div"),u.TgZ(31,"span",18),u.TgZ(32,"strong"),u._uU(33,"\xa0\xa0 Hey! I don't use Fb.\xa0\xa0 "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(34,"br"),u._UZ(35,"br"),u.TgZ(36,"footer"),u.TgZ(37,"p",19),u._uU(38,"* Few Images are taken from internet @credit to creators"),u.qZA(),u.qZA(),u.qZA(),u.qZA())},directives:[Nm],styles:['body[_ngcontent-%COMP%]{color:#fff}mat-icon[_ngcontent-%COMP%]{font-size:44px}h5[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}li[_ngcontent-%COMP%]{display:inline}ul[_ngcontent-%COMP%]{text-align:center}#fbmsg[_ngcontent-%COMP%]{color:#000;margin-left:30%;margin-right:20%;border-radius:40px 400px;display:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}img[_ngcontent-%COMP%]{image-rendering:pixelated}']}),n})();function sF(n,e){1&n&&(u.TgZ(0,"mat-icon"),u._uU(1,"home"),u.qZA(),u._uU(2,"Home "))}function cI(n,e){1&n&&u._uU(0," My Bio ")}function tR(n,e){1&n&&u._uU(0," \u260e\ufe0f Contact ")}let uI=(()=>{class n{constructor(t){this.dialog=t,this.title="praveen",setTimeout(()=>{this.login()},1e3)}login(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(op))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:19,vars:1,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[3,"selectedIndex"],["mat-tab-label",""]],template:function(t,r){1&t&&(u.TgZ(0,"html",0),u.TgZ(1,"head"),u._UZ(2,"meta",1),u._UZ(3,"meta",2),u._UZ(4,"meta",3),u.TgZ(5,"title"),u._uU(6," Praveen"),u.qZA(),u.qZA(),u.TgZ(7,"body"),u.TgZ(8,"mat-tab-group",4),u.TgZ(9,"mat-tab"),u.YNc(10,sF,3,0,"ng-template",5),u._UZ(11,"app-home"),u.qZA(),u.TgZ(12,"mat-tab"),u.YNc(13,cI,1,0,"ng-template",5),u._UZ(14,"app-bio"),u.qZA(),u.TgZ(15,"mat-tab"),u.YNc(16,tR,1,0,"ng-template",5),u._UZ(17,"app-contact"),u.qZA(),u.qZA(),u.qZA(),u._UZ(18,"router-outlet"),u.qZA()),2&t&&(u.xp6(8),u.Q6J("selectedIndex",0))},directives:[Sx,xT,Cx,lI,Lm,bb,Kd,Nm],styles:['.mat-tab{position:fixed}.mat-tab-header{position:fixed}.mat-tab-label{position:fixed;background-color:transparent;color:#000;font-weight:800;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif}.mat-tab-label.mat-tab-label-active{width:30%;background-color:transparent;color:#1a73e8;font-weight:700}img{image-rendering:pixelated}body{background-color:#fff}\n'],encapsulation:2}),n})(),uR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[qv,tr],qv,tr]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[hR,tr],tr]}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[wt,tr],tr]}),n})(),Hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[F0,Du,ns,vI,tr],tr]}),n})(),wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ns]]}),n})(),SR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ns,tr,SR,Du]]}),n})();var jo=F(8939);function SI(n,e){return e?Pr(()=>n,e):Pr(()=>n)}var Vb=F(9673),ai=F(5761);F(2329);var Ce=F(8239),wh=F(8026),pp=F(3910),qt=F(3854),Cc=F(5422);const kI=new Map,VR={activated:!1,tokenObservers:[]},UR={initialized:!1,enabled:!1};function Br(n){return kI.get(n)||VR}function Na(n,e){kI.set(n,e)}function jb(){return UR}class jR{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new qt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $i=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tc(n){if(!Br(n).activated)throw $i.create("use-before-activation",{appName:n.name})}function zb(n,e){return Th.apply(this,arguments)}function Th(){return(Th=(0,Ce.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,p;try{h=yield fetch(n,l)}catch(x){throw $i.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==h.status)throw $i.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(x){throw $i.create("fetch-parse-error",{originalErrorMessage:x.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw $i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const C=1e3*Number(v[1]),S=Date.now();return{token:p.attestationToken,expireTimeMillis:S+C,issuedAtTimeMillis:S}})).apply(this,arguments)}function NI(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const _p="firebase-app-check-store";let Wb=null;function yp(){return Wb||(Wb=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e($i.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(_p,{keyPath:"compositeKey"})}}}catch(t){e($i.create("storage-open",{originalErrorMessage:t.message}))}}),Wb)}function Zb(){return(Zb=(0,Ce.Z)(function*(n,e){const r=(yield yp()).transaction(_p,"readwrite"),l=r.objectStore(_p).put({compositeKey:n,value:e});return new Promise((h,p)=>{l.onsuccess=v=>{h()},r.onerror=v=>{var C;p($i.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const qm=new Cc.Yd("@firebase/app-check");function UI(n,e){return(0,qt.hl)()?function(n,e){return function(n,e){return Zb.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function HI(){return jb().enabled}function $I(){return Qb.apply(this,arguments)}function Qb(){return(Qb=(0,Ce.Z)(function*(){const n=jb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const WR={error:"UNKNOWN_ERROR"};function Ho(n){return qt.US.encodeString(JSON.stringify(n),!1)}function Wm(n){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,Ce.Z)(function*(n,e=!1){const t=n.app;Tc(t);const r=Br(t);let l,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&Zm(v)&&(o=v)}if(!e&&o&&Zm(o))return{token:o.token};let p,h=!1;if(HI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zb(NI(t,yield $I()),n.platformLoggerProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),h=!0);const v=yield r.exchangeTokenPromise;return yield UI(t,v),Na(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?qm.warn(v.message):qm.error(v),l=v}return o?(p={token:o.token},Na(t,Object.assign(Object.assign({},r),{token:o})),yield UI(t,o)):p=vp(l),h&&GI(t,p),p})).apply(this,arguments)}function eE(n,e){const t=Br(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Na(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ZR(n){const{app:e}=n,t=Br(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new jR((0,Ce.Z)(function*(){let r;if(r=Br(e).token?yield Wm(n,!0):yield Wm(n),r.error)throw r.error}),()=>!0,()=>{const t=Br(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Na(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function GI(n,e){const t=Br(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Zm(n){return n.expireTimeMillis-Date.now()>0}function vp(n){return{token:Ho(WR),error:n}}class zI{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Br(this.app);for(const t of e)eE(this.app,t.next);return Promise.resolve()}}const QI="app-check-internal";(0,wh._registerComponent)(new pp.wA("app-check",n=>function(n,e){return new zI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QI).initialize()})),(0,wh._registerComponent)(new pp.wA(QI,n=>function(n){return{getToken:e=>Wm(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,l=Br(o),h={next:t,error:r,type:e};if(Na(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Zm(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),ZR(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>ZR(n))}(n,"INTERNAL",e),removeTokenListener:e=>eE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wh.registerVersion)("@firebase/app-check","0.5.2");class dE{constructor(){return(0,ai.vb)("app-check")}}"undefined"!=typeof window&&window;var pE=F(7841);const tD=new u.OlP("angularfire2.auth.use-emulator"),nD=new u.OlP("angularfire2.auth.settings"),wl=new u.OlP("angularfire2.auth.tenant-id"),Dh=new u.OlP("angularfire2.auth.langugage-code"),Jm=new u.OlP("angularfire2.auth.use-device-language"),rD=new u.OlP("angularfire.auth.persistence"),iD=(n,e,t,r,o,l,h,p)=>(0,jo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,l&&v.useDeviceLanguage(),h)for(const[C,S]of Object.entries(h))v.settings[C]=S;return p&&v.setPersistence(p),v},[t,r,o,l,h,p]);let Xm=(()=>{class n{constructor(t,r,o,l,h,p,v,C,S,x,$,H){const te=new Je.xQ,me=(0,Ue.of)(void 0).pipe((0,Rg.QV)(h.outsideAngular),Pr(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,gt.U)(()=>(0,jo.on)(t,l,r)),(0,gt.U)(Se=>iD(Se,l,p,C,S,x,v,$)),Dy({bufferSize:1,refCount:!1}));if(Jo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{me.pipe(qn()).subscribe();const $e=me.pipe(Pr(dt=>dt.getRedirectResult().then(Fn=>Fn,()=>null)),ai.iC,Dy({bufferSize:1,refCount:!1})),at=me.pipe(Pr(dt=>new St.y(Fn=>({unsubscribe:l.runOutsideAngular(()=>dt.onAuthStateChanged(yr=>Fn.next(yr),yr=>Fn.error(yr),()=>Fn.complete()))})))),Nt=me.pipe(Pr(dt=>new St.y(Fn=>({unsubscribe:l.runOutsideAngular(()=>dt.onIdTokenChanged(yr=>Fn.next(yr),yr=>Fn.error(yr),()=>Fn.complete()))}))));this.authState=$e.pipe(SI(at),(0,Vb.R)(h.outsideAngular),(0,Rg.QV)(h.insideAngular)),this.user=$e.pipe(SI(Nt),(0,Vb.R)(h.outsideAngular),(0,Rg.QV)(h.insideAngular)),this.idToken=this.user.pipe(Pr(dt=>dt?(0,kn.D)(dt.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe(Pr(dt=>dt?(0,kn.D)(dt.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,dc.T)($e,te,this.authState.pipe(Bn(dt=>!dt))).pipe((0,gt.U)(dt=>(null==dt?void 0:dt.user)?dt:null),(0,Vb.R)(h.outsideAngular),(0,Rg.QV)(h.insideAngular))}return(0,jo.pX)(this,me,l,{spy:{apply:(Se,$e,at)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&at.then(Nt=>te.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jo.Dh),u.LFG(jo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ai.HU),u.LFG(tD,8),u.LFG(nD,8),u.LFG(wl,8),u.LFG(Dh,8),u.LFG(Jm,8),u.LFG(rD,8),u.LFG(dE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gE=(()=>{class n{constructor(){pE.Z.registerVersion("angularfire",ai.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Xm]}),n})();F(4828);var Ze,sD=F(3394),oD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Cl={},mE=mE||{},ht=oD||self;function Ic(){}function Dc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Sc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _E="closure_uid_"+(1e9*Math.random()>>>0),ik=0;function sk(n,e,t){return n.call.apply(n.bind,arguments)}function aD(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function zr(n,e,t){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sk:aD).apply(null,arguments)}function Ep(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return e.prototype[o].apply(r,h)}}function Fa(){this.s=this.s,this.o=this.o}var ak={};Fa.prototype.s=!1,Fa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,_E)&&n[_E]||(n[_E]=++ik)}(this);delete ak[n]}},Fa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ac=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function lD(n){return Array.prototype.concat.apply([],arguments)}function bE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function EE(n){return/^[\s\xa0]*$/.test(n)}var zi,lk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ps(n,e){return-1!=n.indexOf(e)}function cD(n,e){return n<e?-1:n>e?1:0}e:{var uD=ht.navigator;if(uD){var ck=uD.userAgent;if(ck){zi=ck;break e}}zi=""}function dD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uk(n){const e={};for(const t in n)e[t]=n[t];return e}var dk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hD(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<dk.length;l++)t=dk[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function fD(n){return fD[" "](n),n}fD[" "]=Ic;var f,n,tL=ps(zi,"Opera"),wp=ps(zi,"Trident")||ps(zi,"MSIE"),i=ps(zi,"Edge"),s=i||wp,a=ps(zi,"Gecko")&&!(ps(zi.toLowerCase(),"webkit")&&!ps(zi,"Edge"))&&!(ps(zi,"Trident")||ps(zi,"MSIE"))&&!ps(zi,"Edge"),c=ps(zi.toLowerCase(),"webkit")&&!ps(zi,"Edge");function d(){var n=ht.document;return n?n.documentMode:void 0}e:{var m="",y=(n=zi,a?/rv:([^\);]+)(\)|;)/.exec(n):i?/Edge\/([\d\.]+)/.exec(n):wp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):c?/WebKit\/(\S+)/.exec(n):tL?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(y&&(m=y?y[1]:""),wp){var E=d();if(null!=E&&E>parseFloat(m)){f=String(E);break e}}f=m}var I={};function A(){return e=I,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=lk(String(f)).split("."),t=lk("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=cD(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||cD(0==o[2].length,0==l[2].length)||cD(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var e}var G=ht.document&&wp&&(d()||parseInt(f,10))||void 0,Q=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ht.addEventListener("test",Ic,e),ht.removeEventListener("test",Ic,e)}catch(t){}return n}();function de(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function se(n,e){if(de.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(a){e:{try{fD(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ke[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&se.Z.h.call(this)}}de.prototype.h=function(){this.defaultPrevented=!0},qr(se,de);var ke={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),tt=0;function vt(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++tt,this.ca=this.fa=!1}function Vt(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function cr(n){this.src=n,this.g={},this.h=0}function gs(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=yE(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Vt(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Zu(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}cr.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Zu(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new vt(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var Mc="closure_lm_"+(1e6*Math.random()|0),xc={};function Yu(n,e,t,r,o){if(r&&r.once)return t_(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Yu(n,e[l],t,r,o);return null}return t=pk(t),n&&n[ye]?n.N(e,t,Sc(r)?!!r.capture:!!r,o):e_(n,e,t,!1,r,o)}function e_(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Sc(o)?!!o.capture:!!o,p=hk(n);if(p||(n[Mc]=p=new cr(n)),(t=p.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=GU;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Q||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(nL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function t_(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)t_(n,e[l],t,r,o);return null}return t=pk(t),n&&n[ye]?n.O(e,t,Sc(r)?!!r.capture:!!r,o):e_(n,e,t,!0,r,o)}function n_(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)n_(n,e[l],t,r,o);else r=Sc(r)?!!r.capture:!!r,t=pk(t),n&&n[ye]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Zu(l=n.g[e],t,r,o))&&(Vt(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=hk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Zu(e,t,r,o)),(t=-1<n?e[n]:null)&&Cp(t))}function Cp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ye])gs(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=hk(e))?(gs(t,n),0==t.h&&(t.src=null,e[Mc]=null)):Vt(n)}}}function nL(n){return n in xc?xc[n]:xc[n]="on"+n}function GU(n,e){if(n.ca)n=!0;else{e=new se(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Cp(n),n=t.call(r,e)}return n}function hk(n){return(n=n[Mc])instanceof cr?n:null}var fk="__closure_events_fn_"+(1e9*Math.random()>>>0);function pk(n){return"function"==typeof n?n:(n[fk]||(n[fk]=function(e){return n.handleEvent(e)}),n[fk])}function wi(){Fa.call(this),this.i=new cr(this),this.P=this,this.I=null}function qi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new de(e,n);else if(e instanceof de)e.target=e.target||n;else{var o=e;hD(e=new de(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=pD(h,r,!0,e)&&o}if(o=pD(h=e.g=n,r,!0,e)&&o,o=pD(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=pD(h=e.g=t[l],r,!1,e)&&o}function pD(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var p=h.listener,v=h.ia||h.src;h.fa&&gs(n.i,h),o=!1!==p.call(v,r)&&o}}return o&&!r.defaultPrevented}qr(wi,Fa),wi.prototype[ye]=!0,wi.prototype.removeEventListener=function(n,e,t,r){n_(this,n,e,t,r)},wi.prototype.M=function(){if(wi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Vt(t[r]);delete n.g[e],n.h--}}this.I=null},wi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var gk=ht.JSON.stringify;function zU(){var n=iL;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _k,rL=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new WU,n=>n.reset());class WU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ZU(n){ht.setTimeout(()=>{throw n},0)}function mk(n,e){_k||function(){var n=ht.Promise.resolve(void 0);_k=function(){n.then(KU)}}(),yk||(_k(),yk=!0),iL.add(n,e)}var yk=!1,iL=new class{constructor(){this.h=this.g=null}add(e,t){const r=rL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function KU(){for(var n;n=zU();){try{n.h.call(n.g)}catch(t){ZU(t)}var e=rL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}yk=!1}function gD(n,e){wi.call(this),this.h=n||1,this.g=e||ht,this.j=zr(this.kb,this),this.l=Date.now()}function vk(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bk(n,e,t){if("function"==typeof n)t&&(n=zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:ht.setTimeout(n,e||0)}function sL(n){n.g=bk(()=>{n.g=null,n.i&&(n.i=!1,sL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(gD,wi),(Ze=gD.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qi(this,"tick"),this.da&&(vk(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){gD.Z.M.call(this),vk(this),delete this.g};class QU extends Fa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sL(this)}M(){super.M(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function CE(n){Fa.call(this),this.h=n,this.g={}}qr(CE,Fa);var oL=[];function aL(n,e,t,r){Array.isArray(t)||(t&&(oL[0]=t.toString()),t=oL);for(var o=0;o<t.length;o++){var l=Yu(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function lL(n){dD(n.g,function(e,t){this.g.hasOwnProperty(t)&&Cp(e)},n),n.g={}}function mD(){this.g=!0}function r_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return gk(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}CE.prototype.M=function(){CE.Z.M.call(this),lL(this)},CE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mD.prototype.Aa=function(){this.g=!1},mD.prototype.info=function(){};var Tp={},cL=null;function _D(){return cL=cL||new wi}function uL(n){de.call(this,Tp.Ma,n)}function TE(n){const e=_D();qi(e,new uL(e,n))}function dL(n,e){de.call(this,Tp.STAT_EVENT,n),this.stat=e}function Hs(n){const e=_D();qi(e,new dL(e,n))}function hL(n,e){de.call(this,Tp.Na,n),this.size=e}function IE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){n()},e)}Tp.Ma="serverreachability",qr(uL,de),Tp.STAT_EVENT="statevent",qr(dL,de),Tp.Na="timingevent",qr(hL,de);var yD={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ek(){}function gL(){}Ek.prototype.h=null;var Tk,DE={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wk(){de.call(this,"d")}function Ck(){de.call(this,"c")}function vD(){}function SE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new CE(this),this.P=nj,this.W=new gD(n=s?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mL}function mL(){this.i=null,this.g="",this.h=!1}qr(wk,de),qr(Ck,de),qr(vD,Ek),vD.prototype.g=function(){return new XMLHttpRequest},vD.prototype.i=function(){return{}},Tk=new vD;var nj=45e3,Ik={},bD={};function Dk(n,e,t){n.K=1,n.v=ID(Ku(e)),n.s=t,n.U=!0,_L(n,null)}function _L(n,e){n.F=Date.now(),AE(n),n.A=Ku(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),DL(t.h,"t",r),n.C=0,t=n.l.H,n.h=new mL,n.g=YL(n.l,t?e:null,!n.s),0<n.O&&(n.L=new QU(zr(n.Ia,n,n.g),n.O)),aL(n.V,n.g,"readystatechange",n.gb),e=n.H?uk(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),TE(1),function(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",p=l.split("&"),v=0;v<p.length;v++){var C=p[v].split("=");if(1<C.length){var S=C[0];C=C[1];var x=S.split("_");h=2<=x.length&&"type"==x[1]?h+(S+"=")+C+"&":h+(S+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function yL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vL(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=rj(n,t),o==bD){4==e&&(n.o=4,Hs(14),r=!1),r_(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ik){n.o=4,Hs(15),r_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}r_(n.j,n.m,o,null),Sk(n,o)}yL(n)&&o!=bD&&o!=Ik&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Bk(e),e.L=!0,Hs(11))):(r_(n.j,n.m,t,"[Invalid Chunked Response]"),Ip(n),ME(n))}function rj(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?bD:(t=Number(e.substring(t,r)),isNaN(t)?Ik:(r+=1)+t>e.length?bD:(e=e.substr(r,t),n.C=r+t,e))}function AE(n){n.Y=Date.now()+n.P,bL(n,n.P)}function bL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=IE(zr(n.eb,n),e)}function ED(n){n.B&&(ht.clearTimeout(n.B),n.B=null)}function ME(n){0==n.l.G||n.I||zL(n.l,n)}function Ip(n){ED(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,vk(n.W),lL(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Sk(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||xk(t.i,n)))if(t.I=n.N,!n.J&&xk(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=IE(zr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;RD(t),MD(t)}Lk(t),Hs(18)}if(1>=ML(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Ap(t,11)}else if((n.J||t.g==n)&&RD(t),!EE(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const S=C[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const x=C[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const $=C[5];null!=$&&"number"==typeof $&&0<$&&(t.K=r=1.5*$,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const te=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var l=r.i;!l.g&&(ps(te,"spdy")||ps(te,"quic")||ps(te,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Rk(l,l.h),l.h=null))}if(r.D){const me=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.sa=me,ur(r.F,r.D,me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=ZL(r,r.H?r.la:null,r.W),h.J){xL(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(ED(p),AE(p)),r.g=h}else $L(r);0<t.l.length&&xD(t)}else"stop"!=C[0]&&"close"!=C[0]||Ap(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Ap(t,7):Nk(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}TE(4)}catch(C){}}function Ak(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Dc(n)||"string"==typeof n)Ac(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Dc(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Dc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function i_(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof i_)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Mk(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Dp(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Dp(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Dp(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ze=SE.prototype).setTimeout=function(n){this.P=n},Ze.gb=function(n){n=n.target;const e=this.L;e&&3==Qu(n)?e.l():this.Ia(n)},Ze.Ia=function(n){try{if(n==this.g)e:{const S=Qu(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>S)&&(3!=S||s||this.g&&(this.h.h||this.g.ga()||BL(this.g)))){this.I||4!=S||7==e||TE(8==e||0>=x?3:2),ED(this);var t=this.g.ba();this.N=t;t:if(yL(this)){var r=BL(this.g);n="";var o=r.length,l=4==Qu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ip(this),ME(this);var h="";break t}this.h.i=new ht.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!EE(p)){var C=p;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Hs(12),Ip(this),ME(this);break e}r_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sk(this,t)}this.U?(vL(this,S,h),s&&this.i&&3==S&&(aL(this.V,this.W,"tick",this.fb),this.W.start())):(r_(this.j,this.m,h,null),Sk(this,h)),4==S&&Ip(this),this.i&&!this.I&&(4==S?zL(this.l,this):(this.i=!1,AE(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Hs(12)):(this.o=0,Hs(13)),Ip(this),ME(this)}}}catch(S){}},Ze.fb=function(){if(this.g){var n=Qu(this.g),e=this.g.ga();this.C<e.length&&(ED(this),vL(this,n,e),this.i&&4!=n&&AE(this))}},Ze.cancel=function(){this.I=!0,Ip(this)},Ze.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(TE(3),Hs(17)),Ip(this),this.o=2,ME(this)):bL(this,this.Y-n)},(Ze=i_.prototype).R=function(){Mk(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ze.T=function(){return Mk(this),this.g.concat()},Ze.get=function(n,e){return Dp(this.h,n)?this.h[n]:e},Ze.set=function(n,e){Dp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ze.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var EL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sp(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Sp){this.g=void 0!==e?e:n.g,wD(this,n.j),this.s=n.s,CD(this,n.i),TD(this,n.m),this.l=n.l,e=n.h;var t=new kE;t.i=e.i,e.g&&(t.g=new i_(e.g),t.h=e.h),wL(this,t),this.o=n.o}else n&&(t=String(n).match(EL))?(this.g=!!e,wD(this,t[1]||"",!0),this.s=xE(t[2]||""),CD(this,t[3]||"",!0),TD(this,t[4]),this.l=xE(t[5]||"",!0),wL(this,t[6]||"",!0),this.o=xE(t[7]||"")):(this.g=!!e,this.h=new kE(null,this.g))}function Ku(n){return new Sp(n)}function wD(n,e,t){n.j=t?xE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function CD(n,e,t){n.i=t?xE(e,!0):e}function TD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wL(n,e,t){e instanceof kE?(n.h=e,function(n,e){e&&!n.j&&(Ah(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(TL(this,r),DL(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=RE(e,dj)),n.h=new kE(e,n.g))}function ur(n,e,t){n.h.set(e,t)}function ID(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function RE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Sp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(RE(e,CL,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(RE(e,CL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(RE(t,"/"==t.charAt(0)?uj:cj,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",RE(t,hj)),n.join("")};var CL=/[#\/\?@]/g,cj=/[#\?:]/g,uj=/[#\?]/g,dj=/[#\?@]/g,hj=/#/g;function kE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ah(n){n.g||(n.g=new i_,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function TL(n,e){Ah(n),e=s_(n,e),Dp(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Dp((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Mk(n)))}function IL(n,e){return Ah(n),e=s_(n,e),Dp(n.g.h,e)}function DL(n,e,t){TL(n,e),0<t.length&&(n.i=null,n.g.set(s_(n,e),bE(t)),n.h+=t.length)}function s_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function SL(n){this.l=n||gj,n=ht.PerformanceNavigationTiming?0<(n=ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ht.g&&ht.g.Ea&&ht.g.Ea()&&ht.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=kE.prototype).add=function(n,e){Ah(this),this.i=null,n=s_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ze.forEach=function(n,e){Ah(this),this.g.forEach(function(t,r){Ac(t,function(o){n.call(e,o,r,this)},this)},this)},Ze.T=function(){Ah(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},Ze.R=function(n){Ah(this);var e=[];if("string"==typeof n)IL(this,n)&&(e=lD(e,this.g.get(s_(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=lD(e,n[t])}return e},Ze.set=function(n,e){return Ah(this),this.i=null,IL(this,n=s_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ze.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var gj=10;function AL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ML(n){return n.h?1:n.g?n.g.size:0}function xk(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Rk(n,e){n.g?n.g.add(e):n.h=e}function xL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function RL(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bE(n.i)}function kk(){}function mj(){this.g=new kk}function _j(n,e,t){const r=t||"";try{Ak(n,function(o,l){let h=o;Sc(o)&&(h=gk(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function DD(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function OE(n){this.l=n.$b||null,this.j=n.ib||!1}function SD(n,e){wi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ok,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SL.prototype.cancel=function(){if(this.i=RL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},kk.prototype.stringify=function(n){return ht.JSON.stringify(n,void 0)},kk.prototype.parse=function(n){return ht.JSON.parse(n,void 0)},qr(OE,Ek),OE.prototype.g=function(){return new SD(this.l,this.j)},OE.prototype.i=function(n){return function(){return n}}({}),qr(SD,wi);var Ok=0;function kL(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function PE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,NE(n)}function NE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ze=SD.prototype).open=function(n,e){if(this.readyState!=Ok)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,NE(this)},Ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ht).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,PE(this)),this.readyState=Ok},Ze.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,NE(this)),this.g&&(this.readyState=3,NE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ht.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kL(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?PE(this):NE(this),3==this.readyState&&kL(this)}},Ze.Ua=function(n){this.g&&(this.response=this.responseText=n,PE(this))},Ze.Ta=function(n){this.g&&(this.response=n,PE(this))},Ze.ha=function(){this.g&&PE(this)},Ze.setRequestHeader=function(n,e){this.v.append(n,e)},Ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(SD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vj=ht.JSON.parse;function Wr(n){wi.call(this),this.headers=new i_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OL,this.K=this.L=!1}qr(Wr,wi);var OL="",bj=/^https?$/i,Ej=["POST","PUT"];function Cj(n){return"content-type"==n.toLowerCase()}function PL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,NL(n),AD(n)}function NL(n){n.D||(n.D=!0,qi(n,"complete"),qi(n,"error"))}function FL(n){if(n.h&&void 0!==mE&&(!n.C[1]||4!=Qu(n)||2!=n.ba()))if(n.v&&4==Qu(n))bk(n.Fa,0,n);else if(qi(n,"readystatechange"),4==Qu(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var o=String(n.H).match(EL)[1]||null;if(!o&&ht.self&&ht.self.location){var l=ht.self.location.protocol;o=l.substr(0,l.length-1)}r=!bj.test(o?o.toLowerCase():"")}t=r}if(t)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var h=2<Qu(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",NL(n)}}finally{AD(n)}}}function AD(n,e){if(n.g){LL(n);const t=n.g,r=n.C[0]?Ic:null;n.g=null,n.C=null,e||qi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function LL(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ht.clearTimeout(n.A),n.A=null)}function Qu(n){return n.g?n.g.readyState:0}function BL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Pk(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return dD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ur(n,e,t))}function FE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function VL(n){this.za=0,this.l=[],this.h=new mD,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=FE("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=FE("baseRetryDelayMs",5e3,n),this.$a=FE("retryDelaySeedMs",1e4,n),this.Ya=FE("forwardChannelMaxRetries",2,n),this.ra=FE("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new SL(n&&n.concurrentRequestLimit),this.Ca=new mj,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Nk(n){if(UL(n),3==n.G){var e=n.V++,t=Ku(n.F);ur(t,"SID",n.J),ur(t,"RID",e),ur(t,"TYPE","terminate"),LE(n,t),(e=new SE(n,n.h,e,void 0)).K=2,e.v=ID(Ku(t)),t=!1,ht.navigator&&ht.navigator.sendBeacon&&(t=ht.navigator.sendBeacon(e.v.toString(),"")),!t&&ht.Image&&((new Image).src=e.v,t=!0),t||(e.g=YL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),AE(e)}WL(n)}function MD(n){n.g&&(Bk(n),n.g.cancel(),n.g=null)}function UL(n){MD(n),n.u&&(ht.clearTimeout(n.u),n.u=null),RD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ht.clearTimeout(n.m),n.m=null)}function Fk(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&xD(n)}function xD(n){AL(n.i)||n.m||(n.m=!0,mk(n.Ha,n),n.C=0)}function jL(n,e){var t;t=e?e.m:n.V++;const r=Ku(n.F);ur(r,"SID",n.J),ur(r,"RID",t),ur(r,"AID",n.U),LE(n,r),n.o&&n.s&&Pk(r,n.o,n.s),t=new SE(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=HL(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Rk(n.i,t),Dk(t,r,e)}function LE(n,e){n.j&&Ak({},function(t,r){ur(e,r,t)})}function HL(n,e,t){t=Math.min(n.l.length,t);var r=n.j?zr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let p=!0;for(let v=0;v<t;v++){let C=o[v].h;const S=o[v].g;if(C-=l,0>C)l=Math.max(0,o[v].h-100),p=!1;else try{_j(S,h,"req"+C+"_")}catch(x){r&&r(S)}}if(p){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function $L(n){n.g||n.u||(n.Y=1,mk(n.Ga,n),n.A=0)}function Lk(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=IE(zr(n.Ga,n),qL(n,n.A)),n.A++,0))}function Bk(n){null!=n.B&&(ht.clearTimeout(n.B),n.B=null)}function GL(n){n.g=new SE(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ku(n.oa);ur(e,"RID","rpc"),ur(e,"SID",n.J),ur(e,"CI",n.N?"0":"1"),ur(e,"AID",n.U),LE(n,e),ur(e,"TYPE","xmlhttp"),n.o&&n.s&&Pk(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ID(Ku(e)),t.s=null,t.U=!0,_L(t,n)}function RD(n){null!=n.v&&(ht.clearTimeout(n.v),n.v=null)}function zL(n,e){var t=null;if(n.g==e){RD(n),Bk(n),n.g=null;var r=2}else{if(!xk(n.i,e))return;t=e.D,xL(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;qi(r=_D(),new hL(r,t,e,o)),xD(n)}else $L(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(ML(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=IE(zr(n.Ha,n,e),qL(n,n.C)),n.C++,0)))}(n,e)||2==r&&Lk(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ap(n,5);break;case 4:Ap(n,10);break;case 3:Ap(n,6);break;default:Ap(n,2)}}function qL(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ap(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=zr(n.jb,n);t||(t=new Sp("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||wD(t,"https"),ID(t)),function(n,e){const t=new mD;if(ht.Image){const r=new Image;r.onload=Ep(DD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ep(DD,t,r,"TestLoadImage: error",!1,e),r.onabort=Ep(DD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ep(DD,t,r,"TestLoadImage: timeout",!1,e),ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hs(2);n.G=0,n.j&&n.j.va(e),WL(n),UL(n)}function WL(n){n.G=0,n.I=-1,n.j&&((0!=RL(n.i).length||0!=n.l.length)&&(n.i.i.length=0,bE(n.l),n.l.length=0),n.j.ua())}function ZL(n,e,t){let r=function(n){return n instanceof Sp?Ku(n):new Sp(n,void 0)}(t);if(""!=r.i)e&&CD(r,e+"."+r.i),TD(r,r.m);else{const o=ht.location;r=function(n,e,t,r){var o=new Sp(null,void 0);return n&&wD(o,n),e&&CD(o,e),t&&TD(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&dD(n.aa,function(o,l){ur(r,l,o)}),t=n.sa,(e=n.D)&&t&&ur(r,e,t),ur(r,"VER",n.ma),LE(n,r),r}function YL(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&n.Ba&&!n.qa?new OE({ib:!0}):n.qa)).L=n.H,e}function KL(){}function kD(){if(wp&&!(10<=Number(G)))throw Error("Environmental error: no available transport.")}function Go(n,e){wi.call(this),this.g=new VL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!EE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!EE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new o_(this)}function QL(n){wk.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JL(){Ck.call(this),this.status=1}function o_(n){this.g=n}(Ze=Wr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tk.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Tk),this.g.onreadystatechange=zr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void PL(this,l)}n=t||"";const o=new i_(this.headers);r&&Ak(r,function(l,h){o.set(h,l)}),r=function(n){e:{var e=Cj;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=ht.FormData&&n instanceof ht.FormData,!(0<=yE(Ej,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LL(this),0<this.B&&((this.K=function(n){return wp&&A()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zr(this.pa,this)):this.A=bk(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){PL(this,l)}},Ze.pa=function(){void 0!==mE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},Ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),AD(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),AD(this,!0)),Wr.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?FL(this):this.cb())},Ze.cb=function(){FL(this)},Ze.ba=function(){try{return 2<Qu(this)?this.g.status:-1}catch(n){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ze.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vj(e)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=VL.prototype).ma=8,Ze.G=1,Ze.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ze.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new SE(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=uk(l),hD(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HL(this,o,e),ur(t=Ku(this.F),"RID",n),ur(t,"CVER",22),this.D&&ur(t,"X-HTTP-Session-Id",this.D),LE(this,t),this.o&&l&&Pk(t,this.o,l),Rk(this.i,o),this.Ra&&ur(t,"TYPE","init"),this.ja?(ur(t,"$req",e),ur(t,"SID","null"),o.$=!0,Dk(o,t,null)):Dk(o,t,e),this.G=2}}else 3==this.G&&(n?jL(this,n):0==this.l.length||AL(this.i)||jL(this))},Ze.Ga=function(){if(this.u=null,GL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=IE(zr(this.bb,this),n)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hs(10),MD(this),GL(this))},Ze.ab=function(){null!=this.v&&(this.v=null,MD(this),Lk(this),Hs(19))},Ze.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Hs(2)):(this.h.info("Failed to ping google.com"),Hs(1))},(Ze=KL.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},kD.prototype.g=function(n,e){return new Go(n,e)},qr(Go,wi),Go.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),mk(zr(n.hb,n,e))),Hs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ZL(n,null,n.W),xD(n)},Go.prototype.close=function(){Nk(this.g)},Go.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Fk(this.g,e)}else this.v?((e={}).__data__=gk(n),Fk(this.g,e)):Fk(this.g,n)},Go.prototype.M=function(){this.g.j=null,delete this.j,Nk(this.g),delete this.g,Go.Z.M.call(this)},qr(QL,wk),qr(JL,Ck),qr(o_,KL),o_.prototype.xa=function(){qi(this.g,"a")},o_.prototype.wa=function(n){qi(this.g,new QL(n))},o_.prototype.va=function(n){qi(this.g,new JL(n))},o_.prototype.ua=function(){qi(this.g,"b")},kD.prototype.createWebChannel=kD.prototype.g,Go.prototype.send=Go.prototype.u,Go.prototype.open=Go.prototype.m,Go.prototype.close=Go.prototype.close,yD.NO_ERROR=0,yD.TIMEOUT=8,yD.HTTP_ERROR=6,fL.COMPLETE="complete",gL.EventType=DE,DE.OPEN="a",DE.CLOSE="b",DE.ERROR="c",DE.MESSAGE="d",wi.prototype.listen=wi.prototype.N,Wr.prototype.listenOnce=Wr.prototype.O,Wr.prototype.getLastError=Wr.prototype.La,Wr.prototype.getLastErrorCode=Wr.prototype.Da,Wr.prototype.getStatus=Wr.prototype.ba,Wr.prototype.getResponseJson=Wr.prototype.Qa,Wr.prototype.getResponseText=Wr.prototype.ga,Wr.prototype.send=Wr.prototype.ea;var Dj=Cl.createWebChannelTransport=function(){return new kD},Sj=Cl.getStatEventTarget=function(){return _D()},Vk=Cl.ErrorCode=yD,Aj=Cl.EventType=fL,Mj=Cl.Event=Tp,XL=Cl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xj=Cl.FetchXmlHttpFactory=OE,OD=Cl.WebChannel=gL,Rj=Cl.XhrIo=Wr;const eB="@firebase/firestore";class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let a_="9.5.0";const Mh=new Cc.Yd("@firebase/firestore");function Uk(){return Mh.logLevel}function Le(n,...e){if(Mh.logLevel<=Cc.in.DEBUG){const t=e.map(jk);Mh.debug(`Firestore (${a_}): ${n}`,...t)}}function Zr(n,...e){if(Mh.logLevel<=Cc.in.ERROR){const t=e.map(jk);Mh.error(`Firestore (${a_}): ${n}`,...t)}}function BE(n,...e){if(Mh.logLevel<=Cc.in.WARN){const t=e.map(jk);Mh.warn(`Firestore (${a_}): ${n}`,...t)}}function jk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${a_}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function It(n,e){n||ot()}function je(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tB{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Pj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class Nj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fj{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ci,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const C=h;e.enqueueRetryable((0,Ce.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},v=C=>{Le("FirebaseCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(Le("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ci)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Le("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new tB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new Wi(e)}}class Lj{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Bj{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Lj(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Vj(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}zo.T=-1;class nB{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Vj(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function sn(n,e){return n<e?-1:n>e?1:0}function l_(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function rB(n){return n+"\0"}class Ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ti.fromMillis(Date.now())}static fromDate(e){return Ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ti(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Ti(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function iB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class VE{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===VE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof VE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends VE{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const Uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends VE{construct(e,t,r){return new Zi(e,t,r)}static isValidIdentifier(e){return Uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new xe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if("\\"===p){if(o+1===e.length)throw new xe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new xe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===p?(h=!h,o++):"."!==p||h?(r+=p,o++):(l(),o++)}if(l(),h)throw new xe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(t)}static emptyPath(){return new Zi([])}}class c_{constructor(e){this.fields=e,e.sort(Zi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return l_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ii(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Ii(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const Hj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xh(n){if(It(!!n),"string"==typeof n){let e=0;const t=Hj.exec(n);if(It(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yr(n.seconds),nanos:Yr(n.nanos)}}function Yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function u_(n){return"string"==typeof n?Ii.fromBase64String(n):Ii.fromUint8Array(n)}function Hk(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function oB(n){const e=n.mapValue.fields.__previous_value__;return Hk(e)?oB(e):e}function UE(n){const e=xh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ti(e.seconds,e.nanos)}function xp(n){return null==n}function PD(n){return 0===n&&1/n==-1/0}function aB(n){return"number"==typeof n&&Number.isInteger(n)&&!PD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(Tn.fromString(e))}static fromName(e){return new rt(Tn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new Tn(e.slice()))}}function Rp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hk(n)?4:10:ot()}function Rc(n,e){const t=Rp(n);if(t!==Rp(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return UE(n).isEqual(UE(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=xh(r.timestampValue),h=xh(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,u_(n.bytesValue).isEqual(u_(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Yr(r.geoPointValue.latitude)===Yr(o.geoPointValue.latitude)&&Yr(r.geoPointValue.longitude)===Yr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yr(r.integerValue)===Yr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Yr(r.doubleValue),h=Yr(o.doubleValue);return l===h?PD(l)===PD(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return l_(n.arrayValue.values||[],e.arrayValue.values||[],Rc);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(iB(l)!==iB(h))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===h[p]||!Rc(l[p],h[p])))return!1;return!0}(n,e);default:return ot()}var o}function jE(n,e){return void 0!==(n.values||[]).find(t=>Rc(t,e))}function d_(n,e){const t=Rp(n),r=Rp(e);if(t!==r)return sn(t,r);switch(t){case 0:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Yr(o.integerValue||o.doubleValue),p=Yr(l.integerValue||l.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return lB(n.timestampValue,e.timestampValue);case 4:return lB(UE(n),UE(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(o,l){const h=u_(o),p=u_(l);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),p=l.split("/");for(let v=0;v<h.length&&v<p.length;v++){const C=sn(h[v],p[v]);if(0!==C)return C}return sn(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=sn(Yr(o.latitude),Yr(l.latitude));return 0!==h?h:sn(Yr(o.longitude),Yr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],p=l.values||[];for(let v=0;v<h.length&&v<p.length;++v){const C=d_(h[v],p[v]);if(C)return C}return sn(h.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},p=Object.keys(h),v=l.fields||{},C=Object.keys(v);p.sort(),C.sort();for(let S=0;S<p.length&&S<C.length;++S){const x=sn(p[S],C[S]);if(0!==x)return x;const $=d_(h[p[S]],v[C[S]]);if(0!==$)return $}return sn(p.length,C.length)}(n.mapValue,e.mapValue);default:throw ot()}}function lB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=xh(n),r=xh(e),o=sn(t.seconds,r.seconds);return 0!==o?o:sn(t.nanos,r.nanos)}function $k(n){return Gk(n)}function Gk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=xh(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?u_(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=Gk(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const p of o)h?h=!1:l+=",",l+=`${p}:${Gk(r.fields[p])}`;return l+"}"}(n.mapValue):ot();var e}function ND(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zk(n){return!!n&&"integerValue"in n}function qk(n){return!!n&&"arrayValue"in n}function cB(n){return!!n&&"nullValue"in n}function uB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function FD(n){return!!n&&"mapValue"in n}function HE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=HE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=HE(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!FD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=HE(t)}setAll(e){let t=Zi.emptyPath(),r={},o=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=p.popLast()}h?r[p.lastSegment()]=HE(h):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());FD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];FD(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Mp(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new ms(HE(this.value))}}function dB(n){const e=[];return Mp(n.fields,(t,r)=>{const o=new Zi([t]);if(FD(r)){const l=dB(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new c_(e)}class dr{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new dr(e,0,Ut.min(),ms.empty(),0)}static newFoundDocument(e,t,r){return new dr(e,1,t,r,0)}static newNoDocument(e,t){return new dr(e,2,t,ms.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,ms.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new dr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $j{constructor(e,t=null,r=[],o=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=p,this.A=null}}function hB(n,e=null,t=[],r=[],o=null,l=null,h=null){return new $j(n,e,t,r,o,l,h)}function $E(n){const e=je(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+$k(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),xp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=VD(e.startAt)),e.endAt&&(t+="|ub:",t+=VD(e.endAt)),e.A=t}return e.A}function LD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Xj(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Rc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gB(n.startAt,e.startAt)&&gB(n.endAt,e.endAt)}function BD(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class $s extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new qj(e,t,r):"array-contains"===t?new Yj(e,r):"in"===t?new Kj(e,r):"not-in"===t?new Qj(e,r):"array-contains-any"===t?new Jj(e,r):new $s(e,t,r)}static R(e,t,r){return"in"===t?new Wj(e,r):new Zj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(d_(t,this.value)):null!==t&&Rp(this.value)===Rp(t)&&this.P(d_(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qj extends $s{constructor(e,t,r){super(e,t,r),this.key=rt.fromName(r.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.P(t)}}class Wj extends $s{constructor(e,t){super(e,"in",t),this.keys=fB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zj extends $s{constructor(e,t){super(e,"not-in",t),this.keys=fB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>rt.fromName(r.referenceValue))}class Yj extends $s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qk(t)&&jE(t.arrayValue,this.value)}}class Kj extends $s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jE(this.value.arrayValue,t)}}class Qj extends $s{constructor(e,t){super(e,"not-in",t)}matches(e){if(jE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jE(this.value.arrayValue,t)}}class Jj extends $s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qk(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>jE(this.value.arrayValue,r))}}class GE{constructor(e,t){this.position=e,this.before=t}}function VD(n){return`${n.before?"b":"a"}:${n.position.map(e=>$k(e)).join(",")}`}class h_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function pB(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?rt.comparator(rt.fromName(h.referenceValue),t.key):d_(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function gB(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rc(n.position[t],e.position[t]))return!1;return!0}class Ju{constructor(e,t=null,r=[],o=[],l=null,h="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=v,this.V=null,this.S=null}}function mB(n,e,t,r,o,l,h,p){return new Ju(n,e,t,r,o,l,h,p)}function f_(n){return new Ju(n)}function UD(n){return!xp(n.limit)&&"F"===n.limitType}function jD(n){return!xp(n.limit)&&"L"===n.limitType}function Wk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zk(n){for(const e of n.filters)if(e.v())return e.field;return null}function Yk(n){return null!==n.collectionGroup}function p_(n){const e=je(n);if(null===e.V){e.V=[];const t=Zk(e),r=Wk(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new h_(t)),e.V.push(new h_(Zi.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new h_(Zi.keyField(),l))}}}return e.V}function La(n){const e=je(n);if(!e.S)if("F"===e.limitType)e.S=hB(e.path,e.collectionGroup,p_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of p_(e))t.push(new h_(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new GE(e.endAt.position,!e.endAt.before):null,o=e.startAt?new GE(e.startAt.position,!e.startAt.before):null;e.S=hB(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.S}function _B(n,e,t){return new Ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zE(n,e){return LD(La(n),La(e))&&n.limitType===e.limitType}function yB(n){return`${$E(La(n))}|lt:${n.limitType}`}function Kk(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${$k(r.value)}`;var r}).join(", ")}]`),xp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+VD(n.startAt)),n.endAt&&(e+=", endAt: "+VD(n.endAt)),`Target(${e})`}(La(n))}; limitType=${n.limitType})`}function qE(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):rt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!pB(t.startAt,p_(t),r)||t.endAt&&pB(t.endAt,p_(t),r)));var t,r}function vB(n){return(e,t)=>{let r=!1;for(const o of p_(n)){const l=eH(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function eH(n,e,t){const r=n.field.isKeyField()?rt.comparator(e.key,t.key):function(o,l,h){const p=l.data.field(o),v=h.data.field(o);return null!==p&&null!==v?d_(p,v):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function bB(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:PD(e)?"-0":e}}function EB(n){return{integerValue:""+n}}function wB(n,e){return aB(e)?EB(e):bB(n,e)}class HD{constructor(){this._=void 0}}function tH(n,e,t){return n instanceof g_?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof kp?TB(n,e):n instanceof Op?IB(n,e):function(r,o){const l=CB(r,o),h=DB(l)+DB(r.C);return zk(l)&&zk(r.C)?EB(h):bB(r.N,h)}(n,e)}function nH(n,e,t){return n instanceof kp?TB(n,e):n instanceof Op?IB(n,e):t}function CB(n,e){return n instanceof m_?zk(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class g_ extends HD{}class kp extends HD{constructor(e){super(),this.elements=e}}function TB(n,e){const t=SB(e);for(const r of n.elements)t.some(o=>Rc(o,r))||t.push(r);return{arrayValue:{values:t}}}class Op extends HD{constructor(e){super(),this.elements=e}}function IB(n,e){let t=SB(e);for(const r of n.elements)t=t.filter(o=>!Rc(o,r));return{arrayValue:{values:t}}}class m_ extends HD{constructor(e,t){super(),this.N=e,this.C=t}}function DB(n){return Yr(n.integerValue||n.doubleValue)}function SB(n){return qk(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class WE{constructor(e,t){this.field=e,this.transform=t}}class iH{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $D(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class GD{}function sH(n,e,t){n instanceof ZE?function(r,o,l){const h=r.value.clone(),p=RB(r.fieldTransforms,o,l.transformResults);h.setAll(p),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Rh?function(r,o,l){if(!$D(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=RB(r.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(xB(r)),p.setAll(h),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Qk(n,e,t){var o;n instanceof ZE?function(r,o,l){if(!$D(r.precondition,o))return;const h=r.value.clone(),p=kB(r.fieldTransforms,l,o);h.setAll(p),o.convertToFoundDocument(MB(o),h).setHasLocalMutations()}(n,e,t):n instanceof Rh?function(r,o,l){if(!$D(r.precondition,o))return;const h=kB(r.fieldTransforms,l,o),p=o.data;p.setAll(xB(r)),p.setAll(h),o.convertToFoundDocument(MB(o),p).setHasLocalMutations()}(n,e,t):$D(n.precondition,o=e)&&o.convertToNoDocument(Ut.min())}function oH(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=CB(r.transform,o||null);null!=l&&(null==t&&(t=ms.empty()),t.set(r.field,l))}return t||null}function AB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&l_(t,r,(o,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof kp&&r instanceof kp||t instanceof Op&&r instanceof Op?l_(t.elements,r.elements,Rc):t instanceof m_&&r instanceof m_?Rc(t.C,r.C):t instanceof g_&&r instanceof g_);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function MB(n){return n.isFoundDocument()?n.version:Ut.min()}class ZE extends GD{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Rh extends GD{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function xB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RB(n,e,t){const r=new Map;It(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,p=e.data.field(l.field);r.set(l.field,nH(h,p,t[o]))}return r}function kB(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,tH(l,h,e))}return r}class YE extends GD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Jk extends GD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class aH{constructor(e){this.count=e}}var Qr,hn;function OB(n){switch(n){default:return ot();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function PB(n){if(void 0===n)return Zr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Qr.OK:return pe.OK;case Qr.CANCELLED:return pe.CANCELLED;case Qr.UNKNOWN:return pe.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return pe.INTERNAL;case Qr.UNAVAILABLE:return pe.UNAVAILABLE;case Qr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Qr.NOT_FOUND:return pe.NOT_FOUND;case Qr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Qr.ABORTED:return pe.ABORTED;case Qr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Qr.DATA_LOSS:return pe.DATA_LOSS;default:return ot()}}(hn=Qr||(Qr={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class li{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zD(this.root,e,this.comparator,!1)}getReverseIterator(){return new zD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zD(this.root,e,this.comparator,!0)}}class zD{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:Yi.RED,this.left=null!=o?o:Yi.EMPTY,this.right=null!=l?l:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Yi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Yi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NB(this.data.getIterator())}getIteratorFrom(e){return new NB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class NB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const lH=new li(rt.comparator);function Ba(){return lH}const cH=new li(rt.comparator);function Xk(){return cH}const uH=new li(rt.comparator);function FB(){return uH}const dH=new Ar(rt.comparator);function Nn(...n){let e=dH;for(const t of n)e=e.add(t);return e}const hH=new Ar(sn);function qD(){return hH}class KE{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,QE.createSynthesizedTargetChangeForCurrentChange(e,t)),new KE(Ut.min(),r,qD(),Ba(),Nn())}}class QE{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new QE(Ii.EMPTY_BYTE_STRING,t,Nn(),Nn(),Nn())}}class WD{constructor(e,t,r,o){this.k=e,this.removedTargetIds=t,this.key=r,this.$=o}}class LB{constructor(e,t){this.targetId=e,this.O=t}}class BB{constructor(e,t,r=Ii.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class VB{constructor(){this.F=0,this.M=jB(),this.L=Ii.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Nn(),t=Nn(),r=Nn();return this.M.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ot()}}),new QE(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=jB()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class fH{constructor(e){this.tt=e,this.et=new Map,this.nt=Ba(),this.st=UB(),this.it=new Ar(sn)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,o)=>{this.ht(o)&&t(o)})}ft(e){const t=e.targetId,r=e.O.count,o=this.dt(t);if(o){const l=o.target;if(BD(l))if(0===r){const h=new rt(l.path);this.ct(t,h,dr.newNoDocument(h,Ut.min()))}else It(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,h)=>{const p=this.dt(h);if(p){if(l.current&&BD(p.target)){const v=new rt(p.target.path);null!==this.nt.get(v)||this.gt(h,v)||this.ct(h,v,dr.newNoDocument(v,e))}l.K&&(t.set(h,l.W()),l.G())}});let r=Nn();this.st.forEach((l,h)=>{let p=!0;h.forEachWhile(v=>{const C=this.dt(v);return!C||2===C.purpose||(p=!1,!1)}),p&&(r=r.add(l))});const o=new KE(e,t,this.it,this.nt,r);return this.nt=Ba(),this.st=UB(),this.it=new Ar(sn),o}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,t)?o.H(t,1):o.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new VB,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Ar(sn),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new VB),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function UB(){return new li(rt.comparator)}function jB(){return new li(rt.comparator)}const pH={asc:"ASCENDING",desc:"DESCENDING"},gH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mH{constructor(e,t){this.databaseId=e,this.D=t}}function JE(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HB(n,e){return n.D?e.toBase64():e.toUint8Array()}function _H(n,e){return JE(n,e.toTimestamp())}function Di(n){return It(!!n),Ut.fromTimestamp(function(e){const t=xh(e);return new Ti(t.seconds,t.nanos)}(n))}function eO(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $B(n){const e=Tn.fromString(n);return It(t2(e)),e}function XE(n,e){return eO(n.databaseId,e.path)}function kc(n,e){const t=$B(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(zB(t))}function tO(n,e){return eO(n.databaseId,e)}function GB(n){const e=$B(n);return 4===e.length?Tn.emptyPath():zB(e)}function ew(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zB(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qB(n,e,t){return{name:XE(n,e),fields:t.value.mapValue.fields}}function WB(n,e,t){const r=kc(n,e.name),o=Di(e.updateTime),l=new ms({mapValue:{fields:e.fields}}),h=dr.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function ZD(n,e){let t;if(e instanceof ZE)t={update:qB(n,e.key,e.value)};else if(e instanceof YE)t={delete:XE(n,e.key)};else if(e instanceof Rh)t={update:qB(n,e.key,e.data),updateMask:DH(e.fieldMask)};else{if(!(e instanceof Jk))return ot();t={verify:XE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof g_)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof kp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Op)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof m_)return{fieldPath:l.field.canonicalString(),increment:h.C};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:_H(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}function ZB(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Kr.updateTime(Di(o.updateTime)):void 0!==o.exists?Kr.exists(o.exists):Kr.none():Kr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let p=null;"setToServerValue"in h?(It("REQUEST_TIME"===h.setToServerValue),p=new g_):"appendMissingElements"in h?p=new kp(h.appendMissingElements.values||[]):"removeAllFromArray"in h?p=new Op(h.removeAllFromArray.values||[]):"increment"in h?p=new m_(l,h.increment):ot();const v=Zi.fromServerFormat(h.fieldPath);return new WE(v,p)}(n,o)):[];var o;if(e.update){const o=kc(n,e.update.name),l=new ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new c_((e.updateMask.fieldPaths||[]).map(C=>Zi.fromServerFormat(C)));return new Rh(o,l,h,t,r)}return new ZE(o,l,t,r)}if(e.delete){const o=kc(n,e.delete);return new YE(o,t)}if(e.verify){const o=kc(n,e.verify);return new Jk(o,t)}return ot()}function YB(n,e){return{documents:[tO(n,e.path)]}}function KB(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=tO(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tO(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(p){if(0===p.length)return;const v=p.map(C=>function(S){if("=="===S.op){if(uB(S.value))return{unaryFilter:{field:__(S.field),op:"IS_NAN"}};if(cB(S.value))return{unaryFilter:{field:__(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(uB(S.value))return{unaryFilter:{field:__(S.field),op:"IS_NOT_NAN"}};if(cB(S.value))return{unaryFilter:{field:__(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__(S.field),op:CH(S.op),value:S.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(0!==p.length)return p.map(v=>{return{field:__((C=v).field),direction:wH(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(v=e.limit,n.D||xp(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=XB(e.startAt)),e.endAt&&(t.structuredQuery.endAt=XB(e.endAt)),t}function QB(n){let e=GB(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){It(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=JB(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(S=>{return new h_(y_((x=S).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(S){let x;return x="object"==typeof S?S.value:S,xp(x)?null:x}(t.limit));let v=null;t.startAt&&(v=e2(t.startAt));let C=null;return t.endAt&&(C=e2(t.endAt)),mB(e,o,h,l,p,"F",v,C)}function JB(n){return n?void 0!==n.unaryFilter?[IH(n)]:void 0!==n.fieldFilter?[TH(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>JB(e)).reduce((e,t)=>e.concat(t)):ot():[]}function XB(n){return{before:n.before,values:n.position}}function e2(n){return new GE(n.values||[],!!n.before)}function wH(n){return pH[n]}function CH(n){return gH[n]}function __(n){return{fieldPath:n.canonicalString()}}function y_(n){return Zi.fromServerFormat(n.fieldPath)}function TH(n){return $s.create(y_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function IH(n){switch(n.unaryFilter.op){case"IS_NAN":const e=y_(n.unaryFilter.field);return $s.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=y_(n.unaryFilter.field);return $s.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=y_(n.unaryFilter.field);return $s.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=y_(n.unaryFilter.field);return $s.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function DH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function t2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Tl(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=n2(e)),e=SH(n.get(t),e);return n2(e)}function SH(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function n2(n){return n+"\x01\x01"}function Xu(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&ot(),n.charAt(h+1)){case"\x01":const p=n.substring(l,h);let v;0===o.length?v=p:(o+=p,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:ot()}l=h+2}return new Tn(r)}class AH{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class qo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}qo.store="owner",qo.key="owner";class kh{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}kh.store="mutationQueues",kh.keyPath="userId";class rr{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}rr.store="mutations",rr.keyPath="batchId",rr.userMutationsIndex="userMutationsIndex",rr.userMutationsKeyPath=["userId","batchId"];class _s{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Tl(t)]}static key(e,t,r){return[e,Tl(t),r]}}_s.store="documentMutations",_s.PLACEHOLDER=new _s;class MH{constructor(e,t){this.path=e,this.readTime=t}}class xH{constructor(e,t){this.path=e,this.version=t}}class Mr{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}Mr.store="remoteDocuments",Mr.readTimeIndex="readTimeIndex",Mr.readTimeIndexPath="readTime",Mr.collectionReadTimeIndex="collectionReadTimeIndex",Mr.collectionReadTimeIndexPath=["parentPath","readTime"];class Oc{constructor(e){this.byteSize=e}}Oc.store="remoteDocumentGlobal",Oc.key="remoteDocumentGlobalKey";class uo{constructor(e,t,r,o,l,h,p){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=p}}uo.store="targets",uo.keyPath="targetId",uo.queryTargetsIndexName="queryTargetsIndex",uo.queryTargetsKeyPath=["canonicalId","targetId"];class Ki{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];class Wo{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}Wo.key="targetGlobalKey",Wo.store="targetGlobal";class Pp{constructor(e,t){this.collectionId=e,this.parent=t}}Pp.store="collectionParents",Pp.keyPath=["collectionId","parent"];class ed{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}ed.store="clientMetadata",ed.keyPath="clientId";class v_{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}v_.store="bundles",v_.keyPath="bundleId";class b_{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}b_.store="namedQueries",b_.keyPath="name";const RH=[kh.store,rr.store,_s.store,Mr.store,uo.store,qo.store,Wo.store,Ki.store,ed.store,Oc.store,Pp.store,v_.store,b_.store],r2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,r)=>{t(e)})}static reject(e){return new Me((t,r)=>{r(e)})}static waitFor(e){return new Me((t,r)=>{let o=0,l=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++l,h&&l===o&&t()},v=>r(v))}),h=!0,l===o&&t()})}static or(e){let t=Me.resolve(!1);for(const r of e)t=t.next(o=>o?Me.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class YD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Ci,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new tw(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=nO(r.target.error);this.Et.reject(new tw(e,o))}}static open(e,t,r,o){try{return new YD(t,e.transaction(o,r))}catch(l){throw new tw(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new OH(t)}}class Il{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===Il.Rt((0,qt.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Le("SimpleDb","Removing database:",e),Fp(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,qt.hl)())return!1;if(Il.Pt())return!0;const e=(0,qt.z$)(),t=Il.Rt(e),r=0<t&&t<10,o=Il.vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new tw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const p=h.target.error;o("VersionError"===p.name?new xe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new tw(e,p))},l.onupgradeneeded=h=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Ce.Z)(function*(){const h="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.Dt(e);const v=YD.open(l.db,e,h?"readonly":"readwrite",r),C=o(v).catch(S=>(v.abort(S),Me.reject(S))).toPromise();return C.catch(()=>{}),yield v.It,C}catch(v){const C="FirebaseError"!==v.name&&p<3;if(Le("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),l.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kH{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Fp(this.kt.delete())}}class tw extends xe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Np(n){return"IndexedDbTransactionError"===n.name}class OH{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Fp(r)}add(e){return Le("SimpleDb","ADD",this.store.name,e,e),Fp(this.store.add(e))}get(e){return Fp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Le("SimpleDb","DELETE",this.store.name,e),Fp(this.store.delete(e))}count(){return Le("SimpleDb","COUNT",this.store.name),Fp(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Bt(r,(l,h)=>{o.push(h)}).next(()=>o)}Ut(e,t){Le("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(l,h,p)=>p.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Bt(o,t)}jt(e){const t=this.cursor({});return new Me((r,o)=>{t.onerror=l=>{const h=nO(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(p=>{p?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Me((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const p=h.target.result;if(!p)return void o();const v=new kH(p),C=t(p.primaryKey,p.value,v);if(C instanceof Me){const S=C.catch(x=>(v.done(),Me.reject(x)));r.push(S)}v.isDone?o():null===v.Ft?p.continue():p.continue(v.Ft)}}).next(()=>Me.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fp(n){return new Me((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=nO(r.target.error);t(o)}})}let o2=!1;function nO(n){const e=Il.Rt((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return o2||(o2=!0,setTimeout(()=>{throw r},0)),r}}return n}class a2 extends s2{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ho(n,e){const t=je(n);return Il.St(t.Qt,e)}class rO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&sH(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Qk(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Qk(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Nn())}isEqual(e){return this.batchId===e.batchId&&l_(this.mutations,e.mutations,(t,r)=>AB(t,r))&&l_(this.baseMutations,e.baseMutations,(t,r)=>AB(t,r))}}class iO{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){It(e.mutations.length===r.length);let o=FB();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new iO(e,t,r,o)}}class Oh{constructor(e,t,r,o,l=Ut.min(),h=Ut.min(),p=Ii.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p}withSequenceNumber(e){return new Oh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Oh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class l2{constructor(e){this.Wt=e}}function sO(n,e){if(e.document)return WB(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=rt.fromSegments(e.noDocument.path),r=w_(e.noDocument.readTime),o=dr.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=rt.fromSegments(e.unknownDocument.path),r=w_(e.unknownDocument.version);return dr.newUnknownDocument(t,r)}return ot()}function c2(n,e,t){const r=oO(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:XE(p=n.Wt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:JE(p,v.version.toTimestamp())};return new Mr(null,null,l,e.hasCommittedMutations,r,o)}var p,v;if(e.isNoDocument()){const l=e.key.path.toArray(),h=E_(e.version),p=e.hasCommittedMutations;return new Mr(null,new MH(l,h),null,p,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=E_(e.version);return new Mr(new xH(l,h),null,null,!0,r,o)}return ot()}function oO(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function u2(n){const e=new Ti(n[0],n[1]);return Ut.fromTimestamp(e)}function E_(n){const e=n.toTimestamp();return new AH(e.seconds,e.nanoseconds)}function w_(n){const e=new Ti(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function C_(n,e){const t=(e.baseMutations||[]).map(l=>ZB(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>ZB(n.Wt,l)),o=Ti.fromMillis(e.localWriteTimeMs);return new rO(e.batchId,o,t,r)}function nw(n){const e=w_(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?w_(n.lastLimboFreeSnapshotVersion):Ut.min();let r;var o;return void 0!==n.query.documents?(It(1===(o=n.query).documents.length),r=La(f_(GB(o.documents[0])))):r=La(QB(n.query)),new Oh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ii.fromBase64String(n.resumeToken))}function d2(n,e){const t=E_(e.snapshotVersion),r=E_(e.lastLimboFreeSnapshotVersion);let o;o=BD(e.target)?YB(n.Wt,e.target):KB(n.Wt,e.target);const l=e.resumeToken.toBase64();return new uo(e.targetId,$E(e.target),t,l,e.sequenceNumber,r,o)}function aO(n){const e=QB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_B(e,e.limit,"L"):e}class PH{getBundleMetadata(e,t){return h2(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:w_(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return h2(e).put({bundleId:(r=t).id,createTime:E_(Di(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return f2(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:aO(o.bundledQuery),readTime:w_(o.readTime)};var o})}saveNamedQuery(e,t){return f2(e).put({name:(r=t).name,readTime:E_(Di(r.readTime)),bundledQuery:r.bundledQuery});var r}}function h2(n){return ho(n,v_.store)}function f2(n){return ho(n,b_.store)}class NH{constructor(){this.Gt=new lO}addToCollectionParentIndex(e,t){return this.Gt.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.Gt.getEntries(t))}}class lO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ar(Tn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ar(Tn.comparator)).toArray()}}class FH{constructor(){this.zt=new lO}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:r,parent:Tl(o)};return p2(e).put(l)}return Me.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[rB(t),""],!1,!0);return p2(e).Lt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(Xu(h.parent))}return r})}}function p2(n){return ho(n,Pp.store)}const g2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function m2(n,e,t){const r=n.store(rr.store),o=n.store(_s.store),l=[],h=IDBKeyRange.only(t.batchId);let p=0;const v=r.Kt({range:h},(S,x,$)=>(p++,$.delete()));l.push(v.next(()=>{It(1===p)}));const C=[];for(const S of t.mutations){const x=_s.key(e,S.key.path,t.batchId);l.push(o.delete(x)),C.push(S.key)}return Me.waitFor(l).next(()=>C)}function KD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class cO{constructor(e,t,r,o){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(e,t,r,o){It(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new cO(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).Kt({index:rr.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=T_(e),h=Ph(e);return h.add({}).next(p=>{It("number"==typeof p);const v=new rO(p,t,r,o),C=function($,H,te){const me=te.baseMutations.map($e=>ZD($.Wt,$e)),Se=te.mutations.map($e=>ZD($.Wt,$e));return new rr(H,te.batchId,te.localWriteTime.toMillis(),me,Se)}(this.N,this.userId,v),S=[];let x=new Ar(($,H)=>sn($.canonicalString(),H.canonicalString()));for(const $ of o){const H=_s.key(this.userId,$.key.path,p);x=x.add($.key.path.popLast()),S.push(h.put(C)),S.push(l.put(H,_s.PLACEHOLDER))}return x.forEach($=>{S.push(this.Ht.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.Jt[p]=v.keys()}),Me.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return Ph(e).get(t).next(r=>r?(It(r.userId===this.userId),C_(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Me.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Jt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ph(e).Kt({index:rr.userMutationsIndex,range:o},(h,p,v)=>{p.userId===this.userId&&(It(p.batchId>=r),l=C_(this.N,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ph(e).Kt({index:rr.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).Lt(rr.userMutationsIndex,t).next(r=>r.map(o=>C_(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_s.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return T_(e).Kt({range:o},(h,p,v)=>{const[C,S,x]=h,$=Xu(S);if(C===this.userId&&t.path.isEqual($))return Ph(e).get(x).next(H=>{if(!H)throw ot();It(H.userId===this.userId),l.push(C_(this.N,H))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(sn);const o=[];return t.forEach(l=>{const h=_s.prefixForPath(this.userId,l.path),p=IDBKeyRange.lowerBound(h),v=T_(e).Kt({range:p},(C,S,x)=>{const[$,H,te]=C,me=Xu(H);$===this.userId&&l.path.isEqual(me)?r=r.add(te):x.done()});o.push(v)}),Me.waitFor(o).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=_s.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let p=new Ar(sn);return T_(e).Kt({range:h},(v,C,S)=>{const[x,$,H]=v,te=Xu($);x===this.userId&&r.isPrefixOf(te)?te.length===o&&(p=p.add(H)):S.done()}).next(()=>this.Zt(e,p))}Zt(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Ph(e).get(l).next(h=>{if(null===h)throw ot();It(h.userId===this.userId),r.push(C_(this.N,h))}))}),Me.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return m2(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Me.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Me.resolve();const r=IDBKeyRange.lowerBound(_s.prefixForUser(this.userId)),o=[];return T_(e).Kt({range:r},(l,h,p)=>{if(l[0]===this.userId){const v=Xu(l[1]);o.push(v)}else p.done()}).next(()=>{It(0===o.length)})})}containsKey(e,t){return _2(e,this.userId,t)}ee(e){return y2(e).get(this.userId).next(t=>t||new kh(this.userId,-1,""))}}function _2(n,e,t){const r=_s.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return T_(n).Kt({range:l,qt:!0},(p,v,C)=>{const[S,x,$]=p;S===e&&x===o&&(h=!0),C.done()}).next(()=>h)}function Ph(n){return ho(n,rr.store)}function T_(n){return ho(n,_s.store)}function y2(n){return ho(n,kh.store)}class Lp{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Lp(0)}static ie(){return new Lp(-1)}}class LH{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Lp(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Ut.fromTimestamp(new Ti(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.oe(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>I_(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return I_(e).Kt((h,p)=>{const v=nw(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,l.push(this.removeTargetData(e,v)))}).next(()=>Me.waitFor(l)).next(()=>o)}forEachTarget(e,t){return I_(e).Kt((r,o)=>{const l=nw(o);t(l)})}re(e){return v2(e).get(Wo.key).next(t=>(It(null!==t),t))}oe(e,t){return v2(e).put(Wo.key,t)}ce(e,t){return I_(e).put(d2(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=$E(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return I_(e).Kt({range:o,index:uo.queryTargetsIndexName},(h,p,v)=>{const C=nw(p);LD(t,C.target)&&(l=C,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Nh(e);return t.forEach(h=>{const p=Tl(h.path);o.push(l.put(new Ki(r,p))),o.push(this.referenceDelegate.addReference(e,r,h))}),Me.waitFor(o)}removeMatchingKeys(e,t,r){const o=Nh(e);return Me.forEach(t,l=>{const h=Tl(l.path);return Me.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Nh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Nh(e);let l=Nn();return o.Kt({range:r,qt:!0},(h,p,v)=>{const C=Xu(h[1]),S=new rt(C);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=Tl(t.path),o=IDBKeyRange.bound([r],[rB(r)],!1,!0);let l=0;return Nh(e).Kt({index:Ki.documentTargetsIndex,qt:!0,range:o},([h,p],v,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}Tt(e,t){return I_(e).get(t).next(r=>r?nw(r):null)}}function I_(n){return ho(n,uo.store)}function v2(n){return ho(n,Wo.store)}function Nh(n){return ho(n,Ki.store)}function Bp(n){return uO.apply(this,arguments)}function uO(){return(uO=(0,Ce.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==r2)throw n;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function b2([n,e],[t,r]){const o=sn(n,t);return 0===o?sn(e,r):o}class BH{constructor(e){this.ue=e,this.buffer=new Ar(b2),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();b2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VH{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ce.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Np(o)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Bp(o)}yield t._e(e)}))}}class UH{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Me.resolve(zo.T);const r=new BH(t);return this.me.forEachTarget(e,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(e,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(g2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g2):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,o,l,h,p,v,C;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,h=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),Uk()<=Cc.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-S}ms\n\tDetermined least recently used ${o} in `+(p-h)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${x} documents in `+(C-v)+`ms\nTotal Duration: ${C-S}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:x})))}}class jH{constructor(e,t){this.db=e,this.garbageCollector=new UH(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,o)=>t(o))}addReference(e,t,r){return QD(e,r)}removeReference(e,t,r){return QD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QD(e,t)}Ie(e,t){return function(r,o){let l=!1;return y2(r).jt(h=>_2(r,h,o).next(p=>(p&&(l=!0),Me.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ee(e,(h,p)=>{if(p<=t){const v=this.Ie(e,h).next(C=>{if(!C)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Nh(e).delete([0,Tl(h.path)])))});o.push(v)}}).next(()=>Me.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QD(e,t)}Ee(e,t){const r=Nh(e);let o,l=zo.T;return r.Kt({index:Ki.documentTargetsIndex},([h,p],{path:v,sequenceNumber:C})=>{0===h?(l!==zo.T&&t(new rt(Xu(o)),l),l=C,o=v):l=zo.T}).next(()=>{l!==zo.T&&t(new rt(Xu(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QD(n,e){return Nh(n).put((r=n.currentSequenceNumber,new Ki(0,Tl(e.path),r)));var r}class D_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Mp(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return sB(this.inner)}}class E2{constructor(){this.changes=new D_(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ut.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:dr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Me.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HH{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Fh(e).put(JD(t),r)}removeEntry(e,t){const r=Fh(e),o=JD(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Fh(e).get(JD(t)).next(r=>this.Re(t,r))}be(e,t){return Fh(e).get(JD(t)).next(r=>({document:this.Re(t,r),size:KD(r)}))}getEntries(e,t){let r=Ba();return this.Pe(e,t,(o,l)=>{const h=this.Re(o,l);r=r.insert(o,h)}).next(()=>r)}ve(e,t){let r=Ba(),o=new li(rt.comparator);return this.Pe(e,t,(l,h)=>{const p=this.Re(l,h);r=r.insert(l,p),o=o.insert(l,KD(h))}).next(()=>({documents:r,Ve:o}))}Pe(e,t,r){if(t.isEmpty())return Me.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return Fh(e).Kt({range:o},(p,v,C)=>{const S=rt.fromSegments(p);for(;h&&rt.comparator(h,S)<0;)r(h,null),h=l.getNext();h&&h.isEqual(S)&&(r(h,v),h=l.hasNext()?l.getNext():null),h?C.Mt(h.path.toArray()):C.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Ba();const l=t.path.length+1,h={};if(r.isEqual(Ut.min())){const p=t.path.toArray();h.range=IDBKeyRange.lowerBound(p)}else{const p=t.path.toArray(),v=oO(r);h.range=IDBKeyRange.lowerBound([p,v],!0),h.index=Mr.collectionReadTimeIndex}return Fh(e).Kt(h,(p,v,C)=>{if(p.length!==l)return;const S=sO(this.N,v);t.path.isPrefixOf(S.key.path)?qE(t,S)&&(o=o.insert(S.key,S)):C.done()}).next(()=>o)}newChangeBuffer(e){return new $H(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return w2(e).get(Oc.key).next(t=>(It(!!t),t))}Ae(e,t){return w2(e).put(Oc.key,t)}Re(e,t){if(t){const r=sO(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return dr.newInvalidDocument(e)}}class $H extends E2{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new D_(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Ar((l,h)=>sn(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const p=this.De.get(l);if(h.document.isValidDocument()){const v=c2(this.Se.N,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=KD(v)-p,t.push(this.Se.addEntry(e,l,v))}else if(r-=p,this.trackRemovals){const v=c2(this.Se.N,dr.newNoDocument(l,Ut.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,v))}else t.push(this.Se.removeEntry(e,l))}),o.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,r)),Me.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:o})=>(o.forEach((l,h)=>{this.De.set(l,h)}),r))}}function w2(n){return ho(n,Oc.store)}function Fh(n){return ho(n,Mr.store)}function JD(n){return n.path.toArray()}class GH{constructor(e){this.N=e}Ct(e,t,r,o){It(r<o&&r>=0&&o<=11);const l=new YD("createOrUpgrade",t);var p;r<1&&o>=1&&(e.createObjectStore(qo.store),(p=e).createObjectStore(kh.store,{keyPath:kh.keyPath}),p.createObjectStore(rr.store,{keyPath:rr.keyPath,autoIncrement:!0}).createIndex(rr.userMutationsIndex,rr.userMutationsKeyPath,{unique:!0}),p.createObjectStore(_s.store),C2(e),function(p){p.createObjectStore(Mr.store)}(e));let h=Me.resolve();return r<3&&o>=3&&(0!==r&&(function(p){p.deleteObjectStore(Ki.store),p.deleteObjectStore(uo.store),p.deleteObjectStore(Wo.store)}(e),C2(e)),h=h.next(()=>function(p){const v=p.store(Wo.store),C=new Wo(0,0,Ut.min().toTimestamp(),0);return v.put(Wo.key,C)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(p,v){return v.store(rr.store).Lt().next(C=>{p.deleteObjectStore(rr.store),p.createObjectStore(rr.store,{keyPath:rr.keyPath,autoIncrement:!0}).createIndex(rr.userMutationsIndex,rr.userMutationsKeyPath,{unique:!0});const S=v.store(rr.store),x=C.map($=>S.put($));return Me.waitFor(x)})}(e,l))),h=h.next(()=>{!function(p){p.createObjectStore(ed.store,{keyPath:ed.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ce(l))),r<6&&o>=6&&(h=h.next(()=>(function(p){p.createObjectStore(Oc.store)}(e),this.Ne(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.ke(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e),function(p){const v=p.objectStore(Mr.store);v.createIndex(Mr.readTimeIndex,Mr.readTimeIndexPath,{unique:!1}),v.createIndex(Mr.collectionReadTimeIndex,Mr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.$e(l))),r<11&&o>=11&&(h=h.next(()=>{(function(p){p.createObjectStore(v_.store,{keyPath:v_.keyPath})})(e),function(p){p.createObjectStore(b_.store,{keyPath:b_.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(Mr.store).Kt((r,o)=>{t+=KD(o)}).next(()=>{const r=new Oc(t);return e.store(Oc.store).put(Oc.key,r)})}Ce(e){const t=e.store(kh.store),r=e.store(rr.store);return t.Lt().next(o=>Me.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Lt(rr.userMutationsIndex,h).next(p=>Me.forEach(p,v=>{It(v.userId===l.userId);const C=C_(this.N,v);return m2(e,l.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(Ki.store),r=e.store(Mr.store);return e.store(Wo.store).get(Wo.key).next(o=>{const l=[];return r.Kt((h,p)=>{const v=new Tn(h),C=[0,Tl(v)];l.push(t.get(C).next(S=>S?Me.resolve():t.put(new Ki(0,Tl(v),o.highestListenSequenceNumber))))}).next(()=>Me.waitFor(l))})}ke(e,t){e.createObjectStore(Pp.store,{keyPath:Pp.keyPath});const r=t.store(Pp.store),o=new lO,l=h=>{if(o.add(h)){const p=h.lastSegment(),v=h.popLast();return r.put({collectionId:p,parent:Tl(v)})}};return t.store(Mr.store).Kt({qt:!0},(h,p)=>{const v=new Tn(h);return l(v.popLast())}).next(()=>t.store(_s.store).Kt({qt:!0},([h,p,v],C)=>{const S=Xu(p);return l(S.popLast())}))}$e(e){const t=e.store(uo.store);return t.Kt((r,o)=>{const l=nw(o),h=d2(this.N,l);return t.put(h)})}}function C2(n){n.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(uo.store,{keyPath:uo.keyPath}).createIndex(uo.queryTargetsIndexName,uo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Wo.store)}const dO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hO{constructor(e,t,r,o,l,h,p,v,C,S){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=h,this.document=p,this.Fe=C,this.Me=S,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!hO.bt())throw new xe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jH(this,o),this.We=t+"main",this.N=new l2(v),this.Ge=new Il(this.We,11,new GH(this.N)),this.ze=new LH(this.referenceDelegate,this.N),this.Ht=new FH,this.He=new HH(this.N,this.Ht),this.Je=new PH,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===S&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(pe.FAILED_PRECONDITION,dO);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new zo(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,Ce.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XD(e).put(new ed(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Np(e))return Le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return rw(e).get(qo.key).next(t=>Me.resolve(this.an(t)))}un(e){return XD(e).delete(this.clientId)}hn(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ho(r,ed.store);return o.Lt().next(l=>{const h=e.fn(l,18e5),p=l.filter(v=>-1===h.indexOf(v));return Me.forEach(p,v=>o.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Me.resolve(!0):rw(e).get(qo.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new xe(pe.FAILED_PRECONDITION,dO);return!1}}return!(!this.networkEnabled||!this.inForeground)||XD(e).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,p=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[qo.store,ed.store],t=>{const r=new a2(t,zo.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>XD(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return cO.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let l;return Le("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",RH,h=>(l=new a2(h,this.Le?this.Le.next():zo.T),"readwrite-primary"===t?this.sn(l).next(p=>!!p||this.rn(l)).next(p=>{if(!p)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new xe(pe.FAILED_PRECONDITION,r2);return r(l)}).next(p=>this.cn(l).next(()=>p)):this.Tn(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}Tn(e){return rw(e).get(qo.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(pe.FAILED_PRECONDITION,dO)})}cn(e){const t=new qo(this.clientId,this.allowTabSynchronization,Date.now());return rw(e).put(qo.key,t)}static bt(){return Il.bt()}on(e){const t=rw(e);return t.get(qo.key).next(r=>this.an(r)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete(qo.key)):Me.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(Zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Le("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rw(n){return ho(n,qo.store)}function XD(n){return ho(n,ed.store)}function fO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class zH{constructor(e,t){this.progress=e,this.En=t}}class T2{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return rt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,t.path):Yk(t)?this.Sn(e,t,r):this.Dn(e,t,r);var o}Vn(e,t){return this.An(e,new rt(t)).next(r=>{let o=Xk();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(e,t,r){const o=t.collectionGroup;let l=Xk();return this.Ht.getCollectionParents(e,o).next(h=>Me.forEach(h,p=>{const v=(C=t,S=p.child(o),new Ju(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.Dn(e,v,r).next(C=>{C.forEach((S,x)=>{l=l.insert(S,x)})})}).next(()=>l))}Dn(e,t,r){let o,l;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Cn(e,l,o).next(p=>{o=p;for(const v of l)for(const C of v.mutations){const S=C.key;let x=o.get(S);null==x&&(x=dr.newInvalidDocument(S),o=o.insert(S,x)),Qk(C,x,v.localWriteTime),x.isFoundDocument()||(o=o.remove(S))}}))).next(()=>(o.forEach((h,p)=>{qE(t,p)||(o=o.remove(h))}),o))}Cn(e,t,r){let o=Nn();for(const h of t)for(const p of h.mutations)p instanceof Rh&&null===r.get(p.key)&&(o=o.add(p.key));let l=r;return this.He.getEntries(e,o).next(h=>(h.forEach((p,v)=>{v.isFoundDocument()&&(l=l.insert(p,v))}),l))}}class pO{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=o}static kn(e,t){let r=Nn(),o=Nn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new pO(e,t.fromCache,r,o)}}class I2{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ut.min())?this.Fn(e,t):this.On.Pn(e,o).next(l=>{const h=this.Mn(t,l);return(UD(t)||jD(t))&&this.Ln(t.limitType,h,o,r)?this.Fn(e,t):(Uk()<=Cc.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kk(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(p=>(h.forEach(v=>{p=p.insert(v.key,v)}),p)))});var l}Mn(e,t){let r=new Ar(vB(e));return t.forEach((o,l)=>{qE(e,l)&&(r=r.add(l))}),r}Ln(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fn(e,t){return Uk()<=Cc.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Kk(t)),this.On.getDocumentsMatchingQuery(e,t,Ut.min())}}class qH{constructor(e,t,r,o){this.persistence=e,this.Bn=t,this.N=o,this.Un=new li(sn),this.qn=new D_(l=>$E(l),LD),this.Kn=Ut.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new T2(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function D2(n,e,t,r){return new qH(n,e,t,r)}function S2(n,e){return gO.apply(this,arguments)}function gO(){return(gO=(0,Ce.Z)(function*(n,e){const t=je(n);let r=t.In,o=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let p;return t.In.getAllMutationBatches(h).next(v=>(p=v,r=t.persistence.getMutationQueue(e),o=new T2(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const C=[],S=[];let x=Nn();for(const $ of p){C.push($.batchId);for(const H of $.mutations)x=x.add(H.key)}for(const $ of v){S.push($.batchId);for(const H of $.mutations)x=x.add(H.key)}return o.Pn(h,x).next($=>({Wn:$,removedBatchIds:C,addedBatchIds:S}))})});return t.In=r,t.Qn=o,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function WH(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,p,v,C){const S=v.batch,x=S.keys();let $=Me.resolve();return x.forEach(H=>{$=$.next(()=>C.getEntry(p,H)).next(te=>{const me=v.docVersions.get(H);It(null!==me),te.version.compareTo(me)<0&&(S.applyToRemoteDocument(te,v),te.isValidDocument()&&C.addEntry(te,v.commitVersion))})}),$.next(()=>h.In.removeMutationBatch(p,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,o))})}function A2(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function ZH(n,e){const t=je(n),r=e.snapshotVersion;let o=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});o=t.Un;const p=[];e.targetChanges.forEach((C,S)=>{const x=o.get(S);if(!x)return;p.push(t.ze.removeMatchingKeys(l,C.removedDocuments,S).next(()=>t.ze.addMatchingKeys(l,C.addedDocuments,S)));const $=C.resumeToken;if($.approximateByteSize()>0){const H=x.withResumeToken($,r).withSequenceNumber(l.currentSequenceNumber);o=o.insert(S,H),te=x,Se=C,It((me=H).resumeToken.approximateByteSize()>0),(0===te.resumeToken.approximateByteSize()||me.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&p.push(t.ze.updateTargetData(l,H))}var te,me,Se});let v=Ba();if(e.documentUpdates.forEach((C,S)=>{e.resolvedLimboDocuments.has(C)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),p.push(M2(l,h,e.documentUpdates,r,void 0).next(C=>{v=C})),!r.isEqual(Ut.min())){const C=t.ze.getLastRemoteSnapshotVersion(l).next(S=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(C)}return Me.waitFor(p).next(()=>h.apply(l)).next(()=>t.Qn.vn(l,v)).next(()=>v)}).then(l=>(t.Un=o,l))}function M2(n,e,t,r,o){let l=Nn();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let p=Ba();return t.forEach((v,C)=>{const S=h.get(v),x=(null==o?void 0:o.get(v))||r;C.isNoDocument()&&C.version.isEqual(Ut.min())?(e.removeEntry(v,x),p=p.insert(v,C)):!S.isValidDocument()||C.version.compareTo(S.version)>0||0===C.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(C,x),p=p.insert(v,C)):Le("LocalStore","Ignoring outdated watch update for ",v,". Current version:",S.version," Watch version:",C.version)}),p})}function YH(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function S_(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ze.getTargetData(r,e).next(l=>l?(o=l,Me.resolve(o)):t.ze.allocateTargetId(r).next(h=>(o=new Oh(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function A_(n,e,t){return mO.apply(this,arguments)}function mO(){return(mO=(0,Ce.Z)(function*(n,e,t){const r=je(n),o=r.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Np(h))throw h;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(o.target)})).apply(this,arguments)}function eS(n,e,t){const r=je(n);let o=Ut.min(),l=Nn();return r.persistence.runTransaction("Execute query","readonly",h=>function(p,v,C){const S=je(p),x=S.qn.get(C);return void 0!==x?Me.resolve(S.Un.get(x)):S.ze.getTargetData(v,C)}(r,h,La(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,p.targetId).next(v=>{l=v})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?o:Ut.min(),t?l:Nn())).next(p=>({documents:p,Gn:l})))}function x2(n,e){const t=je(n),r=je(t.ze),o=t.Un.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(h=>h?h.target:null))}function R2(n){const e=je(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=je(r);let p=Ba(),v=oO(l);const C=Fh(o),S=IDBKeyRange.lowerBound(v,!0);return C.Kt({index:Mr.readTimeIndex,range:S},(x,$)=>{const H=sO(h.N,$);p=p.insert(H.key,H),v=$.readTime}).next(()=>({En:p,readTime:u2(v)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function _O(){return(_O=(0,Ce.Z)(function*(n){const e=je(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Fh(r);let l=Ut.min();return o.Kt({index:Mr.readTimeIndex,reverse:!0},(h,p,v)=>{p.readTime&&(l=u2(p.readTime)),v.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function yO(){return(yO=(0,Ce.Z)(function*(n,e,t,r){const o=je(n);let l=Nn(),h=Ba(),p=FB();for(const S of t){const x=e.zn(S.metadata.name);S.document&&(l=l.add(x)),h=h.insert(x,e.Hn(S)),p=p.insert(x,e.Jn(S.metadata.readTime))}const v=o.jn.newChangeBuffer({trackRemovals:!0}),C=yield S_(o,(S=r,La(f_(Tn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>M2(S,v,h,Ut.min(),p).next(x=>(v.apply(S),x)).next(x=>o.ze.removeMatchingKeysForTargetId(S,C.targetId).next(()=>o.ze.addMatchingKeys(S,l,C.targetId)).next(()=>o.Qn.vn(S,x)).next(()=>x)))})).apply(this,arguments)}function JH(n,e){return vO.apply(this,arguments)}function vO(){return(vO=(0,Ce.Z)(function*(n,e,t=Nn()){const r=yield S_(n,La(aO(e.bundledQuery))),o=je(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Di(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Je.saveNamedQuery(l,e);const p=r.withResumeToken(Ii.EMPTY_BYTE_STRING,h);return o.Un=o.Un.insert(p.targetId,p),o.ze.updateTargetData(l,p).next(()=>o.ze.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.ze.addMatchingKeys(l,t,r.targetId)).next(()=>o.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class XH{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Me.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Di(r.createTime)}),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:aO(r.bundledQuery),readTime:Di(r.readTime)}),Me.resolve();var r}}class bO{constructor(){this.Zn=new Ar(Si.ts),this.es=new Ar(Si.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Si(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Si(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new rt(new Tn([])),r=new Si(t,e),o=new Si(t,e+1),l=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new rt(new Tn([])),r=new Si(t,e),o=new Si(t,e+1);let l=Nn();return this.es.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Si(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Si{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return rt.comparator(e.key,t.key)||sn(e.ls,t.ls)}static ns(e,t){return sn(e.ls,t.ls)||rt.comparator(e.key,t.key)}}class e3{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Ar(Si.ts)}checkEmpty(e){return Me.resolve(0===this.In.length)}addMutationBatch(e,t,r,o){const l=this.fs;this.fs++;const h=new rO(l,t,r,o);this.In.push(h);for(const p of o)this.ds=this.ds.add(new Si(p.key,l)),this.Ht.addToCollectionParentIndex(e,p.key.path.popLast());return Me.resolve(h)}lookupMutationBatch(e,t){return Me.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const o=this._s(t+1),l=o<0?0:o;return Me.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Me.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Si(t,0),o=new Si(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,o],h=>{const p=this.ws(h.ls);l.push(p)}),Me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(sn);return t.forEach(o=>{const l=new Si(o,0),h=new Si(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],p=>{r=r.add(p.ls)})}),Me.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;rt.isDocumentKey(l)||(l=l.child(""));const h=new Si(new rt(l),0);let p=new Ar(sn);return this.ds.forEachWhile(v=>{const C=v.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(p=p.add(v.ls)),!0)},h),Me.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(r=>{const o=this.ws(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){It(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Me.forEach(t.mutations,o=>{const l=new Si(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Si(t,0),o=this.ds.firstAfterOrEqual(r);return Me.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Me.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class t3{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new li(rt.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,p=this.ps(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:p,readTime:r}),this.size+=p-h,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Me.resolve(r?r.document.clone():dr.newInvalidDocument(t))}getEntries(e,t){let r=Ba();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.clone():dr.newInvalidDocument(o))}),Me.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Ba();const l=new rt(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:p,value:{document:v,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(p.path))break;C.compareTo(r)<=0||qE(t,v)&&(o=o.insert(v.key,v.clone()))}return Me.resolve(o)}Ts(e,t){return Me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new n3(this)}getSize(e){return Me.resolve(this.size)}}class n3 extends E2{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.Se.addEntry(e,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Me.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class r3{constructor(e){this.persistence=e,this.Es=new D_(t=>$E(t),LD),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Is=0,this.As=new bO,this.targetCount=0,this.Rs=Lp.se()}forEachTarget(e,t){return this.Es.forEach((r,o)=>t(o)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Me.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Lp(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.ce(t),Me.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Es.forEach((h,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Es.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Me.waitFor(l).next(()=>o)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Me.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Me.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Me.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Me.resolve(r)}containsKey(e,t){return Me.resolve(this.As.containsKey(t))}}class s3{constructor(e,t){this.bs={},this.Le=new zo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new r3(this),this.Ht=new NH,this.He=new t3(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new l2(t),this.Je=new XH(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new e3(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const o=new o3(this.Le.next());return this.referenceDelegate.vs(),r(o).next(l=>this.referenceDelegate.Vs(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ss(e,t){return Me.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class o3 extends s2{constructor(e){super(),this.currentSequenceNumber=e}}class EO{constructor(e){this.persistence=e,this.Ds=new bO,this.Cs=null}static Ns(e){return new EO(e)}get xs(){if(this.Cs)return this.Cs;throw ot()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Me.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Me.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.xs,r=>{const o=rt.fromPath(r);return this.ks(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Me.or([()=>Me.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function k2(n,e){return`firestore_clients_${n}_${e}`}function O2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wO(n,e){return`firestore_targets_${n}_${e}`}class tS{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static $s(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new xe(o.error.code,o.error.message))),h?new tS(e,t,o.state,l):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new xe(r.error.code,r.error.message))),l?new iw(e,r.state,o):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=qD();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=aB(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new nS(e,l):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class CO{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new CO(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TO{constructor(){this.activeTargetIds=qD()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IO{constructor(e,t,r,o,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new li(sn),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=k2(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new TO),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(p){return`firestore_bundle_loaded_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.pn();for(const o of t){if(o===e.Ls)continue;const l=e.getItem(k2(e.persistenceKey,o));if(l){const h=nS.$s(o,l);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const o=e.Xs(r);o&&e.Zs(o)}for(const o of e.Ks)e.Us(o);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wO(this.persistenceKey,e));if(r){const o=iw.$s(e,r);o&&(t=o.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wO(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.ni(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Le("SharedClientState","READ",e,t),t}setItem(e,t){Le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ai(o,null)}{const o=t.ui(r.key,r.newValue);if(o)return t.ai(o.clientId,o)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const o=t.hi(r.key,r.newValue);if(o)return t.li(o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.fi(r.key,r.newValue);if(o)return t.di(o)}}else if(r.key===t.Hs){if(null!==r.newValue){const o=t.Xs(r.newValue);if(o)return t.Zs(o)}}else if(r.key===t.Qs){const o=function(l){let h=zo.T;if(null!=l)try{const p=JSON.parse(l);It("number"==typeof p),h=p}catch(p){Zr("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(r.newValue);o!==zo.T&&t.sequenceNumberHandler(o)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const o=new tS(this.currentUser,e,t,r),l=O2(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Os())}ni(e){const t=O2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const o=wO(this.persistenceKey,e),l=new iw(e,t,r);this.setItem(o,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return nS.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),o=Number(r[1]);return tS.$s(new Wi(void 0!==r[2]?r[2]:null),o,t)}fi(e,t){const r=this.zs.exec(e),o=Number(r[1]);return iw.$s(o,t)}Xs(e){return CO.$s(e)}li(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),o=this.ti(this.qs),l=this.ti(r),h=[],p=[];return l.forEach(v=>{o.has(v)||h.push(v)}),o.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.gi(h,p).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=qD();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class P2{constructor(){this.yi=new TO,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new TO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class a3{Ti(e){}shutdown(){}}class N2{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const l3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class c3{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class u3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,o){const l=this.Bi(e,t);Le("RestConnection","Sending: ",l,r);const h={};return this.Ui(h,o),this.qi(e,l,h,r).then(p=>(Le("RestConnection","Received: ",p),p),p=>{throw BE("RestConnection",`${e} failed with error: `,p,"url: ",l,"request:",r),p})}Ki(e,t,r,o){return this.Li(e,t,r,o)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+a_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${l3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,o){return new Promise((l,h)=>{const p=new Rj;p.listenOnce(Aj.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Vk.NO_ERROR:const C=p.getResponseJson();Le("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Vk.TIMEOUT:Le("Connection",'RPC "'+e+'" timed out'),h(new xe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Vk.HTTP_ERROR:const S=p.getStatus();if(Le("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const x=p.getResponseJson().error;if(x&&x.status&&x.message){const $=function(H){const te=H.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(te)>=0?te:pe.UNKNOWN}(x.status);h(new xe($,x.message))}else h(new xe(pe.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new xe(pe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Le("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);p.send(t,"POST",v,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dj(),l=Sj(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new xj({})),this.Ui(h.initMessageHeaders,t),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Le("Connection","Creating WebChannel: "+p,h);const v=o.createWebChannel(p,h);let C=!1,S=!1;const x=new c3({vi:H=>{S?Le("Connection","Not sending because WebChannel is closed:",H):(C||(Le("Connection","Opening WebChannel transport."),v.open(),C=!0),Le("Connection","WebChannel sending:",H),v.send(H))},Vi:()=>v.close()}),$=(H,te,me)=>{H.listen(te,Se=>{try{me(Se)}catch($e){setTimeout(()=>{throw $e},0)}})};return $(v,OD.EventType.OPEN,()=>{S||Le("Connection","WebChannel transport opened.")}),$(v,OD.EventType.CLOSE,()=>{S||(S=!0,Le("Connection","WebChannel transport closed"),x.$i())}),$(v,OD.EventType.ERROR,H=>{S||(S=!0,BE("Connection","WebChannel transport errored:",H),x.$i(new xe(pe.UNAVAILABLE,"The operation could not be completed")))}),$(v,OD.EventType.MESSAGE,H=>{var te;if(!S){const me=H.data[0];It(!!me);const Se=me,$e=Se.error||(null===(te=Se[0])||void 0===te?void 0:te.error);if($e){Le("Connection","WebChannel received error:",$e);const at=$e.status;let Nt=function(Fn){const yr=Qr[Fn];if(void 0!==yr)return PB(yr)}(at),dt=$e.message;void 0===Nt&&(Nt=pe.INTERNAL,dt="Unknown error status: "+at+" with message "+$e.message),S=!0,x.$i(new xe(Nt,dt)),v.close()}else Le("Connection","WebChannel received:",me),x.Oi(me)}}),$(l,Mj.STAT_EVENT,H=>{H.stat===XL.PROXY?Le("Connection","Detected buffering proxy"):H.stat===XL.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function F2(){return"undefined"!=typeof window?window:null}function rS(){return"undefined"!=typeof document?document:null}function sw(n){return new mH(n,!0)}class DO{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=o,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,t-r);o>0&&Le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class L2{constructor(e,t,r,o,l,h,p){this.Oe=e,this.er=r,this.nr=o,this.sr=l,this.credentialsProvider=h,this.listener=p,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new DO(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,Ce.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,Ce.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const o=new xe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(o)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,Ce.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d3 extends L2{constructor(e,t,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l),this.N=o}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ot(),o=e.targetChange.targetIds||[],l=function(v,C){return v.D?(It(void 0===C||"string"==typeof C),Ii.fromBase64String(C||"")):(It(void 0===C||C instanceof Uint8Array),Ii.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(v){const C=void 0===v.code?pe.UNKNOWN:PB(v.code);return new xe(C,v.message||"")}(h);t=new BB(r,o,l,p||null)}else if("documentChange"in e){const r=e.documentChange,o=kc(n,r.document.name),l=Di(r.document.updateTime),h=new ms({mapValue:{fields:r.document.fields}}),p=dr.newFoundDocument(o,l,h);t=new WD(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,o=kc(n,r.document),l=r.readTime?Di(r.readTime):Ut.min(),h=dr.newNoDocument(o,l);t=new WD([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=kc(n,r.document);t=new WD([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ot();{const r=e.filter,l=new aH(r.count||0);t=new LB(r.targetId,l)}}var v;return t}(this.N,e),r=function(o){if(!("targetChange"in o))return Ut.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ut.min():l.readTime?Di(l.readTime):Ut.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=ew(this.N),t.addTarget=function(o,l){let h;const p=l.target;return h=BD(p)?{documents:YB(o,p)}:{query:KB(o,p)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=HB(o,l.resumeToken):l.snapshotVersion.compareTo(Ut.min())>0&&(h.readTime=JE(o,l.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=ew(this.N),t.removeTarget=e,this.mr(t)}}class h3 extends L2{constructor(e,t,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l),this.N=o,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,o){let l=Di(r.updateTime?r.updateTime:o);return l.isEqual(Ut.min())&&(l=Di(o)),new iH(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.Dr(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=ew(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ZD(this.N,r))};this.mr(t)}}class f3 extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new xe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Li(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new xe(pe.UNKNOWN,o.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Ki(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new xe(pe.UNKNOWN,o.toString())})}terminate(){this.kr=!0}}class p3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Zr(t),this.Mr=!1):Le("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class g3{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(p=>{r.enqueueAndForget((0,Ce.Z)(function*(){var v;Lh(h)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ce.Z)(function*(C){const S=je(C);S.Wr.add(4),yield M_(S),S.Hr.set("Unknown"),S.Wr.delete(4),yield ow(S)}),function(C){return v.apply(this,arguments)})(h))}))}),this.Hr=new p3(r,o)}}function ow(n){return SO.apply(this,arguments)}function SO(){return(SO=(0,Ce.Z)(function*(n){if(Lh(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function M_(n){return AO.apply(this,arguments)}function AO(){return(AO=(0,Ce.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function iS(n,e){const t=je(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),RO(t)?xO(t):R_(t).hr()&&MO(t,e))}function aw(n,e){const t=je(n),r=R_(t);t.Qr.delete(e),r.hr()&&B2(t,e),0===t.Qr.size&&(r.hr()?r.wr():Lh(t)&&t.Hr.set("Unknown"))}function MO(n,e){n.Jr.Y(e.targetId),R_(n).br(e)}function B2(n,e){n.Jr.Y(e),R_(n).Pr(e)}function xO(n){n.Jr=new fH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),R_(n).start(),n.Hr.Lr()}function RO(n){return Lh(n)&&!R_(n).ur()&&n.Qr.size>0}function Lh(n){return 0===je(n).Wr.size}function V2(n){n.Jr=void 0}function m3(n){return kO.apply(this,arguments)}function kO(){return(kO=(0,Ce.Z)(function*(n){n.Qr.forEach((e,t)=>{MO(n,e)})})).apply(this,arguments)}function _3(n,e){return OO.apply(this,arguments)}function OO(){return(OO=(0,Ce.Z)(function*(n,e){V2(n),RO(n)?(n.Hr.qr(e),xO(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function y3(n,e,t){return PO.apply(this,arguments)}function PO(){return(PO=(0,Ce.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof BB&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(o,l){const h=l.cause;for(const p of l.targetIds)o.Qr.has(p)&&(yield o.remoteSyncer.rejectListen(p,h),o.Qr.delete(p),o.Jr.removeTarget(p))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sS(n,r)}else if(e instanceof WD?n.Jr.rt(e):e instanceof LB?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(Ut.min()))try{const r=yield A2(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Jr._t(l);return h.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const C=o.Qr.get(v);C&&o.Qr.set(v,C.withResumeToken(p.resumeToken,l))}}),h.targetMismatches.forEach(p=>{const v=o.Qr.get(p);if(!v)return;o.Qr.set(p,v.withResumeToken(Ii.EMPTY_BYTE_STRING,v.snapshotVersion)),B2(o,p);const C=new Oh(v.target,p,1,v.sequenceNumber);MO(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield sS(n,r)}var r})).apply(this,arguments)}function sS(n,e,t){return NO.apply(this,arguments)}function NO(){return(NO=(0,Ce.Z)(function*(n,e,t){if(!Np(e))throw e;n.Wr.add(1),yield M_(n),n.Hr.set("Offline"),t||(t=()=>A2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield ow(n)}))})).apply(this,arguments)}function U2(n,e){return e().catch(t=>sS(n,t,e))}function x_(n){return FO.apply(this,arguments)}function FO(){return(FO=(0,Ce.Z)(function*(n){const e=je(n),t=Bh(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;v3(e);)try{const o=yield YH(e.localStore,r);if(null===o){0===e.jr.length&&t.wr();break}r=o.batchId,b3(e,o)}catch(o){yield sS(e,o)}j2(e)&&H2(e)})).apply(this,arguments)}function v3(n){return Lh(n)&&n.jr.length<10}function b3(n,e){n.jr.push(e);const t=Bh(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function j2(n){return Lh(n)&&!Bh(n).ur()&&n.jr.length>0}function H2(n){Bh(n).start()}function E3(n){return LO.apply(this,arguments)}function LO(){return(LO=(0,Ce.Z)(function*(n){Bh(n).Nr()})).apply(this,arguments)}function w3(n){return BO.apply(this,arguments)}function BO(){return(BO=(0,Ce.Z)(function*(n){const e=Bh(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function C3(n,e,t){return VO.apply(this,arguments)}function VO(){return(VO=(0,Ce.Z)(function*(n,e,t){const r=n.jr.shift(),o=iO.from(r,e,t);yield U2(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield x_(n)})).apply(this,arguments)}function T3(n,e){return UO.apply(this,arguments)}function UO(){return(UO=(0,Ce.Z)(function*(n,e){var t;e&&Bh(n).Vr&&(yield(t=(0,Ce.Z)(function*(r,o){if(OB(l=o.code)&&l!==pe.ABORTED){const h=r.jr.shift();Bh(r).dr(),yield U2(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield x_(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),j2(n)&&H2(n)})).apply(this,arguments)}function jO(n,e){return HO.apply(this,arguments)}function HO(){return(HO=(0,Ce.Z)(function*(n,e){const t=je(n);e?(t.Wr.delete(2),yield ow(t)):e||(t.Wr.add(2),yield M_(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function R_(n){return n.Yr||(n.Yr=function(e,t,r){const o=je(e);return o.$r(),new d3(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:m3.bind(null,n),Ci:_3.bind(null,n),Rr:y3.bind(null,n)}),n.Gr.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Yr.dr(),RO(n)?xO(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),V2(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function Bh(n){return n.Xr||(n.Xr=function(e,t,r){const o=je(e);return o.$r(),new h3(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:E3.bind(null,n),Ci:T3.bind(null,n),Cr:w3.bind(null,n),Dr:C3.bind(null,n)}),n.Gr.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Xr.dr(),yield x_(n)):(yield n.Xr.stop(),n.jr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class $O{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,p=new $O(e,t,h,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k_(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),Np(n))return new xe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class O_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||rt.comparator(t.key,r.key):(t,r)=>rt.comparator(t.key,r.key),this.keyedMap=Xk(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new O_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof O_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new O_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $2{constructor(){this.Zr=new li(rt.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):ot():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class P_{constructor(e,t,r,o,l,h,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new P_(e,t,O_.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class I3{constructor(){this.no=void 0,this.listeners=[]}}class D3{constructor(){this.queries=new D_(e=>yB(e),zE),this.onlineState="Unknown",this.so=new Set}}function GO(n,e){return zO.apply(this,arguments)}function zO(){return(zO=(0,Ce.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new I3),o)try{l.no=yield t.onListen(r)}catch(h){const p=k_(h,`Initialization of query '${Kk(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&ZO(t)})).apply(this,arguments)}function qO(n,e){return WO.apply(this,arguments)}function WO(){return(WO=(0,Ce.Z)(function*(n,e){const t=je(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function S3(n,e){const t=je(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const p of h.listeners)p.ro(o)&&(r=!0);h.no=o}}r&&ZO(t)}function A3(n,e,t){const r=je(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function ZO(n){n.so.forEach(e=>{e.next()})}class YO{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new P_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=P_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class M3{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class G2{constructor(e){this.N=e}zn(e){return kc(this.N,e)}Hn(e){return e.metadata.exists?WB(this.N,e.document,!1):dr.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Di(e)}}class x3{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=z2(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new G2(this.N);for(const o of e)if(o.metadata.queries){const l=r.zn(o.metadata.name);for(const h of o.metadata.queries){const p=(t.get(h)||Nn()).add(l);t.set(h,p)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function(n,e,t,r){return yO.apply(this,arguments)}(e.localStore,new G2(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const o of e.queries)yield JH(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new zH(Object.assign({},e.progress),t)})()}}function z2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class q2{constructor(e){this.key=e}}class W2{constructor(e){this.key=e}}class Z2{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=Nn(),this.mutatedKeys=Nn(),this.Io=vB(e),this.Ao=new O_(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new $2,o=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const v=UD(this.query)&&o.size===this.query.limit?o.last():null,C=jD(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,x)=>{const $=o.get(S),H=qE(this.query,x)?x:null,te=!!$&&this.mutatedKeys.has($.key),me=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Se=!1;$&&H?$.data.isEqual(H.data)?te!==me&&(r.track({type:3,doc:H}),Se=!0):this.vo($,H)||(r.track({type:2,doc:H}),Se=!0,(v&&this.Io(H,v)>0||C&&this.Io(H,C)<0)&&(p=!0)):!$&&H?(r.track({type:0,doc:H}),Se=!0):$&&!H&&(r.track({type:1,doc:$}),Se=!0,(v||C)&&(p=!0)),Se&&(H?(h=h.add(H),l=me?l.add(S):l.delete(S)):(h=h.delete(S),l=l.delete(S)))}),UD(this.query)||jD(this.query))for(;h.size>this.query.limit;){const S=UD(this.query)?h.last():h.first();h=h.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Ao:h,Po:r,Ln:p,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((C,S)=>function(x,$){const H=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return H(x)-H($)}(C.type,S.type)||this.Io(C.doc,S.doc)),this.Vo(r);const h=t?this.So():[],p=0===this.Eo.size&&this.current?1:0,v=p!==this.To;return this.To=p,0!==l.length||v?{snapshot:new P_(this.query,e.Ao,o,l,e.mutatedKeys,0===p,v,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new $2,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Nn(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new W2(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new q2(r))}),t}No(e){this.po=e.Gn,this.Eo=Nn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return P_.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class R3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class k3{constructor(e){this.key=e,this.ko=!1}}class O3{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new D_(p=>yB(p),zE),this.Fo=new Map,this.Mo=new Set,this.Lo=new li(rt.comparator),this.Bo=new Map,this.Uo=new bO,this.qo={},this.Ko=new Map,this.jo=Lp.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function P3(n,e){return KO.apply(this,arguments)}function KO(){return(KO=(0,Ce.Z)(function*(n,e){const t=vP(n);let r,o;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield S_(t.localStore,La(e)),p=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield QO(t,e,r,"current"===p),t.isPrimaryClient&&iS(t.remoteStore,h)}return o})).apply(this,arguments)}function QO(n,e,t,r){return JO.apply(this,arguments)}function JO(){return(JO=(0,Ce.Z)(function*(n,e,t,r){n.Wo=(S,x,$)=>{return(H=(0,Ce.Z)(function*(te,me,Se,$e){let at=me.view.bo(Se);at.Ln&&(at=yield eS(te.localStore,me.query,!1).then(({documents:Fn})=>me.view.bo(Fn,at)));const Nt=$e&&$e.targetChanges.get(me.targetId),dt=me.view.applyChanges(at,te.isPrimaryClient,Nt);return lP(te,me.targetId,dt.Do),dt.snapshot}),function(te,me,Se,$e){return H.apply(this,arguments)})(n,S,x,$);var H};const o=yield eS(n.localStore,e,!0),l=new Z2(e,o.Gn),h=l.bo(o.documents),p=QE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(h,n.isPrimaryClient,p);lP(n,t,v.Do);const C=new R3(e,t,l);return n.Oo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot})).apply(this,arguments)}function N3(n,e){return XO.apply(this,arguments)}function XO(){return(XO=(0,Ce.Z)(function*(n,e){const t=je(n),r=t.Oo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(l=>!zE(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield A_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),aw(t.remoteStore,r.targetId),N_(t,r.targetId)}).catch(Bp))):(N_(t,r.targetId),yield A_(t.localStore,r.targetId,!0))})).apply(this,arguments)}function eP(){return(eP=(0,Ce.Z)(function*(n,e,t){const r=bP(n);try{const o=yield function(l,h){const p=je(l),v=Ti.now(),C=h.reduce((x,$)=>x.add($.key),Nn());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>p.Qn.Pn(x,C).next($=>{S=$;const H=[];for(const te of h){const me=oH(te,S.get(te.key));null!=me&&H.push(new Rh(te.key,me,dB(me.value.mapValue),Kr.exists(!0)))}return p.In.addMutationBatch(x,v,H,h)})).then(x=>(x.applyToLocalDocumentSet(S),{batchId:x.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,p){let v=l.qo[l.currentUser.toKey()];v||(v=new li(sn)),v=v.insert(h,p),l.qo[l.currentUser.toKey()]=v}(r,o.batchId,t),yield td(r,o.changes),yield x_(r.remoteStore)}catch(o){const l=k_(o,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function Y2(n,e){return tP.apply(this,arguments)}function tP(){return(tP=(0,Ce.Z)(function*(n,e){const t=je(n);try{const r=yield ZH(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Bo.get(l);h&&(It(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ko=!0:o.modifiedDocuments.size>0?It(h.ko):o.removedDocuments.size>0&&(It(h.ko),h.ko=!1))}),yield td(t,r,e)}catch(r){yield Bp(r)}})).apply(this,arguments)}function K2(n,e,t){const r=je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((l,h)=>{const p=h.view.io(e);p.snapshot&&o.push(p.snapshot)}),function(l,h){const p=je(l);p.onlineState=h;let v=!1;p.queries.forEach((C,S)=>{for(const x of S.listeners)x.io(h)&&(v=!0)}),v&&ZO(p)}(r.eventManager,e),o.length&&r.$o.Rr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function L3(n,e,t){return nP.apply(this,arguments)}function nP(){return(nP=(0,Ce.Z)(function*(n,e,t){const r=je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Bo.get(e),l=o&&o.key;if(l){let h=new li(rt.comparator);h=h.insert(l,dr.newNoDocument(l,Ut.min()));const p=Nn().add(l),v=new KE(Ut.min(),new Map,new Ar(sn),h,p);yield Y2(r,v),r.Lo=r.Lo.remove(l),r.Bo.delete(e),cP(r)}else yield A_(r.localStore,e,!1).then(()=>N_(r,e,t)).catch(Bp)})).apply(this,arguments)}function B3(n,e){return rP.apply(this,arguments)}function rP(){return(rP=(0,Ce.Z)(function*(n,e){const t=je(n),r=e.batch.batchId;try{const o=yield WH(t.localStore,e);aP(t,r,null),oP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield td(t,o)}catch(o){yield Bp(o)}})).apply(this,arguments)}function V3(n,e,t){return iP.apply(this,arguments)}function iP(){return(iP=(0,Ce.Z)(function*(n,e,t){const r=je(n);try{const o=yield function(l,h){const p=je(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return p.In.lookupMutationBatch(v,h).next(S=>(It(null!==S),C=S.keys(),p.In.removeMutationBatch(v,S))).next(()=>p.In.performConsistencyCheck(v)).next(()=>p.Qn.Pn(v,C))})}(r.localStore,e);aP(r,e,t),oP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield td(r,o)}catch(o){yield Bp(o)}})).apply(this,arguments)}function sP(){return(sP=(0,Ce.Z)(function*(n,e){const t=je(n);Lh(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=je(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>h.In.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ko.get(r)||[];o.push(e),t.Ko.set(r,o)}catch(r){const o=k_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function oP(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function aP(n,e,t){const r=je(n);let o=r.qo[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.qo[r.currentUser.toKey()]=o}}function N_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||Q2(n,r)})}function Q2(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(aw(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),cP(n))}function lP(n,e,t){for(const r of t)r instanceof q2?(n.Uo.addReference(r.key,e),j3(n,r)):r instanceof W2?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||Q2(n,r.key)):ot()}function j3(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.Mo.add(r),cP(n))}function cP(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new rt(Tn.fromString(e)),r=n.jo.next();n.Bo.set(r,new k3(t)),n.Lo=n.Lo.insert(t,r),iS(n.remoteStore,new Oh(La(f_(t.path)),r,2,zo.T))}}function td(n,e,t){return uP.apply(this,arguments)}function uP(){return(uP=(0,Ce.Z)(function*(n,e,t){const r=je(n),o=[],l=[],h=[];var p;r.Oo.isEmpty()||(r.Oo.forEach((p,v)=>{h.push(r.Wo(v,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,C.fromCache?"not-current":"current"),o.push(C);const S=pO.kn(v.targetId,C);l.push(S)}}))}),yield Promise.all(h),r.$o.Rr(o),yield(p=(0,Ce.Z)(function*(v,C){const S=je(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Me.forEach(C,$=>Me.forEach($.Nn,H=>S.persistence.referenceDelegate.addReference(x,$.targetId,H)).next(()=>Me.forEach($.xn,H=>S.persistence.referenceDelegate.removeReference(x,$.targetId,H)))))}catch(x){if(!Np(x))throw x;Le("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const $=x.targetId;if(!x.fromCache){const H=S.Un.get($),me=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);S.Un=S.Un.insert($,me)}}}),function(v,C){return p.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function H3(n,e){return dP.apply(this,arguments)}function dP(){return(dP=(0,Ce.Z)(function*(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield S2(t.localStore,e);t.currentUser=e,(o=t).Ko.forEach(h=>{h.forEach(p=>{p.reject(new xe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield td(t,r.Wn)}var o})).apply(this,arguments)}function $3(n,e){const t=je(n),r=t.Bo.get(e);if(r&&r.ko)return Nn().add(r.key);{let o=Nn();const l=t.Fo.get(e);if(!l)return o;for(const h of l){const p=t.Oo.get(h);o=o.unionWith(p.view.Ro)}return o}}function G3(n,e){return hP.apply(this,arguments)}function hP(){return(hP=(0,Ce.Z)(function*(n,e){const t=je(n),r=yield eS(t.localStore,e.query,!0),o=e.view.No(r);return t.isPrimaryClient&&lP(t,e.targetId,o.Do),o})).apply(this,arguments)}function z3(n){return fP.apply(this,arguments)}function fP(){return(fP=(0,Ce.Z)(function*(n){const e=je(n);return R2(e.localStore).then(t=>td(e,t))})).apply(this,arguments)}function q3(n,e,t,r){return pP.apply(this,arguments)}function pP(){return(pP=(0,Ce.Z)(function*(n,e,t,r){const o=je(n),l=yield function(h,p){const v=je(h),C=je(v.In);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>C.Xt(S,p).next(x=>x?v.Qn.Pn(S,x):Me.resolve(null)))}(o.localStore,e);var p;null!==l?("pending"===t?yield x_(o.remoteStore):"acknowledged"===t||"rejected"===t?(aP(o,e,r||null),oP(o,e),p=e,je(je(o.localStore).In).te(p)):ot(),yield td(o,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function gP(){return(gP=(0,Ce.Z)(function*(n,e){const t=je(n);if(vP(t),bP(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield J2(t,r.toArray());t.Qo=!0,yield jO(t.remoteStore,!0);for(const l of o)iS(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const r=[];let o=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(N_(t,h),A_(t.localStore,h,!0))),aw(t.remoteStore,h)}),yield o,yield J2(t,r),function(l){const h=je(l);h.Bo.forEach((p,v)=>{aw(h.remoteStore,v)}),h.Uo.us(),h.Bo=new Map,h.Lo=new li(rt.comparator)}(t),t.Qo=!1,yield jO(t.remoteStore,!1)}})).apply(this,arguments)}function J2(n,e,t){return mP.apply(this,arguments)}function mP(){return(mP=(0,Ce.Z)(function*(n,e,t){const r=je(n),o=[],l=[];for(const h of e){let p;const v=r.Fo.get(h);if(v&&0!==v.length){p=yield S_(r.localStore,La(v[0]));for(const C of v){const S=r.Oo.get(C),x=yield G3(r,S);x.snapshot&&l.push(x.snapshot)}}else{const C=yield x2(r.localStore,h);p=yield S_(r.localStore,C),yield QO(r,X2(C),h,!1)}o.push(p)}return r.$o.Rr(l),o})).apply(this,arguments)}function X2(n){return mB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Z3(n){const e=je(n);return je(je(e.localStore).persistence).pn()}function Y3(n,e,t,r){return _P.apply(this,arguments)}function _P(){return(_P=(0,Ce.Z)(function*(n,e,t,r){const o=je(n);if(o.Qo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield R2(o.localStore),h=KE.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield td(o,l,h);break}case"rejected":yield A_(o.localStore,e,!0),N_(o,e,r);break;default:ot()}})).apply(this,arguments)}function K3(n,e,t){return yP.apply(this,arguments)}function yP(){return(yP=(0,Ce.Z)(function*(n,e,t){const r=vP(n);if(r.Qo){for(const o of e){if(r.Fo.has(o)){Le("SyncEngine","Adding an already active target "+o);continue}const l=yield x2(r.localStore,o),h=yield S_(r.localStore,l);yield QO(r,X2(l),h.targetId,!1),iS(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield A_(r.localStore,o,!1).then(()=>{aw(r.remoteStore,o),N_(r,o)}).catch(Bp))}})).apply(this,arguments)}function vP(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L3.bind(null,e),e.$o.Rr=S3.bind(null,e.eventManager),e.$o.Go=A3.bind(null,e.eventManager),e}function bP(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V3.bind(null,e),e}class eV{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.N=sw(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return D2(this.persistence,new I2,e.initialUser,this.N)}Jo(e){return new s3(EO.Ns,this.N)}Ho(e){return new P2}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tV extends eV{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield function(n){return _O.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield bP(r.Zo.syncEngine),yield x_(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return D2(this.persistence,new I2,e.initialUser,this.N)}Yo(e){return new VH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=fO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new hO(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,F2(),rS(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new P2}}class J3 extends tV{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const o=r.Zo.syncEngine;r.sharedClientState instanceof IO&&(r.sharedClientState.syncEngine={_i:q3.bind(null,o),mi:Y3.bind(null,o),gi:K3.bind(null,o),pn:Z3.bind(null,o),wi:z3.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var l=(0,Ce.Z)(function*(h){yield function(n,e){return gP.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Ho(e){const t=F2();if(!IO.bt(t))throw new xe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IO(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class EP{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>K2(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=H3.bind(null,r.syncEngine),yield jO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new D3}createDatastore(e){const t=sw(e.databaseInfo.databaseId),r=new u3(e.databaseInfo);return new f3(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=p=>K2(this.syncEngine,p,0),h=N2.bt()?new N2:new a3,new g3(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,p,v,C){const S=new O3(r,o,l,h,p,v);return C&&(S.Qo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=je(t);Le("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield M_(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nV(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class X3{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Ci,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),o=Number(r);isNaN(o)&&e.oc(`length string (${r}) is not valid number`);const l=yield e.cc(o);return new M3(JSON.parse(l),t.length+o)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,Ce.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class e${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ce.Z)(function*(l,h){const p=je(l),v=ew(p.N)+"/documents",C={documents:h.map(H=>XE(p.N,H))},S=yield p.Ki("BatchGetDocuments",v,C),x=new Map;S.forEach(H=>{const te=function(n,e){return"found"in e?function(t,r){It(!!r.found);const o=kc(t,r.found.name),l=Di(r.found.updateTime),h=new ms({mapValue:{fields:r.found.fields}});return dr.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const o=kc(t,r.missing),l=Di(r.readTime);return dr.newNoDocument(o,l)}(n,e):ot()}(p.N,H);x.set(te.key.toString(),te)});const $=[];return h.forEach(H=>{const te=x.get(H.toString());It(!!te),$.push(te)}),$}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new YE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=rt.fromPath(o);e.mutations.push(new Jk(l,e.precondition(l)))}),yield(r=(0,Ce.Z)(function*(o,l){const h=je(o),p=ew(h.N)+"/documents",v={writes:l.map(C=>ZD(h.N,C))};yield h.Li("Commit",p,v)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Kr.updateTime(t):Kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new xe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kr.updateTime(t)}return Kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class t${constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.hc=5,this.ar=new DO(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,Ce.Z)(function*(){const t=new e$(e.datastore),r=e.fc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.dc(l)}))}).catch(o=>{e.dc(o)})}))}fc(e){try{const t=this.updateFunction(e);return!xp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!OB(t)}return!1}}class n${constructor(e,t,r){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Wi.UNAUTHENTICATED,this.clientId=nB.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,Ce.Z)(function*(h){Le("FirestoreClient","Received user=",h.uid),yield o.credentialListener(h),o.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const o=k_(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function rV(n,e){return wP.apply(this,arguments)}function wP(){return(wP=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ce.Z)(function*(l){r.isEqual(l)||(yield S2(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function iV(n,e){return CP.apply(this,arguments)}function CP(){return(CP=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield TP(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(l=(0,Ce.Z)(function*(h,p){const v=je(h);v.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const C=Lh(v);v.Wr.add(3),yield M_(v),C&&v.Hr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(p),v.Wr.delete(3),yield ow(v)}),function(h,p){return l.apply(this,arguments)})(e.remoteStore,o);var l}),n.onlineComponents=e})).apply(this,arguments)}function TP(n){return IP.apply(this,arguments)}function IP(){return(IP=(0,Ce.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield rV(n,new eV)),n.offlineComponents})).apply(this,arguments)}function aS(n){return DP.apply(this,arguments)}function DP(){return(DP=(0,Ce.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield iV(n,new EP)),n.onlineComponents})).apply(this,arguments)}function sV(n){return TP(n).then(e=>e.persistence)}function SP(n){return TP(n).then(e=>e.localStore)}function oV(n){return aS(n).then(e=>e.remoteStore)}function AP(n){return aS(n).then(e=>e.syncEngine)}function F_(n){return MP.apply(this,arguments)}function MP(){return(MP=(0,Ce.Z)(function*(n){const e=yield aS(n),t=e.eventManager;return t.onListen=P3.bind(null,e.syncEngine),t.onUnlisten=N3.bind(null,e.syncEngine),t})).apply(this,arguments)}function aV(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,l,h,p,v){const C=new oS({next:x=>{l.enqueueAndForget(()=>qO(o,S));const $=x.docs.has(h);!$&&x.fromCache?v.reject(new xe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&x.fromCache&&p&&"server"===p.source?v.reject(new xe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new YO(f_(h.path),C,{includeMetadataChanges:!0,fo:!0});return GO(o,S)}(yield F_(n),n.asyncQueue,e,t,r)})),r.promise}function lV(n,e,t={}){const r=new Ci;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,l,h,p,v){const C=new oS({next:x=>{l.enqueueAndForget(()=>qO(o,S)),x.fromCache&&"server"===p.source?v.reject(new xe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new YO(h,C,{includeMetadataChanges:!0,fo:!0});return GO(o,S)}(yield F_(n),n.asyncQueue,e,t,r)})),r.promise}class d${constructor(e,t,r,o,l,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class L_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof L_&&e.projectId===this.projectId&&e.database===this.database}}const cV=new Map;function xP(n,e,t){if(!t)throw new xe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uV(n,e,t,r){if(!0===e&&!0===r)throw new xe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dV(n){if(!rt.isDocumentKey(n))throw new xe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hV(n){if(rt.isDocumentKey(n))throw new xe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lS(n);throw new xe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function fV(n,e){if(e<=0)throw new xe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class pV{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lw{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pV({}),this._settingsFrozen=!1,e instanceof L_?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new xe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new L_(r.options.projectId)}(e))}get app(){if(!this._app)throw new xe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pV(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Pj;switch(t.type){case"gapi":const r=t.client;return It(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Bj(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(pe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cV.get(e);t&&(Le("ComponentProvider","Removing Datastore"),cV.delete(e),t.terminate())}(this),Promise.resolve()}}class ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class ys{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class Pc extends ys{constructor(e,t,r){super(e,t,f_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new rt(e))}withConverter(e){return new Pc(this.firestore,e,this._path)}}function gV(n,e,...t){if(n=(0,qt.m9)(n),xP("collection","path",e),n instanceof lw){const r=Tn.fromString(e,...t);return hV(r),new Pc(n,null,r)}{if(!(n instanceof ir||n instanceof Pc))throw new xe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return hV(r),new Pc(n.firestore,null,r)}}function cS(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=nB.I()),xP("doc","path",e),n instanceof lw){const r=Tn.fromString(e,...t);return dV(r),new ir(n,null,new rt(r))}{if(!(n instanceof ir||n instanceof Pc))throw new xe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return dV(r),new ir(n.firestore,n instanceof Pc?n.converter:null,new rt(r))}}function mV(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof ir||n instanceof Pc)&&(e instanceof ir||e instanceof Pc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function _V(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof ys&&e instanceof ys&&n.firestore===e.firestore&&zE(n._query,e._query)&&n.converter===e.converter}class p${constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new DO(this,"async_queue_retry"),this.Rc=()=>{const t=rS();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=rS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=rS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Ci;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Np(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const o=$O.createAndSchedule(this,e,t,r,l=>this.Vc(l));return this.yc.push(o),o}bc(){this.Tc&&ot()}verifyOperationInProgress(){}Sc(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function RP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class g${constructor(){this._progressObserver={},this._taskCompletionResolver=new Ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _r extends lw{constructor(e,t){super(e,t),this.type="firestore",this._queue=new p$,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yV(this),this._firestoreClient.terminate()}}function ci(n){return n._firestoreClient||yV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yV(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new d$(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new n$(n._credentials,n._queue,r)}function vV(n,e,t){const r=new Ci;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield rV(n,t),yield iV(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===pe.FAILED_PRECONDITION||l.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function bV(n){if(n._initialized||n._terminated)throw new xe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(Ii.fromBase64String(e))}catch(t){throw new xe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nc(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vp{constructor(e){this._methodName=e}}class uS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const I$=/^__.*__$/;class D${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Rh(e,this.data,this.fieldMask,t,this.fieldTransforms):new ZE(e,this.data,t,this.fieldTransforms)}}class EV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class dS{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=o,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new dS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.Mc(e),o}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.xc(),o}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return fS(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(wV(this.kc)&&I$.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class S${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||sw(e)}jc(e,t,r,o=!1){return new dS({kc:e,methodName:t,Kc:r,path:Zi.emptyPath(),Fc:!1,qc:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Up(n){const e=n._freezeSettings(),t=sw(n._databaseId);return new S$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hS(n,e,t,r,o,l={}){const h=n.jc(l.merge||l.mergeFields?2:0,e,t,o);NP("Data must be an object, but it was:",h,r);const p=IV(r,h);let v,C;if(l.merge)v=new c_(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const S=[];for(const x of l.mergeFields){const $=FP(e,x,t);if(!h.contains($))throw new xe(pe.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);SV(S,$)||S.push($)}v=new c_(S),C=h.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,C=h.fieldTransforms;return new D$(new ms(p),v,C)}class cw extends Vp{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cw}}function CV(n,e,t){return new dS({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class kP extends Vp{_toFieldTransform(e){return new WE(e.path,new g_)}isEqual(e){return e instanceof kP}}class A$ extends Vp{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=CV(this,e,!0),r=this.Qc.map(l=>jp(l,t)),o=new kp(r);return new WE(e.path,o)}isEqual(e){return this===e}}class M$ extends Vp{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=CV(this,e,!0),r=this.Qc.map(l=>jp(l,t)),o=new Op(r);return new WE(e.path,o)}isEqual(e){return this===e}}class x$ extends Vp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new m_(e.N,wB(e.N,this.Wc));return new WE(e.path,t)}isEqual(e){return this===e}}function OP(n,e,t,r){const o=n.jc(1,e,t);NP("Data must be an object, but it was:",o,r);const l=[],h=ms.empty();Mp(r,(v,C)=>{const S=LP(e,v,t);C=(0,qt.m9)(C);const x=o.Lc(S);if(C instanceof cw)l.push(S);else{const $=jp(C,x);null!=$&&(l.push(S),h.set(S,$))}});const p=new c_(l);return new EV(h,p,o.fieldTransforms)}function PP(n,e,t,r,o,l){const h=n.jc(1,e,t),p=[FP(e,r,t)],v=[o];if(l.length%2!=0)throw new xe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<l.length;$+=2)p.push(FP(e,l[$])),v.push(l[$+1]);const C=[],S=ms.empty();for(let $=p.length-1;$>=0;--$)if(!SV(C,p[$])){const H=p[$];let te=v[$];te=(0,qt.m9)(te);const me=h.Lc(H);if(te instanceof cw)C.push(H);else{const Se=jp(te,me);null!=Se&&(C.push(H),S.set(H,Se))}}const x=new c_(C);return new EV(S,x,h.fieldTransforms)}function TV(n,e,t,r=!1){return jp(t,n.jc(r?4:3,e))}function jp(n,e){if(DV(n=(0,qt.m9)(n)))return NP("Unsupported field value:",e,n),IV(n,e);if(n instanceof Vp)return function(t,r){if(!wV(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let p=jp(h,r.Bc(l));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wB(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Ti.fromDate(t);return{timestampValue:JE(r.N,o)}}if(t instanceof Ti){const o=new Ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:JE(r.N,o)}}if(t instanceof uS)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nc)return{bytesValue:HB(r.N,t._byteString)};if(t instanceof ir){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eO(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${lS(t)}`)}(n,e)}function IV(n,e){const t={};return sB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mp(n,(r,o)=>{const l=jp(o,e.Oc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function DV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ti||n instanceof uS||n instanceof Nc||n instanceof ir||n instanceof Vp)}function NP(n,e,t){if(!DV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lS(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function FP(n,e,t){if((e=(0,qt.m9)(e))instanceof nd)return e._internalPath;if("string"==typeof e)return LP(n,e);throw fS("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const R$=new RegExp("[~\\*/\\[\\]]");function LP(n,e,t){if(e.search(R$)>=0)throw fS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nd(...e.split("."))._internalPath}catch(r){throw fS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fS(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||h)&&(v+=" (found",l&&(v+=` in field ${r}`),h&&(v+=` in document ${o}`),v+=")"),new xe(pe.INVALID_ARGUMENT,p+n+v)}function SV(n,e){return n.some(t=>t.isEqual(e))}class uw{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new k$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class k$ extends uw{data(){return super.data()}}function pS(n,e){return"string"==typeof e?LP(n,e):e instanceof nd?e._internalPath:e._delegate._internalPath}class Hp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rd extends uw{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dw extends rd{data(e={}){return super.data(e)}}class Vh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Hp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dw(this._firestore,this._userDataWriter,r.key,r,new Hp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new dw(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Hp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const p=new dw(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Hp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,C=-1;return 0!==h.type&&(v=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:O$(h.type),doc:p,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function AV(n,e){return n instanceof rd&&e instanceof rd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vh&&e instanceof Vh&&n._firestore===e._firestore&&_V(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function MV(n){if(jD(n)&&0===n.explicitOrderBy.length)throw new xe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hw{}function Uh(n,...e){for(const t of e)n=t._apply(n);return n}class P$ extends hw{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=Up(e.firestore),r=function(o,l,h,p,v,C,S){let x;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new xe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on FieldPath.documentId().`);if("in"===C||"not-in"===C){NV(S,C);const H=[];for(const te of S)H.push(PV(p,o,te));x={arrayValue:{values:H}}}else x=PV(p,o,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||NV(S,C),x=TV(h,"where",S,"in"===C||"not-in"===C);const $=$s.create(v,C,x);return function(H,te){if(te.v()){const Se=Zk(H);if(null!==Se&&!Se.isEqual(te.field))throw new xe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${te.field.toString()}'`);const $e=Wk(H);null!==$e&&FV(0,te.field,$e)}const me=function(Se,$e){for(const at of Se.filters)if($e.indexOf(at.op)>=0)return at.op;return null}(H,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==me)throw new xe(pe.INVALID_ARGUMENT,me===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${me.toString()}' filters.`)}(o,$),$}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new ys(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Ju(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class F$ extends hw{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new xe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new h_(o,l);return function(p,v){if(null===Wk(p)){const C=Zk(p);null!==C&&FV(0,C,v.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new ys(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Ju(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class xV extends hw{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new ys(e.firestore,e.converter,_B(e._query,this.Yc,this.Xc))}}class RV extends hw{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=OV(e,this.type,this.Zc,this.ta);return new ys(e.firestore,e.converter,(o=t,new Ju((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class kV extends hw{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=OV(e,this.type,this.Zc,this.ta);return new ys(e.firestore,e.converter,(o=t,new Ju((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function OV(n,e,t,r){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof uw)return function(o,l,h,p,v){if(!p)throw new xe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const S of p_(o))if(S.field.isKeyField())C.push(ND(l,p.key));else{const x=p.data.field(S.field);if(Hk(x))throw new xe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const $=S.field.canonicalString();throw new xe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}C.push(x)}return new GE(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Up(n.firestore);return function(l,h,p,v,C,S){const x=l.explicitOrderBy;if(C.length>x.length)throw new xe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let H=0;H<C.length;H++){const te=C[H];if(x[H].field.isKeyField()){if("string"!=typeof te)throw new xe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof te}`);if(!Yk(l)&&-1!==te.indexOf("/"))throw new xe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${v}() must be a plain document ID, but '${te}' contains a slash.`);const me=l.path.child(Tn.fromString(te));if(!rt.isDocumentKey(me))throw new xe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${v}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const Se=new rt(me);$.push(ND(h,Se))}else{const me=TV(p,v,te);$.push(me)}}return new GE($,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function PV(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new xe(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yk(e)&&-1!==t.indexOf("/"))throw new xe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!rt.isDocumentKey(r))throw new xe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ND(n,new rt(r))}if(t instanceof ir)return ND(n,t._key);throw new xe(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${lS(t)}.`)}function NV(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function FV(n,e,t){if(!t.isEqual(e))throw new xe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class BP{convertValue(e,t="none"){switch(Rp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(u_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return Mp(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new uS(Yr(e.latitude),Yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=oB(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(UE(e));default:return null}}convertTimestamp(e){const t=xh(e);return new Ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);It(t2(r));const o=new L_(r.get(1),r.get(3)),l=new rt(r.popFirst(5));return o.isEqual(t)||Zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function gS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class G$ extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}class LV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Up(e)}set(e,t,r){this._verifyNotCommitted();const o=jh(e,this._firestore),l=gS(o.converter,t,r),h=hS(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Kr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=jh(e,this._firestore);let h;return h="string"==typeof(t=(0,qt.m9)(t))||t instanceof nd?PP(this._dataReader,"WriteBatch.update",l._key,t,r,o):OP(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jh(e,this._firestore);return this._mutations=this._mutations.concat(new YE(t._key,Kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jh(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new xe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $p extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function BV(n,e,t){n=fn(n,ir);const r=fn(n.firestore,_r),o=gS(n.converter,e,t);return B_(r,[hS(Up(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Kr.none())])}function VV(n,e,t,...r){n=fn(n,ir);const o=fn(n.firestore,_r),l=Up(o);let h;return h="string"==typeof(e=(0,qt.m9)(e))||e instanceof nd?PP(l,"updateDoc",n._key,e,t,r):OP(l,"updateDoc",n._key,e),B_(o,[h.toMutation(n._key,Kr.exists(!0))])}function UV(n,...e){var t,r,o;n=(0,qt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||RP(e[h])||(l=e[h],h++);const p={includeMetadataChanges:l.includeMetadataChanges};if(RP(e[h])){const x=e[h];e[h]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[h+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[h+2]=null===(o=x.complete)||void 0===o?void 0:o.bind(x)}let v,C,S;if(n instanceof ir)C=fn(n.firestore,_r),S=f_(n._key.path),v={next:x=>{e[h]&&e[h](VP(C,n,x))},error:e[h+1],complete:e[h+2]};else{const x=fn(n,ys);C=fn(x.firestore,_r),S=x._query;const $=new $p(C);v={next:H=>{e[h]&&e[h](new Vh(C,$,x,H))},error:e[h+1],complete:e[h+2]},MV(n._query)}return function(x,$,H,te){const me=new oS(te),Se=new YO($,me,H);return x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return GO(yield F_(x),Se)})),()=>{me.ec(),x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return qO(yield F_(x),Se)}))}}(ci(C),S,p,v)}function B_(n,e){return function(t,r){const o=new Ci;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(n,e,t){return eP.apply(this,arguments)}(yield AP(t),r,o)})),o.promise}(ci(n),e)}function VP(n,e,t){const r=t.docs.get(e._key),o=new $p(n);return new rd(n,o,e._key,r,new Hp(t.hasPendingWrites,t.fromCache),e.converter)}class eG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Up(e)}get(e){const t=jh(e,this._firestore),r=new G$(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ot();const l=o[0];if(l.isFoundDocument())return new uw(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new uw(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const o=jh(e,this._firestore),l=gS(o.converter,t,r),h=hS(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=jh(e,this._firestore);let h;return h="string"==typeof(t=(0,qt.m9)(t))||t instanceof nd?PP(this._dataReader,"Transaction.update",l._key,t,r,o):OP(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=jh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jh(e,this._firestore),r=new $p(this._firestore);return super.get(e).then(o=>new rd(this._firestore,r,t._key,o._document,new Hp(!1,!1),t.converter))}}function UP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function jV(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function HV(){if("undefined"==typeof atob)throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){a_=wh.SDK_VERSION,(0,wh._registerComponent)(new pp.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new _r(o,new Fj(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,wh.registerVersion)(eB,"3.3.1",n),(0,wh.registerVersion)(eB,"3.3.1","esm2017")}();class fw{constructor(e){this._delegate=e}static fromBase64String(e){return HV(),new fw(Nc.fromBase64String(e))}static fromUint8Array(e){return jV(),new fw(Nc.fromUint8Array(e))}toBase64(){return HV(),this._delegate.toBase64()}toUint8Array(){return jV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jP(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class uG{enableIndexedDbPersistence(e,t){return function(n,e){bV(n=fn(n,_r));const t=ci(n),r=n._freezeSettings(),o=new EP;return vV(t,o,new tV(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){bV(n=fn(n,_r));const e=ci(n),t=n._freezeSettings(),r=new EP;return vV(e,r,new J3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new xe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Il.bt())return Promise.resolve();const o=r+"main";yield Il.delete(o)}),function(r){return t.apply(this,arguments)})(fO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $V{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof L_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&BE("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const l=(n=fn(n,lw))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&BE("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=Wi.MOCK_USER;else{h=(0,qt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wi(v)}n._credentials=new Nj(new tB(h,p))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield sV(n),t=yield oV(n);return e.setNetworkEnabled(!0),function(r){const o=je(r);return o.Wr.delete(0),ow(o)}(t)}))}(ci(n=fn(n,_r)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield sV(n),t=yield oV(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(o){const l=je(o);l.Wr.add(0),yield M_(l),l.Hr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(ci(n=fn(n,_r)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uV("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Ci;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(n,e){return sP.apply(this,arguments)}(yield AP(e),t)})),t.promise}(ci(n=fn(n,_r)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new oS(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield F_(n),o=t,je(r).so.add(o),void o.next();var r,o})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield F_(n),o=t,void je(r).so.delete(o);var r,o}))}}(ci(n=fn(n,_r)),RP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new V_(this,gV(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Va(this,cS(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zs(this,function(n,e){if(n=fn(n,lw),xP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(n,null,(t=e,new Ju(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const r=yield(o=n,aS(o).then(l=>l.datastore));var o;new t$(n.asyncQueue,r,e,t).run()})),t.promise}(ci(n=fn(n,_r)),t=>e(new eG(n,t)))}(this._delegate,t=>e(new GV(this,t)))}batch(){return ci(this._delegate),new zV(new LV(this._delegate,e=>B_(this._delegate,e)))}loadBundle(e){return function(n,e){const t=ci(n=fn(n,_r)),r=new g$;return function(n,e,t,r){const o=function(l,h){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,C){if(v instanceof Uint8Array)return nV(v,C);if(v instanceof ArrayBuffer)return nV(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new X3(v,h);var v}(t,sw(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function(n,e,t){const r=je(n);var o;(o=(0,Ce.Z)(function*(l,h,p){try{const v=yield h.getMetadata();if(yield function($,H){const te=je($),me=Di(H.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",Se=>te.Je.getBundleMetadata(Se,H.id)).then(Se=>!!Se&&Se.createTime.compareTo(me)>=0)}(l.localStore,v))return yield h.close(),void p._completeWith(($=v,{taskState:"Success",documentsLoaded:$.totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}));p._updateProgress(z2(v));const C=new x3(v,l.localStore,h.N);let S=yield h.zo();for(;S;){const $=yield C.mo(S);$&&p._updateProgress($),S=yield h.zo()}const x=yield C.complete();yield td(l,x.En,void 0),yield function($,H){const te=je($);return te.persistence.runTransaction("Save bundle","readwrite",me=>te.Je.saveBundleMetadata(me,H))}(l.localStore,v),p._completeWith(x.progress)}catch(v){BE("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v)}var $}),function(l,h,p){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield AP(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const o=je(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Je.getNamedQuery(l,r))}(yield SP(n),e)}))}(ci(n=fn(n,_r)),e).then(t=>t?new ys(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zs(this,t):null)}}class mS extends BP{constructor(e){super(),this.firestore=e}convertBytes(e){return new fw(new Nc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Va.forKey(t,this.firestore,null)}}class GV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}get(e){const t=zp(e);return this._delegate.get(t).then(r=>new pw(this._firestore,new rd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=zp(e);return r?(UP("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=zp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}}class zV{constructor(e){this._delegate=e}set(e,t,r){const o=zp(e);return r?(UP("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=zp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new dw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Gp(e,new mS(e),t),o.set(t,l)),l}}Gp.INSTANCES=new WeakMap;class Va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Va(t,new ir(t._delegate,r,new rt(e)))}static forKey(e,t,r){return new Va(t,new ir(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new V_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new V_(this.firestore,gV(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof ir&&mV(this._delegate,e)}set(e,t){t=UP("DocumentReference.set",t);try{return t?BV(this._delegate,e,t):BV(this._delegate,e)}catch(r){throw Gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?VV(this._delegate,e):VV(this._delegate,e,t,...r)}catch(o){throw Gs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return B_(fn(n.firestore,_r),[new YE(n._key,Kr.none())])}(this._delegate)}onSnapshot(...e){const t=qV(e),r=WV(e,o=>new pw(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return UV(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=fn(n,ir);const e=fn(n.firestore,_r),t=ci(e),r=new $p(e);return function(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,l,h){try{const p=yield function(v,C){const S=je(v);return S.persistence.runTransaction("read document","readonly",x=>S.Qn.An(x,C))}(o,l);p.isFoundDocument()?h.resolve(p):p.isNoDocument()?h.resolve(null):h.reject(new xe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=k_(p,`Failed to get document '${l} from cache`);h.reject(v)}}),function(o,l,h){return r.apply(this,arguments)})(yield SP(n),e,t);var r})),t.promise}(t,n._key).then(o=>new rd(e,r,n._key,o,new Hp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=fn(n,ir);const e=fn(n.firestore,_r);return aV(ci(e),n._key,{source:"server"}).then(t=>VP(e,n,t))}(this._delegate):function(n){n=fn(n,ir);const e=fn(n.firestore,_r);return aV(ci(e),n._key).then(t=>VP(e,n,t))}(this._delegate),t.then(r=>new pw(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Va(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function qV(n){for(const e of n)if("object"==typeof e&&!jP(e))return e;return{}}function WV(n,e){var t,r;let o;return o=jP(n[0])?n[0]:jP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AV(this._delegate,e._delegate)}}class gw extends pw{data(e){const t=this._delegate.data(e);return function(n,e){n||ot()}(void 0!==t),t}}class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}where(e,t,r){try{return new zs(this.firestore,Uh(this._delegate,function(n,e,t){const r=e,o=pS("where",n);return new P$(o,r,t)}(e,t,r)))}catch(o){throw Gs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zs(this.firestore,Uh(this._delegate,function(n,e="asc"){const t=e,r=pS("orderBy",n);return new F$(r,t)}(e,t)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zs(this.firestore,Uh(this._delegate,function(n){return fV("limit",n),new xV("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zs(this.firestore,Uh(this._delegate,function(n){return fV("limitToLast",n),new xV("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zs(this.firestore,Uh(this._delegate,function(...n){return new RV("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zs(this.firestore,Uh(this._delegate,function(...n){return new RV("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zs(this.firestore,Uh(this._delegate,function(...n){return new kV("endBefore",n,!0)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zs(this.firestore,Uh(this._delegate,function(...n){return new kV("endAt",n,!1)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return _V(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=fn(n,ys);const e=fn(n.firestore,_r),t=ci(e),r=new $p(e);return function(n,e){const t=new Ci;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,l,h){try{const p=yield eS(o,l,!0),v=new Z2(l,p.Gn),C=v.bo(p.documents),S=v.applyChanges(C,!1);h.resolve(S.snapshot)}catch(p){const v=k_(p,`Failed to execute query '${l} against cache`);h.reject(v)}}),function(o,l,h){return r.apply(this,arguments)})(yield SP(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Vh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=fn(n,ys);const e=fn(n.firestore,_r),t=ci(e),r=new $p(e);return lV(t,n._query,{source:"server"}).then(o=>new Vh(e,r,n,o))}(this._delegate):function(n){n=fn(n,ys);const e=fn(n.firestore,_r),t=ci(e),r=new $p(e);return MV(n._query),lV(t,n._query).then(o=>new Vh(e,r,n,o))}(this._delegate),t.then(r=>new HP(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=qV(e),r=WV(e,o=>new HP(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return UV(this._delegate,t,r)}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}class hG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class HP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new gw(this._firestore,r))})}isEqual(e){return AV(this._delegate,e._delegate)}}class V_ extends zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Va(this.firestore,e):null}doc(e){try{return new Va(this.firestore,void 0===e?cS(this._delegate):cS(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=fn(n.firestore,_r),r=cS(n),o=gS(n.converter,e);return B_(t,[hS(Up(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Va(this.firestore,t))}isEqual(e){return mV(this._delegate,e._delegate)}withConverter(e){return new V_(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function zp(n){return fn(n,ir)}class $P{constructor(...e){this._delegate=new nd(...e)}static documentId(){return new $P(Zi.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof nd&&this._delegate._internalPath.isEqual(e._internalPath)}}class qp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new kP("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new qp(e)}static delete(){const e=new cw("deleteField");return e._methodName="FieldValue.delete",new qp(e)}static arrayUnion(...e){const t=function(...n){return new A$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new qp(t)}static arrayRemove(...e){const t=function(...n){return new M$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new qp(t)}static increment(e){const t=function(n){return new x$("increment",n)}(e);return t._methodName="FieldValue.increment",new qp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fG={Firestore:$V,GeoPoint:uS,Timestamp:Ti,Blob:fw,Transaction:GV,WriteBatch:zV,DocumentReference:Va,DocumentSnapshot:pw,Query:zs,QueryDocumentSnapshot:gw,QuerySnapshot:HP,CollectionReference:V_,FieldPath:$P,FieldValue:qp,setLogLevel:function(n){!function(n){Mh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function ZV(n,e){return function(n,e=Mg.z){return new St.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function GP(n,e){return ZV(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function _S(n,e){return GP(n,e).pipe(yi(void 0),Ty(),(0,gt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,p)=>{const v=o.find(S=>S.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:h}})}),l}))}function YV(n,e,t){return _S(n,t).pipe(zl((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),bf(),(0,gt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function zP(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function KV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new pp.wA("firestore-compat",t=>((e,t)=>new $V(e,t,new uG))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},fG)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.8")}(sD.Z);class QV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=_S(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(yi(void 0),Ty(),Bn(([r,o])=>o.length>0||!r),(0,gt.U)(([r,o])=>o),ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(zl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=KV(e);return YV(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return GP(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ai.iC)}get(e){return(0,kn.D)(this.query.get(e)).pipe(ai.iC)}add(e){return this.ref.add(e)}doc(e){return new JV(this.ref.doc(e),this.afs)}}class JV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=tU(r,t);return new QV(o,l,this.afs)}snapshotChanges(){return function(n,e){return ZV(n,e).pipe(yi(void 0),Ty(),(0,gt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,kn.D)(this.ref.get(e)).pipe(ai.iC)}}class bG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_S(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Bn(t=>t.length>0),ai.iC):_S(this.query,this.afs.schedulers.outsideAngular).pipe(ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(zl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=KV(e);return YV(this.query,t,this.afs.schedulers.outsideAngular).pipe(ai.iC)}valueChanges(e={}){return GP(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),ai.iC)}get(e){return(0,kn.D)(this.query.get(e)).pipe(ai.iC)}}const XV=new u.OlP("angularfire2.enableFirestorePersistence"),eU=new u.OlP("angularfire2.firestore.persistenceSettings"),EG=new u.OlP("angularfire2.firestore.settings"),wG=new u.OlP("angularfire2.firestore.use-emulator");function tU(n,e=(t=>t)){return{query:e(n),ref:n}}let CG=(()=>{class n{constructor(t,r,o,l,h,p,v,C,S,x,$,H,te,me,Se,$e,at){this.schedulers=v;const Nt=(0,jo.on)(t,p,r),dt=S;x&&iD(Nt,p,$,te,me,Se,H,$e),[this.firestore,this.persistenceEnabled$]=(0,jo.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Fn=p.runOutsideAngular(()=>Nt.firestore());if(l&&Fn.settings(l),dt&&Fn.useEmulator(...dt),o&&!Jo(h)){const yr=()=>{try{return(0,kn.D)(Fn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Qi){return"undefined"!=typeof console&&console.warn(Qi),(0,Ue.of)(!1)}};return[Fn,p.runOutsideAngular(yr)]}return[Fn,(0,Ue.of)(!1)]},[l,dt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=tU(o,r),p=this.schedulers.ngZone.run(()=>l);return new QV(p,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new bG(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new JV(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jo.Dh),u.LFG(jo.xv,8),u.LFG(XV,8),u.LFG(EG,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ai.HU),u.LFG(eU,8),u.LFG(wG,8),u.LFG(Xm,8),u.LFG(tD,8),u.LFG(nD,8),u.LFG(wl,8),u.LFG(Dh,8),u.LFG(Jm,8),u.LFG(rD,8),u.LFG(dE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TG=(()=>{class n{constructor(){pE.Z.registerVersion("angularfire",ai.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:XV,useValue:!0},{provide:eU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[CG]}),n})();const nU_firebase={apiKey:"AIzaSyBL-CVooW3mv682qfXbO8kFXaOPmT5gEks",authDomain:"authentication-fbc3d.firebaseapp.com",projectId:"authentication-fbc3d",storageBucket:"authentication-fbc3d.appspot.com",messagingSenderId:"792044941321",appId:"1:792044941321:web:0103917cf8b3470441c8d8",measurementId:"G-5D5T1M70RW"};var IG=F(2476);let DG=(()=>{class n{constructor(t){this.afAuth=t,this.LoginSuccess=!1}GoogleAuth(){return this.AuthLogin(new IG.N)}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(r=>{console.log("You have been successfully logged in!"),this.LoginSuccess=!0}).catch(r=>{this.loginFailed=!0,console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[uI]}),n.\u0275inj=u.cJS({providers:[DG],imports:[[iu,qS,Hm,wR,RF,lT,Px,eR,uR,JT,vF,B1,jo.hO.initializeApp(nU_firebase),gE,TG]]}),n})();(0,u.G48)(),Io().bootstrapModule(SG).catch(n=>console.error(n))},3394:(Ye,we,F)=>{"use strict";F.d(we,{Z:()=>De});var u=F(3854),j=F(3910),P=F(8026),le=F(5422);class ce{constructor(fe,ae){this._delegate=fe,this.firebase=ae,(0,P._addComponent)(fe,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,ae=P._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(fe);return!Pe.isInitialized()&&"EXPLICIT"===(null===(_e=Pe.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:ae})}_removeServiceInstance(fe,ae=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(ae)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function ee(){const ve=function(ve){const fe={},ae={__esModule:!0,initializeApp:function(bt,Cn={}){const Tt=P.initializeApp(bt,Cn);if((0,u.r3)(fe,Tt.name))return fe[Tt.name];const _t=new ve(Tt,ae);return fe[Tt.name]=_t,_t},app:Pe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function(bt){const Cn=bt.name,Tt=Cn.replace("-compat","");if(P._registerComponent(bt)&&"PUBLIC"===bt.type){const _t=(Gt=Pe())=>{if("function"!=typeof Gt[Tt])throw re.create("invalid-app-argument",{appName:Cn});return Gt[Tt]()};void 0!==bt.serviceProps&&(0,u.ZB)(_t,bt.serviceProps),ae[Tt]=_t,ve.prototype[Tt]=function(...Gt){return this._getService.bind(this,Cn).apply(this,bt.multipleInstances?Gt:[])}}return"PUBLIC"===bt.type?ae[Tt]:null},removeApp:function(bt){delete fe[bt]},useAsService:function(bt,Cn){return"serverAuth"===Cn?null:Cn},modularAPIs:P}};function Pe(bt){if(!(0,u.r3)(fe,bt=bt||P._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:bt});return fe[bt]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function(){return Object.keys(fe).map(bt=>fe[bt])}}),Pe.App=ve,ae}(ce);return ve.INTERNAL=Object.assign(Object.assign({},ve.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function(ae){(0,u.ZB)(ve,ae)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ve}(),U=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=L;(0,P.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:(Ye,we,F)=>{"use strict";F.r(we),F.d(we,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>Xi,_addComponent:()=>es,_addOrOverwriteComponent:()=>vs,_apps:()=>Xt,_clearComponents:()=>pn,_components:()=>Ht,_getProvider:()=>on,_registerComponent:()=>ui,_removeServiceInstance:()=>bs,deleteApp:()=>Un,getApp:()=>Re,getApps:()=>En,initializeApp:()=>Mi,onLog:()=>zt,registerVersion:()=>Ve,setLogLevel:()=>hr});var u=F(8239),j=F(3910),P=F(5422),le=F(3854);class ce{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function(it){const nt=it.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(Mt)){const Ot=Mt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(Mt=>Mt).join(" ")}}const re="@firebase/app",X="0.7.9",ee=new P.Yd("@firebase/app"),Xi="[DEFAULT]",po={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,Ht=new Map;function es(it,nt){try{it.container.addComponent(nt)}catch(Mt){ee.debug(`Component ${nt.name} failed to register with FirebaseApp ${it.name}`,Mt)}}function vs(it,nt){it.container.addOrOverwriteComponent(nt)}function ui(it){const nt=it.name;if(Ht.has(nt))return ee.debug(`There were multiple attempts to register component ${nt}.`),!1;Ht.set(nt,it);for(const Mt of Xt.values())es(Mt,it);return!0}function on(it,nt){return it.container.getProvider(nt)}function bs(it,nt,Mt=Xi){on(it,nt).clearInstance(Mt)}function pn(){Ht.clear()}const Qt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Es{constructor(nt,Mt,Ot){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const di="9.5.0";function Mi(it,nt={}){"object"!=typeof nt&&(nt={name:nt});const Mt=Object.assign({name:Xi,automaticDataCollectionEnabled:!1},nt),Ot=Mt.name;if("string"!=typeof Ot||!Ot)throw Qt.create("bad-app-name",{appName:String(Ot)});const Hn=Xt.get(Ot);if(Hn){if((0,le.vZ)(it,Hn.options)&&(0,le.vZ)(Mt,Hn.config))return Hn;throw Qt.create("duplicate-app",{appName:Ot})}const tn=new j.H0(Ot);for(const et of Ht.values())tn.addComponent(et);const Oe=new Es(it,Mt,tn);return Xt.set(Ot,Oe),Oe}function Re(it=Xi){const nt=Xt.get(it);if(!nt)throw Qt.create("no-app",{appName:it});return nt}function En(){return Array.from(Xt.values())}function Un(it){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(it){const nt=it.name;Xt.has(nt)&&(Xt.delete(nt),yield Promise.all(it.container.getProviders().map(Mt=>Mt.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Ve(it,nt,Mt){var Ot;let Hn=null!==(Ot=po[it])&&void 0!==Ot?Ot:it;Mt&&(Hn+=`-${Mt}`);const tn=Hn.match(/\s|\//),Oe=nt.match(/\s|\//);if(tn||Oe){const et=[`Unable to register library "${Hn}" with version "${nt}":`];return tn&&et.push(`library name "${Hn}" contains illegal characters (whitespace or "/")`),tn&&Oe&&et.push("and"),Oe&&et.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void ee.warn(et.join(" "))}ui(new j.wA(`${Hn}-version`,()=>({library:Hn,version:nt}),"VERSION"))}function zt(it,nt){if(null!==it&&"function"!=typeof it)throw Qt.create("invalid-log-argument");(0,P.Am)(it,nt)}function hr(it){(0,P.Ub)(it)}ui(new j.wA("platform-logger",nt=>new ce(nt),"PRIVATE")),Ve(re,X,""),Ve(re,X,"esm2017"),Ve("fire-js","")},3910:(Ye,we,F)=>{"use strict";F.d(we,{wA:()=>P,H0:()=>X});var u=F(8239),j=F(3854);class P{constructor(L,U,B){this.name=L,this.instanceFactory=U,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const le="[DEFAULT]";class ce{constructor(L,U){this.name=L,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const U=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(U)){const B=new j.BH;if(this.instancesDeferred.set(U,B),this.isInitialized(U)||this.shouldAutoInitialize())try{const oe=this.getOrInitializeService({instanceIdentifier:U});oe&&B.resolve(oe)}catch(oe){}}return this.instancesDeferred.get(U).promise}getImmediate(L){var U;const B=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),oe=null!==(U=null==L?void 0:L.optional)&&void 0!==U&&U;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(ge){if(oe)return null;throw ge}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(U){}for(const[U,B]of this.instancesDeferred.entries()){const oe=this.normalizeInstanceIdentifier(U);try{const ge=this.getOrInitializeService({instanceIdentifier:oe});B.resolve(ge)}catch(ge){}}}}clearInstance(L=le){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,u.Z)(function*(){const U=Array.from(L.instances.values());yield Promise.all([...U.filter(B=>"INTERNAL"in B).map(B=>B.INTERNAL.delete()),...U.filter(B=>"_delete"in B).map(B=>B._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=le){return this.instances.has(L)}getOptions(L=le){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:U={}}=L,B=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(B))throw Error(`${this.name}(${B}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const oe=this.getOrInitializeService({instanceIdentifier:B,options:U});for(const[ge,De]of this.instancesDeferred.entries())B===this.normalizeInstanceIdentifier(ge)&&De.resolve(oe);return oe}onInit(L,U){var B;const oe=this.normalizeInstanceIdentifier(U),ge=null!==(B=this.onInitCallbacks.get(oe))&&void 0!==B?B:new Set;ge.add(L),this.onInitCallbacks.set(oe,ge);const De=this.instances.get(oe);return De&&L(De,oe),()=>{ge.delete(L)}}invokeOnInitCallbacks(L,U){const B=this.onInitCallbacks.get(U);if(B)for(const oe of B)try{oe(L,U)}catch(ge){}}getOrInitializeService({instanceIdentifier:L,options:U={}}){let B=this.instances.get(L);if(!B&&this.component&&(B=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=L,ee===le?void 0:ee),options:U}),this.instances.set(L,B),this.instancesOptions.set(L,U),this.invokeOnInitCallbacks(B,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,B)}catch(oe){}var ee;return B||null}normalizeInstanceIdentifier(L=le){return this.component?this.component.multipleInstances?L:le:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const U=this.getProvider(L.name);if(U.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);U.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const U=new ce(L,this);return this.providers.set(L,U),U}getProviders(){return Array.from(this.providers.values())}}},5422:(Ye,we,F)=>{"use strict";F.d(we,{in:()=>j,Yd:()=>re,Ub:()=>X,Am:()=>ee});const u=[];var j=(()=>{return(L=j||(j={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",j;var L})();const P={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,ce={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},K=(L,U,...B)=>{if(U<L.logLevel)return;const oe=(new Date).toISOString(),ge=ce[U];if(!ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[ge](`[${oe}]  ${L.name}:`,...B)};class re{constructor(U){this.name=U,this._logLevel=le,this._logHandler=K,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in j))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?P[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...U),this._logHandler(this,j.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...U),this._logHandler(this,j.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,j.INFO,...U),this._logHandler(this,j.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,j.WARN,...U),this._logHandler(this,j.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...U),this._logHandler(this,j.ERROR,...U)}}function X(L){u.forEach(U=>{U.setLogLevel(L)})}function ee(L,U){for(const B of u){let oe=null;U&&U.level&&(oe=P[U.level]),B.userLogHandler=null===L?null:(ge,De,...ve)=>{const fe=ve.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch(_e){return null}}).filter(ae=>ae).join(" ");De>=(null!=oe?oe:ge.logLevel)&&L({level:j[De].toLowerCase(),message:fe,args:ve,type:ge.name})}}}},8239:(Ye,we,F)=>{"use strict";function u(P,le,ce,K,re,X,ee){try{var L=P[X](ee),U=L.value}catch(B){return void ce(B)}L.done?le(U):Promise.resolve(U).then(K,re)}function j(P){return function(){var le=this,ce=arguments;return new Promise(function(K,re){var X=P.apply(le,ce);function ee(U){u(X,K,re,ee,L,"next",U)}function L(U){u(X,K,re,ee,L,"throw",U)}ee(void 0)})}}F.d(we,{Z:()=>j})}},Ye=>{Ye(Ye.s=1198)}]);